/tmp/digits_bench.toml contains:
salt_update_cache = true
num_message_encodes = 1
use_lsh = false
window_size = 1
load_generator = "uniform"
input_type = "float"
request_generator = "cached_updates"
results_path = "/tmp/benchmarking_logs"
num_update_workers = 1
input_length = 784
num_benchmark_requests = 300000
redis_ip = "redis"
mnist_path = "/mnist_data/test.data"
bench_batch_size = 200
target_qps = 10000
name = "caching_off_window_1_160907-095133"
wait_to_end = false
salt_cache = true
num_predict_workers = 8
redis_port = 6379
INFO:clipper_benchmarks: Args { flag_conf: "/tmp/digits_bench.toml", cmd_digits: true }
cache_size = 1000000
slo_micros = 20000
correction_policy = "logistic_regression"
send_updates = true
[[models]]
version = 1
num_outputs = 1
name = "logistic_reg"
addresses = [ "logistic_reg_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "rf_d16"
addresses = [ "rf_d16_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "spark_svm"
addresses = [ "spark_svm_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "linear_svm"
addresses = [ "linear_svm_r0:6001",]
[batching]
sample_size = 500
opt_addr = "quantilereg:7777"
strategy = "learned"
INFO:clipper_benchmarks: MNIST data loaded: 10000 points
/tmp/digits_bench.toml contains:
salt_update_cache = true
num_message_encodes = 1
use_lsh = false
window_size = 1
load_generator = "uniform"
input_type = "float"
request_generator = "cached_updates"
results_path = "/tmp/benchmarking_logs"
num_update_workers = 1
input_length = 784
num_benchmark_requests = 300000
redis_ip = "redis"
mnist_path = "/mnist_data/test.data"
bench_batch_size = 200
target_qps = 10000
name = "caching_off_window_1_160907-095133"
wait_to_end = false
salt_cache = true
num_predict_workers = 8
redis_port = 6379
cache_size = 1000000
slo_micros = 20000
correction_policy = "logistic_regression"
send_updates = true
[[models]]
version = 1
num_outputs = 1
name = "logistic_reg"
addresses = [ "logistic_reg_r0:6001",]
[[models]]
INFO:clipper::configuration: logistic_reg_r0:6001
version = 1
num_outputs = 1
name = "rf_d16"
addresses = [ "rf_d16_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "spark_svm"
addresses = [ "spark_svm_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "linear_svm"
addresses = [ "linear_svm_r0:6001",]
[batching]
sample_size = 500
opt_addr = "quantilereg:7777"
strategy = "learned"
INFO:clipper::configuration: rf_d16_r0:6001
INFO:clipper::configuration: spark_svm_r0:6001
INFO:clipper::configuration: linear_svm_r0:6001
INFO:clipper::configuration: quantilereg:7777
INFO:clipper::batching: Connected to logistic_reg model wrapper at V4(172.21.0.6:6001)
INFO:clipper::batching: Connected to rf_d16 model wrapper at V4(172.21.0.7:6001)
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Connected to linear_svm model wrapper at V4(172.21.0.2:6001)
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting input prediction worker 0 
INFO:clipper::server: starting input prediction worker 1 
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting prediction worker 0 output thread with 20 ms SLO
INFO:clipper::server: starting prediction worker 1 output thread with 20 ms SLO
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting input prediction worker 2 
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting input prediction worker 3 
INFO:clipper::server: starting prediction worker 2 output thread with 20 ms SLO
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting input prediction worker 4 
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting input prediction worker 5 
INFO:clipper::server: starting prediction worker 3 output thread with 20 ms SLO
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting prediction worker 4 output thread with 20 ms SLO
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting input prediction worker 6 
INFO:clipper::server: starting prediction worker 5 output thread with 20 ms SLO
INFO:clipper::server: starting input prediction worker 7 
INFO:clipper::server: starting prediction worker 7 output thread with 20 ms SLO
INFO:clipper_benchmarks: starting benchmark
INFO:clipper::cmt: RedisUpdateTable connection string redis://redis:6379/2
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting prediction worker 6 output thread with 20 ms SLO
INFO:clipper::server: starting update worker 0
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Connected to spark_svm model wrapper at V4(172.21.0.5:6001)
INFO:clipper::server: Error in getting correction state for update: failed to fill whole buffer
INFO:clipper::server: Creating model state for new user: 1
INFO:clipper_benchmarks: {
  "name": "caching_off_window_1_160907-095133",
  "counters": [
    {
      "name": "prediction_counter",
      "count": 0
    },
    {
      "name": "queued_predictions",
      "count": 0
    },
    {
      "name": "update_counter",
      "count": 1
    },
    {
      "name": "queued_updates",
      "count": 0
    },
    {
      "name": "logistic_reg:prediction_counter",
      "count": 400
    },
    {
      "name": "rf_d16:prediction_counter",
      "count": 400
    },
    {
      "name": "spark_svm:prediction_counter",
      "count": 400
    },
    {
      "name": "linear_svm:prediction_counter",
      "count": 400
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:alpha_gauge",
      "count": 0
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:beta_gauge",
      "count": 0
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:max_batch_size_gauge",
      "count": 0
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:max_thru_gauge",
      "count": 0
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:base_thru_gauge",
      "count": 0
    },
    {
      "name": "rf_d16:172.21.0.7:6001:alpha_gauge",
      "count": 0
    },
    {
      "name": "rf_d16:172.21.0.7:6001:beta_gauge",
      "count": 0
    },
    {
      "name": "rf_d16:172.21.0.7:6001:max_batch_size_gauge",
      "count": 0
    },
    {
      "name": "rf_d16:172.21.0.7:6001:max_thru_gauge",
      "count": 0
    },
    {
      "name": "rf_d16:172.21.0.7:6001:base_thru_gauge",
      "count": 0
    },
    {
      "name": "linear_svm:172.21.0.2:6001:alpha_gauge",
      "count": 0
    },
    {
      "name": "linear_svm:172.21.0.2:6001:beta_gauge",
      "count": 0
    },
    {
      "name": "linear_svm:172.21.0.2:6001:max_batch_size_gauge",
      "count": 0
    },
    {
      "name": "linear_svm:172.21.0.2:6001:max_thru_gauge",
      "count": 0
    },
    {
      "name": "linear_svm:172.21.0.2:6001:base_thru_gauge",
      "count": 0
    },
    {
      "name": "pred_ones_counter",
      "count": 0
    },
    {
      "name": "pred_zeros_counter",
      "count": 0
    },
    {
      "name": "spark_svm:172.21.0.5:6001:alpha_gauge",
      "count": 0
    },
    {
      "name": "spark_svm:172.21.0.5:6001:beta_gauge",
      "count": 0
    },
    {
      "name": "spark_svm:172.21.0.5:6001:max_batch_size_gauge",
      "count": 0
    },
    {
      "name": "spark_svm:172.21.0.5:6001:max_thru_gauge",
      "count": 0
    },
    {
      "name": "spark_svm:172.21.0.5:6001:base_thru_gauge",
      "count": 0
    }
  ],
  "ratio_counters": [
    {
      "name": "prediction accuracy ratio",
      "ratio": null
    },
    {
      "name": "cache_hits",
      "ratio": null
    },
    {
      "name": "update_cache_hits",
      "ratio": 0.0
    },
    {
      "name": "digits accuracy ratio",
      "ratio": null
    }
  ],
  "histograms": [
    {
      "name": "prediction_latency",
      "min": 0,
      "max": 0,
      "mean": 0.0,
      "std": 0.0,
      "p95": 0.0,
      "p99": 0.0,
      "p50": 0.0
    },
    {
      "name": "in_time_predictions",
      "min": 0,
      "max": 0,
      "mean": 0.0,
      "std": 0.0,
      "p95": 0.0,
      "p99": 0.0,
      "p50": 0.0
    },
    {
      "name": "update_latency",
      "min": 223609,
      "max": 223609,
      "mean": 223609.0,
      "std": null,
      "p95": 223609.0,
      "p99": 223609.0,
      "p50": 223609.0
    },
    {
      "name": "logistic_reg:model_latency",
      "min": 1323,
      "max": 6064,
      "mean": 4330.1975,
      "std": 1202.5446780683993,
      "p95": 6064.0,
      "p99": 6064.0,
      "p50": 4414.0
    },
    {
      "name": "logistic_reg:model_batch_size",
      "min": 1,
      "max": 39,
      "mean": 20.0,
      "std": 11.832159566199233,
      "p95": 38.9,
      "p99": 39.0,
      "p50": 20.0
    },
    {
      "name": "rf_d16:model_latency",
      "min": 7433,
      "max": 8752,
      "mean": 8258.145,
      "std": 308.21078614601017,
      "p95": 8752.0,
      "p99": 8752.0,
      "p50": 8319.0
    },
    {
      "name": "rf_d16:model_batch_size",
      "min": 1,
      "max": 39,
      "mean": 20.0,
      "std": 11.832159566199233,
      "p95": 38.9,
      "p99": 39.0,
      "p50": 20.0
    },
    {
      "name": "spark_svm:model_latency",
      "min": 847,
      "max": 6422,
      "mean": 4848.9,
      "std": 1355.4348912289757,
      "p95": 6422.0,
      "p99": 6422.0,
      "p50": 5293.0
    },
    {
      "name": "spark_svm:model_batch_size",
      "min": 1,
      "max": 39,
      "mean": 20.0,
      "std": 11.832159566199233,
      "p95": 38.9,
      "p99": 39.0,
      "p50": 20.0
    },
    {
      "name": "linear_svm:model_latency",
      "min": 1332,
      "max": 6548,
      "mean": 4492.8425,
      "std": 1413.464391720006,
      "p95": 6548.0,
      "p99": 6548.0,
      "p50": 4540.0
    },
    {
      "name": "linear_svm:model_batch_size",
      "min": 1,
      "max": 39,
      "mean": 20.0,
      "std": 11.832159566199233,
      "p95": 38.9,
      "p99": 39.0,
      "p50": 20.0
    }
  ],
  "meters": [
    {
      "name": "prediction_thruput",
      "rate": 0.0,
      "unit": "events per second"
    },
    {
      "name": "update_thruput",
      "rate": 0.04993820646332228,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:model_thruput",
      "rate": 19.97529754828691,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:model_thruput",
      "rate": 19.975844210388588,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:model_thruput",
      "rate": 19.97587014765514,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:model_thruput",
      "rate": 19.975997839795597,
      "unit": "events per second"
    }
  ]
}
INFO:clipper_benchmarks: SLEEP TIME: 20
INFO:clipper_benchmarks: Submitted 0 requests
INFO:clipper_benchmarks: Submitted 0 requests
INFO:clipper::batching: Connected to opt server at V4(172.21.0.3:7777)
INFO:clipper::batching: linear_svm BATCHER: Updated batching model: max_batch_size: 107, alpha = 181.4545454891792, beta = 523.6363617284907
INFO:clipper::batching: linear_svm BATCHER: Predicted max thruput: 5366.294019540555, baseline: 1418.25683718722, increase: 3.783725118634606
INFO:clipper::batching: Connected to opt server at V4(172.21.0.3:7777)
INFO:clipper::batching: logistic_reg BATCHER: Updated batching model: max_batch_size: 133, alpha = 145.0384615667504, beta = 697.5769217198172
INFO:clipper::batching: logistic_reg BATCHER: Predicted max thruput: 6654.094826785455, baseline: 1186.7810864069013, increase: 5.606842662896992
INFO:clipper::batching: Connected to opt server at V4(172.21.0.3:7777)
INFO:clipper::batching: spark_svm BATCHER: Updated batching model: max_batch_size: 94, alpha = 207.21428572522117, beta = 563.3571421047928
INFO:clipper::batching: spark_svm BATCHER: Predicted max thruput: 4690.2676944693485, baseline: 1297.7382289089978, increase: 3.6141862742322335
INFO:clipper_benchmarks: Submitted 20000 requests
INFO:clipper::batching: Connected to opt server at V4(172.21.0.3:7777)
INFO:clipper::batching: rf_d16 BATCHER: Updated batching model: max_batch_size: 170, alpha = 75.21816027553527, beta = 7205.345519676424
INFO:clipper::batching: rf_d16 BATCHER: Predicted max thruput: 8503.217291529907, baseline: 137.3520023942155, increase: 61.90821497545211
INFO:clipper_benchmarks: {
  "name": "caching_off_window_1_160907-095133",
  "counters": [
    {
      "name": "prediction_counter",
      "count": 38781
    },
    {
      "name": "queued_predictions",
      "count": 52
    },
    {
      "name": "update_counter",
      "count": 17073
    },
    {
      "name": "queued_updates",
      "count": 14284
    },
    {
      "name": "logistic_reg:prediction_counter",
      "count": 73049
    },
    {
      "name": "rf_d16:prediction_counter",
      "count": 73007
    },
    {
      "name": "spark_svm:prediction_counter",
      "count": 73049
    },
    {
      "name": "linear_svm:prediction_counter",
      "count": 73049
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:alpha_gauge",
      "count": 145038
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:beta_gauge",
      "count": 697577
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:max_batch_size_gauge",
      "count": 133
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:max_thru_gauge",
      "count": 6654095
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:base_thru_gauge",
      "count": 1186781
    },
    {
      "name": "rf_d16:172.21.0.7:6001:alpha_gauge",
      "count": 75218
    },
    {
      "name": "rf_d16:172.21.0.7:6001:beta_gauge",
      "count": 7205346
    },
    {
      "name": "rf_d16:172.21.0.7:6001:max_batch_size_gauge",
      "count": 170
    },
    {
      "name": "rf_d16:172.21.0.7:6001:max_thru_gauge",
      "count": 8503217
    },
    {
      "name": "rf_d16:172.21.0.7:6001:base_thru_gauge",
      "count": 137352
    },
    {
      "name": "linear_svm:172.21.0.2:6001:alpha_gauge",
      "count": 181455
    },
    {
      "name": "linear_svm:172.21.0.2:6001:beta_gauge",
      "count": 523636
    },
    {
      "name": "linear_svm:172.21.0.2:6001:max_batch_size_gauge",
      "count": 107
    },
    {
      "name": "linear_svm:172.21.0.2:6001:max_thru_gauge",
      "count": 5366294
    },
    {
      "name": "linear_svm:172.21.0.2:6001:base_thru_gauge",
      "count": 1418257
    },
    {
      "name": "pred_ones_counter",
      "count": 38683
    },
    {
      "name": "pred_zeros_counter",
      "count": 100
    },
    {
      "name": "spark_svm:172.21.0.5:6001:alpha_gauge",
      "count": 207214
    },
    {
      "name": "spark_svm:172.21.0.5:6001:beta_gauge",
      "count": 563357
    },
    {
      "name": "spark_svm:172.21.0.5:6001:max_batch_size_gauge",
      "count": 94
    },
    {
      "name": "spark_svm:172.21.0.5:6001:max_thru_gauge",
      "count": 4690268
    },
    {
      "name": "spark_svm:172.21.0.5:6001:base_thru_gauge",
      "count": 1297738
    }
  ],
  "ratio_counters": [
    {
      "name": "prediction accuracy ratio",
      "ratio": null
    },
    {
      "name": "cache_hits",
      "ratio": 0.0
    },
    {
      "name": "update_cache_hits",
      "ratio": 0.0
    },
    {
      "name": "digits accuracy ratio",
      "ratio": 0.9974215506794214
    }
  ],
  "histograms": [
    {
      "name": "prediction_latency",
      "min": 17053,
      "max": 21283,
      "mean": 19038.04085603113,
      "std": 973.3320413625198,
      "p95": 20182.0,
      "p99": 20327.0,
      "p50": 19171.5
    },
    {
      "name": "in_time_predictions",
      "min": 0,
      "max": 4,
      "mean": 2.962548638132296,
      "std": 0.5968033898429704,
      "p95": 4.0,
      "p99": 4.0,
      "p50": 3.0
    },
    {
      "name": "update_latency",
      "min": 60396,
      "max": 4562024,
      "mean": 2382597.650291829,
      "std": 1290214.3861296485,
      "p95": 4351346.15,
      "p99": 4520726.690000001,
      "p50": 2332949.0
    },
    {
      "name": "logistic_reg:model_latency",
      "min": 299,
      "max": 19152,
      "mean": 2850.084022373541,
      "std": 2340.527501318169,
      "p95": 6270.0,
      "p99": 12555.0,
      "p50": 2458.0
    },
    {
      "name": "logistic_reg:model_batch_size",
      "min": 1,
      "max": 133,
      "mean": 8.123662451361869,
      "std": 14.19682885600501,
      "p95": 41.0,
      "p99": 63.0,
      "p50": 2.0
    },
    {
      "name": "rf_d16:model_latency",
      "min": 6640,
      "max": 31840,
      "mean": 14173.255836575876,
      "std": 3509.490022653929,
      "p95": 18566.0,
      "p99": 21035.0,
      "p50": 13359.0
    },
    {
      "name": "rf_d16:model_batch_size",
      "min": 1,
      "max": 172,
      "mean": 109.12855007473842,
      "std": 40.05428473445978,
      "p95": 170.0,
      "p99": 170.0,
      "p50": 101.0
    },
    {
      "name": "spark_svm:model_latency",
      "min": 194,
      "max": 14295,
      "mean": 4010.963642996109,
      "std": 2834.622567142766,
      "p95": 9324.0,
      "p99": 12549.75,
      "p50": 3639.5
    },
    {
      "name": "spark_svm:model_batch_size",
      "min": 1,
      "max": 125,
      "mean": 9.013323464100667,
      "std": 16.889182521696886,
      "p95": 48.0,
      "p99": 83.0,
      "p50": 2.0
    },
    {
      "name": "linear_svm:model_latency",
      "min": 241,
      "max": 13110,
      "mean": 2757.74173151751,
      "std": 2443.6715085337425,
      "p95": 8140.0,
      "p99": 11977.0,
      "p50": 2251.0
    },
    {
      "name": "linear_svm:model_batch_size",
      "min": 1,
      "max": 107,
      "mean": 6.972397859922179,
      "std": 13.12918040564865,
      "p95": 36.0,
      "p99": 61.0,
      "p50": 2.0
    }
  ],
  "meters": [
    {
      "name": "prediction_thruput",
      "rate": 3879.2357247311995,
      "unit": "events per second"
    },
    {
      "name": "update_thruput",
      "rate": 1706.9113276197873,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:model_thruput",
      "rate": 7299.850486675013,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:model_thruput",
      "rate": 7293.056876393539,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:model_thruput",
      "rate": 7300.748815241627,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:model_thruput",
      "rate": 7300.648919931912,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:cache_included_thruput",
      "rate": 481.3087915235195,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:cache_included_thruput",
      "rate": 3570.582317849298,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:cache_included_thruput",
      "rate": 3667.997614264918,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:cache_included_thruput",
      "rate": 3758.0986169284117,
      "unit": "events per second"
    }
  ]
}
INFO:clipper_benchmarks: Submitted 40000 requests
INFO:clipper_benchmarks: Submitted 40000 requests
INFO:clipper_benchmarks: Submitted 60000 requests
INFO:clipper_benchmarks: {
  "name": "caching_off_window_1_160907-095133",
  "counters": [
    {
      "name": "prediction_counter",
      "count": 77138
    },
    {
      "name": "queued_predictions",
      "count": 110
    },
    {
      "name": "update_counter",
      "count": 33524
    },
    {
      "name": "queued_updates",
      "count": 29618
    },
    {
      "name": "logistic_reg:prediction_counter",
      "count": 144332
    },
    {
      "name": "rf_d16:prediction_counter",
      "count": 144186
    },
    {
      "name": "spark_svm:prediction_counter",
      "count": 144291
    },
    {
      "name": "linear_svm:prediction_counter",
      "count": 144332
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:alpha_gauge",
      "count": 145038
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:beta_gauge",
      "count": 697577
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:max_batch_size_gauge",
      "count": 133
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:max_thru_gauge",
      "count": 6654095
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:base_thru_gauge",
      "count": 1186781
    },
    {
      "name": "rf_d16:172.21.0.7:6001:alpha_gauge",
      "count": 75218
    },
    {
      "name": "rf_d16:172.21.0.7:6001:beta_gauge",
      "count": 7205346
    },
    {
      "name": "rf_d16:172.21.0.7:6001:max_batch_size_gauge",
      "count": 170
    },
    {
      "name": "rf_d16:172.21.0.7:6001:max_thru_gauge",
      "count": 8503217
    },
    {
      "name": "rf_d16:172.21.0.7:6001:base_thru_gauge",
      "count": 137352
    },
    {
      "name": "linear_svm:172.21.0.2:6001:alpha_gauge",
      "count": 181455
    },
    {
      "name": "linear_svm:172.21.0.2:6001:beta_gauge",
      "count": 523636
    },
    {
      "name": "linear_svm:172.21.0.2:6001:max_batch_size_gauge",
      "count": 107
    },
    {
      "name": "linear_svm:172.21.0.2:6001:max_thru_gauge",
      "count": 5366294
    },
    {
      "name": "linear_svm:172.21.0.2:6001:base_thru_gauge",
      "count": 1418257
    },
    {
      "name": "pred_ones_counter",
      "count": 77038
    },
    {
      "name": "pred_zeros_counter",
      "count": 100
    },
    {
      "name": "spark_svm:172.21.0.5:6001:alpha_gauge",
      "count": 207214
    },
    {
      "name": "spark_svm:172.21.0.5:6001:beta_gauge",
      "count": 563357
    },
    {
      "name": "spark_svm:172.21.0.5:6001:max_batch_size_gauge",
      "count": 94
    },
    {
      "name": "spark_svm:172.21.0.5:6001:max_thru_gauge",
      "count": 4690268
    },
    {
      "name": "spark_svm:172.21.0.5:6001:base_thru_gauge",
      "count": 1297738
    }
  ],
  "ratio_counters": [
    {
      "name": "prediction accuracy ratio",
      "ratio": null
    },
    {
      "name": "cache_hits",
      "ratio": 0.0
    },
    {
      "name": "update_cache_hits",
      "ratio": 0.0
    },
    {
      "name": "digits accuracy ratio",
      "ratio": 0.9987036220799087
    }
  ],
  "histograms": [
    {
      "name": "prediction_latency",
      "min": 17053,
      "max": 22340,
      "mean": 19027.30763618677,
      "std": 970.5096883487779,
      "p95": 20171.35,
      "p99": 20316.87,
      "p50": 19154.5
    },
    {
      "name": "in_time_predictions",
      "min": 0,
      "max": 4,
      "mean": 3.21011673151751,
      "std": 0.5919386995093395,
      "p95": 4.0,
      "p99": 4.0,
      "p50": 3.0
    },
    {
      "name": "update_latency",
      "min": 60396,
      "max": 9316377,
      "mean": 4585668.932392996,
      "std": 2619723.143396929,
      "p95": 8799466.499999999,
      "p99": 9216297.33,
      "p50": 4417000.0
    },
    {
      "name": "logistic_reg:model_latency",
      "min": 284,
      "max": 19152,
      "mean": 2527.0716196498058,
      "std": 1975.5006436952688,
      "p95": 5359.0,
      "p99": 10690.5,
      "p50": 2309.5
    },
    {
      "name": "logistic_reg:model_batch_size",
      "min": 1,
      "max": 133,
      "mean": 6.972154669260701,
      "std": 12.464853292574605,
      "p95": 37.0,
      "p99": 58.0,
      "p50": 2.0
    },
    {
      "name": "rf_d16:model_latency",
      "min": 6220,
      "max": 31840,
      "mean": 12973.72227626459,
      "std": 3273.09508418195,
      "p95": 18292.0,
      "p99": 19468.0,
      "p50": 12506.0
    },
    {
      "name": "rf_d16:model_batch_size",
      "min": 1,
      "max": 172,
      "mean": 97.09152086137282,
      "std": 36.16683706297795,
      "p95": 170.0,
      "p99": 170.0,
      "p50": 93.5
    },
    {
      "name": "spark_svm:model_latency",
      "min": 194,
      "max": 14295,
      "mean": 3436.5249270428018,
      "std": 2499.758953109656,
      "p95": 8300.0,
      "p99": 11570.0,
      "p50": 3249.5
    },
    {
      "name": "spark_svm:model_batch_size",
      "min": 1,
      "max": 125,
      "mean": 7.585359922178989,
      "std": 14.465977720542739,
      "p95": 42.0,
      "p99": 66.0,
      "p50": 2.0
    },
    {
      "name": "linear_svm:model_latency",
      "min": 249,
      "max": 13110,
      "mean": 2557.0626215953309,
      "std": 2104.8643598429227,
      "p95": 5936.0,
      "p99": 11512.0,
      "p50": 2260.0
    },
    {
      "name": "linear_svm:model_batch_size",
      "min": 1,
      "max": 107,
      "mean": 6.657587548638133,
      "std": 12.464107615947489,
      "p95": 37.0,
      "p99": 57.0,
      "p50": 2.0
    }
  ],
  "meters": [
    {
      "name": "prediction_thruput",
      "rate": 3856.2273218558445,
      "unit": "events per second"
    },
    {
      "name": "update_thruput",
      "rate": 1675.339152531138,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:model_thruput",
      "rate": 7211.6507300487669,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:model_thruput",
      "rate": 7206.755582852939,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:model_thruput",
      "rate": 7211.650369823356,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:model_thruput",
      "rate": 7211.650369823356,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:cache_included_thruput",
      "rate": 1084.2663028844214,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:cache_included_thruput",
      "rate": 3701.730432719437,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:cache_included_thruput",
      "rate": 3750.3396467034247,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:cache_included_thruput",
      "rate": 3795.5451922194176,
      "unit": "events per second"
    }
  ]
}
INFO:clipper_benchmarks: Submitted 80000 requests
INFO:clipper_benchmarks: Submitted 80000 requests
INFO:clipper_benchmarks: Submitted 80000 requests
INFO:clipper_benchmarks: Submitted 80000 requests
INFO:clipper_benchmarks: Submitted 100000 requests
INFO:clipper_benchmarks: {
  "name": "caching_off_window_1_160907-095133",
  "counters": [
    {
      "name": "prediction_counter",
      "count": 115641
    },
    {
      "name": "queued_predictions",
      "count": 24
    },
    {
      "name": "update_counter",
      "count": 50584
    },
    {
      "name": "queued_updates",
      "count": 43741
    },
    {
      "name": "logistic_reg:prediction_counter",
      "count": 216891
    },
    {
      "name": "rf_d16:prediction_counter",
      "count": 216772
    },
    {
      "name": "spark_svm:prediction_counter",
      "count": 216893
    },
    {
      "name": "linear_svm:prediction_counter",
      "count": 216893
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:alpha_gauge",
      "count": 145038
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:beta_gauge",
      "count": 697577
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:max_batch_size_gauge",
      "count": 133
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:max_thru_gauge",
      "count": 6654095
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:base_thru_gauge",
      "count": 1186781
    },
    {
      "name": "rf_d16:172.21.0.7:6001:alpha_gauge",
      "count": 75218
    },
    {
      "name": "rf_d16:172.21.0.7:6001:beta_gauge",
      "count": 7205346
    },
    {
      "name": "rf_d16:172.21.0.7:6001:max_batch_size_gauge",
      "count": 170
    },
    {
      "name": "rf_d16:172.21.0.7:6001:max_thru_gauge",
      "count": 8503217
    },
    {
      "name": "rf_d16:172.21.0.7:6001:base_thru_gauge",
      "count": 137352
    },
    {
      "name": "linear_svm:172.21.0.2:6001:alpha_gauge",
      "count": 181455
    },
    {
      "name": "linear_svm:172.21.0.2:6001:beta_gauge",
      "count": 523636
    },
    {
      "name": "linear_svm:172.21.0.2:6001:max_batch_size_gauge",
      "count": 107
    },
    {
      "name": "linear_svm:172.21.0.2:6001:max_thru_gauge",
      "count": 5366294
    },
    {
      "name": "linear_svm:172.21.0.2:6001:base_thru_gauge",
      "count": 1418257
    },
    {
      "name": "pred_ones_counter",
      "count": 115541
    },
    {
      "name": "pred_zeros_counter",
      "count": 100
    },
    {
      "name": "spark_svm:172.21.0.5:6001:alpha_gauge",
      "count": 207214
    },
    {
      "name": "spark_svm:172.21.0.5:6001:beta_gauge",
      "count": 563357
    },
    {
      "name": "spark_svm:172.21.0.5:6001:max_batch_size_gauge",
      "count": 94
    },
    {
      "name": "spark_svm:172.21.0.5:6001:max_thru_gauge",
      "count": 4690268
    },
    {
      "name": "spark_svm:172.21.0.5:6001:base_thru_gauge",
      "count": 1297738
    }
  ],
  "ratio_counters": [
    {
      "name": "prediction accuracy ratio",
      "ratio": null
    },
    {
      "name": "cache_hits",
      "ratio": 0.0
    },
    {
      "name": "update_cache_hits",
      "ratio": 0.0
    },
    {
      "name": "digits accuracy ratio",
      "ratio": 0.999135254797174
    }
  ],
  "histograms": [
    {
      "name": "prediction_latency",
      "min": 17053,
      "max": 21283,
      "mean": 19025.9141536965,
      "std": 972.5117103066656,
      "p95": 20171.0,
      "p99": 20304.0,
      "p50": 19179.0
    },
    {
      "name": "in_time_predictions",
      "min": 0,
      "max": 4,
      "mean": 3.265807392996109,
      "std": 0.5567900931644645,
      "p95": 4.0,
      "p99": 4.0,
      "p50": 3.0
    },
    {
      "name": "update_latency",
      "min": 60396,
      "max": 13964698,
      "mean": 7047010.288424125,
      "std": 4070659.949998951,
      "p95": 13334686.55,
      "p99": 13807858.99,
      "p50": 6975443.0
    },
    {
      "name": "logistic_reg:model_latency",
      "min": 279,
      "max": 19152,
      "mean": 2448.8104328793776,
      "std": 1849.7761607836858,
      "p95": 5107.5,
      "p99": 8896.0,
      "p50": 2283.5
    },
    {
      "name": "logistic_reg:model_batch_size",
      "min": 1,
      "max": 133,
      "mean": 6.878891050583658,
      "std": 12.280337355927254,
      "p95": 36.0,
      "p99": 57.0,
      "p50": 2.0
    },
    {
      "name": "rf_d16:model_latency",
      "min": 6220,
      "max": 31840,
      "mean": 12889.145063229573,
      "std": 3124.2872993336738,
      "p95": 18200.0,
      "p99": 19202.0,
      "p50": 12582.0
    },
    {
      "name": "rf_d16:model_batch_size",
      "min": 1,
      "max": 172,
      "mean": 96.86065207682,
      "std": 34.64270922867324,
      "p95": 170.0,
      "p99": 170.0,
      "p50": 94.0
    },
    {
      "name": "spark_svm:model_latency",
      "min": 183,
      "max": 14295,
      "mean": 3297.8266050583658,
      "std": 2345.1283394436015,
      "p95": 7235.0,
      "p99": 10543.0,
      "p50": 3154.5
    },
    {
      "name": "spark_svm:model_batch_size",
      "min": 1,
      "max": 125,
      "mean": 7.282465953307393,
      "std": 13.916774705945219,
      "p95": 41.0,
      "p99": 64.0,
      "p50": 2.0
    },
    {
      "name": "linear_svm:model_latency",
      "min": 242,
      "max": 13110,
      "mean": 2447.6798394941636,
      "std": 1974.513877986638,
      "p95": 5414.0,
      "p99": 11012.5,
      "p50": 2199.5
    },
    {
      "name": "linear_svm:model_batch_size",
      "min": 1,
      "max": 107,
      "mean": 6.372689688715953,
      "std": 11.814080780773809,
      "p95": 35.0,
      "p99": 55.0,
      "p50": 2.0
    }
  ],
  "meters": [
    {
      "name": "prediction_thruput",
      "rate": 3851.682469115444,
      "unit": "events per second"
    },
    {
      "name": "update_thruput",
      "rate": 1685.0964552301246,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:model_thruput",
      "rate": 7224.439376504654,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:model_thruput",
      "rate": 7221.875251313407,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:model_thruput",
      "rate": 7224.672478794769,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:model_thruput",
      "rate": 7225.0718421234209,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:cache_included_thruput",
      "rate": 1148.6008133978547,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:cache_included_thruput",
      "rate": 3748.6175242129249,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:cache_included_thruput",
      "rate": 3780.8457100507418,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:cache_included_thruput",
      "rate": 3811.105450514612,
      "unit": "events per second"
    }
  ]
}
INFO:clipper_benchmarks: Submitted 120000 requests
INFO:clipper_benchmarks: Submitted 140000 requests
INFO:clipper_benchmarks: {
  "name": "caching_off_window_1_160907-095133",
  "counters": [
    {
      "name": "prediction_counter",
      "count": 154473
    },
    {
      "name": "queued_predictions",
      "count": 110
    },
    {
      "name": "update_counter",
      "count": 67547
    },
    {
      "name": "queued_updates",
      "count": 59060
    },
    {
      "name": "logistic_reg:prediction_counter",
      "count": 289709
    },
    {
      "name": "rf_d16:prediction_counter",
      "count": 289606
    },
    {
      "name": "spark_svm:prediction_counter",
      "count": 289690
    },
    {
      "name": "linear_svm:prediction_counter",
      "count": 289723
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:alpha_gauge",
      "count": 145038
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:beta_gauge",
      "count": 697577
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:max_batch_size_gauge",
      "count": 133
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:max_thru_gauge",
      "count": 6654095
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:base_thru_gauge",
      "count": 1186781
    },
    {
      "name": "rf_d16:172.21.0.7:6001:alpha_gauge",
      "count": 75218
    },
    {
      "name": "rf_d16:172.21.0.7:6001:beta_gauge",
      "count": 7205346
    },
    {
      "name": "rf_d16:172.21.0.7:6001:max_batch_size_gauge",
      "count": 170
    },
    {
      "name": "rf_d16:172.21.0.7:6001:max_thru_gauge",
      "count": 8503217
    },
    {
      "name": "rf_d16:172.21.0.7:6001:base_thru_gauge",
      "count": 137352
    },
    {
      "name": "linear_svm:172.21.0.2:6001:alpha_gauge",
      "count": 181455
    },
    {
      "name": "linear_svm:172.21.0.2:6001:beta_gauge",
      "count": 523636
    },
    {
      "name": "linear_svm:172.21.0.2:6001:max_batch_size_gauge",
      "count": 107
    },
    {
      "name": "linear_svm:172.21.0.2:6001:max_thru_gauge",
      "count": 5366294
    },
    {
      "name": "linear_svm:172.21.0.2:6001:base_thru_gauge",
      "count": 1418257
    },
    {
      "name": "pred_ones_counter",
      "count": 154373
    },
    {
      "name": "pred_zeros_counter",
      "count": 100
    },
    {
      "name": "spark_svm:172.21.0.5:6001:alpha_gauge",
      "count": 207214
    },
    {
      "name": "spark_svm:172.21.0.5:6001:beta_gauge",
      "count": 563357
    },
    {
      "name": "spark_svm:172.21.0.5:6001:max_batch_size_gauge",
      "count": 94
    },
    {
      "name": "spark_svm:172.21.0.5:6001:max_thru_gauge",
      "count": 4690268
    },
    {
      "name": "spark_svm:172.21.0.5:6001:base_thru_gauge",
      "count": 1297738
    }
  ],
  "ratio_counters": [
    {
      "name": "prediction accuracy ratio",
      "ratio": null
    },
    {
      "name": "cache_hits",
      "ratio": 0.0
    },
    {
      "name": "update_cache_hits",
      "ratio": 0.0
    },
    {
      "name": "digits accuracy ratio",
      "ratio": 0.9993526376777819
    }
  ],
  "histograms": [
    {
      "name": "prediction_latency",
      "min": 17053,
      "max": 22213,
      "mean": 19037.081955252917,
      "std": 971.2469068020402,
      "p95": 20179.7,
      "p99": 20310.87,
      "p50": 19191.0
    },
    {
      "name": "in_time_predictions",
      "min": 0,
      "max": 4,
      "mean": 3.2835603112840467,
      "std": 0.5347038584670073,
      "p95": 4.0,
      "p99": 4.0,
      "p50": 3.0
    },
    {
      "name": "update_latency",
      "min": 60396,
      "max": 18640968,
      "mean": 9447046.475194553,
      "std": 5379669.763346648,
      "p95": 17646751.45,
      "p99": 18480189.57,
      "p50": 9873214.5
    },
    {
      "name": "logistic_reg:model_latency",
      "min": 279,
      "max": 19152,
      "mean": 2445.2599708171208,
      "std": 1819.0290551321899,
      "p95": 5047.0,
      "p99": 8864.0,
      "p50": 2302.0
    },
    {
      "name": "logistic_reg:model_batch_size",
      "min": 1,
      "max": 133,
      "mean": 6.721303501945525,
      "std": 12.157701585705694,
      "p95": 36.0,
      "p99": 57.0,
      "p50": 2.0
    },
    {
      "name": "rf_d16:model_latency",
      "min": 6220,
      "max": 31840,
      "mean": 12768.240272373541,
      "std": 3076.730699114021,
      "p95": 18157.5,
      "p99": 19266.0,
      "p50": 12564.0
    },
    {
      "name": "rf_d16:model_batch_size",
      "min": 1,
      "max": 172,
      "mean": 95.95957587806494,
      "std": 34.14382547571933,
      "p95": 167.0,
      "p99": 170.0,
      "p50": 93.0
    },
    {
      "name": "spark_svm:model_latency",
      "min": 183,
      "max": 14295,
      "mean": 3261.237475680934,
      "std": 2305.5052401073019,
      "p95": 7091.0,
      "p99": 10340.5,
      "p50": 3136.0
    },
    {
      "name": "spark_svm:model_batch_size",
      "min": 1,
      "max": 117,
      "mean": 7.172543774319066,
      "std": 13.752304751438626,
      "p95": 41.0,
      "p99": 64.0,
      "p50": 2.0
    },
    {
      "name": "linear_svm:model_latency",
      "min": 239,
      "max": 13110,
      "mean": 2296.1750972762649,
      "std": 1830.14192499601,
      "p95": 5014.0,
      "p99": 10095.75,
      "p50": 2112.0
    },
    {
      "name": "linear_svm:model_batch_size",
      "min": 1,
      "max": 107,
      "mean": 6.062986381322958,
      "std": 11.44282602451316,
      "p95": 34.0,
      "p99": 53.75,
      "p50": 2.0
    }
  ],
  "meters": [
    {
      "name": "prediction_thruput",
      "rate": 3859.3654309919027,
      "unit": "events per second"
    },
    {
      "name": "update_thruput",
      "rate": 1687.3484505795044,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:model_thruput",
      "rate": 7236.884431628733,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:model_thruput",
      "rate": 7232.963146993069,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:model_thruput",
      "rate": 7236.8842508862139,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:model_thruput",
      "rate": 7236.8842508862139,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:cache_included_thruput",
      "rate": 1224.5277169714732,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:cache_included_thruput",
      "rate": 3780.035479438198,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:cache_included_thruput",
      "rate": 3806.1764169441146,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:cache_included_thruput",
      "rate": 3826.24330980279,
      "unit": "events per second"
    }
  ]
}
INFO:clipper_benchmarks: Submitted 160000 requests
INFO:clipper_benchmarks: Submitted 160000 requests
INFO:clipper_benchmarks: Submitted 160000 requests
INFO:clipper_benchmarks: Submitted 160000 requests
INFO:clipper_benchmarks: writing results to: /tmp/benchmarking_logs/caching_off_window_1_160907-095133_results.json
INFO:clipper_benchmarks: Args { flag_conf: "/tmp/digits_bench.toml", cmd_digits: true }
/tmp/digits_bench.toml contains:
salt_update_cache = false
num_message_encodes = 1
use_lsh = false
window_size = 1
load_generator = "uniform"
input_type = "float"
request_generator = "cached_updates"
results_path = "/tmp/benchmarking_logs"
num_update_workers = 1
input_length = 784
num_benchmark_requests = 300000
redis_ip = "redis"
mnist_path = "/mnist_data/test.data"
bench_batch_size = 200
target_qps = 10000
name = "caching_on_window_1_160907-095300"
wait_to_end = false
salt_cache = false
num_predict_workers = 8
redis_port = 6379
cache_size = 1000000
slo_micros = 20000
correction_policy = "logistic_regression"
send_updates = true
[[models]]
version = 1
num_outputs = 1
name = "logistic_reg"
addresses = [ "logistic_reg_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "rf_d16"
addresses = [ "rf_d16_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "spark_svm"
addresses = [ "spark_svm_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "linear_svm"
addresses = [ "linear_svm_r0:6001",]
[batching]
sample_size = 500
opt_addr = "quantilereg:7777"
strategy = "learned"
INFO:clipper_benchmarks: MNIST data loaded: 10000 points
/tmp/digits_bench.toml contains:
salt_update_cache = false
num_message_encodes = 1
use_lsh = false
window_size = 1
load_generator = "uniform"
input_type = "float"
request_generator = "cached_updates"
results_path = "/tmp/benchmarking_logs"
num_update_workers = 1
input_length = 784
num_benchmark_requests = 300000
INFO:clipper::configuration: logistic_reg_r0:6001
redis_ip = "redis"
mnist_path = "/mnist_data/test.data"
bench_batch_size = 200
target_qps = 10000
name = "caching_on_window_1_160907-095300"
wait_to_end = false
salt_cache = false
num_predict_workers = 8
redis_port = 6379
cache_size = 1000000
slo_micros = 20000
correction_policy = "logistic_regression"
send_updates = true
[[models]]
version = 1
num_outputs = 1
name = "logistic_reg"
addresses = [ "logistic_reg_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "rf_d16"
addresses = [ "rf_d16_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "spark_svm"
addresses = [ "spark_svm_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "linear_svm"
addresses = [ "linear_svm_r0:6001",]
[batching]
sample_size = 500
opt_addr = "quantilereg:7777"
strategy = "learned"
INFO:clipper::configuration: rf_d16_r0:6001
INFO:clipper::configuration: spark_svm_r0:6001
INFO:clipper::configuration: linear_svm_r0:6001
INFO:clipper::configuration: quantilereg:7777
INFO:clipper::batching: Connected to logistic_reg model wrapper at V4(172.21.0.4:6001)
INFO:clipper::batching: Connected to rf_d16 model wrapper at V4(172.21.0.5:6001)
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::batching: Connected to linear_svm model wrapper at V4(172.21.0.3:6001)
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting input prediction worker 0 
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting input prediction worker 1 
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting prediction worker 2 output thread with 20 ms SLO
INFO:clipper::server: starting prediction worker 0 output thread with 20 ms SLO
INFO:clipper::server: starting prediction worker 1 output thread with 20 ms SLO
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting prediction worker 3 output thread with 20 ms SLO
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting input prediction worker 2 
INFO:clipper::server: starting prediction worker 4 output thread with 20 ms SLO
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting input prediction worker 3 
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting input prediction worker 4 
INFO:clipper::server: starting input prediction worker 5 
INFO:clipper::server: starting prediction worker 5 output thread with 20 ms SLO
INFO:clipper::server: starting prediction worker 6 output thread with 20 ms SLO
INFO:clipper_benchmarks: starting benchmark
INFO:clipper::server: starting input prediction worker 6 
INFO:clipper::server: starting input prediction worker 7 
INFO:clipper::server: starting prediction worker 7 output thread with 20 ms SLO
INFO:clipper::cmt: RedisUpdateTable connection string redis://redis:6379/2
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting update worker 0
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Connected to spark_svm model wrapper at V4(172.21.0.6:6001)
INFO:clipper::server: Error in getting correction state for update: failed to fill whole buffer
INFO:clipper::server: Creating model state for new user: 1
INFO:clipper_benchmarks: {
  "name": "caching_on_window_1_160907-095300",
  "counters": [
    {
      "name": "prediction_counter",
      "count": 0
    },
    {
      "name": "queued_predictions",
      "count": 0
    },
    {
      "name": "update_counter",
      "count": 1
    },
    {
      "name": "queued_updates",
      "count": 0
    },
    {
      "name": "logistic_reg:prediction_counter",
      "count": 395
    },
    {
      "name": "rf_d16:prediction_counter",
      "count": 399
    },
    {
      "name": "spark_svm:prediction_counter",
      "count": 392
    },
    {
      "name": "linear_svm:prediction_counter",
      "count": 395
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:alpha_gauge",
      "count": 0
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:beta_gauge",
      "count": 0
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:max_batch_size_gauge",
      "count": 0
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:max_thru_gauge",
      "count": 0
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:base_thru_gauge",
      "count": 0
    },
    {
      "name": "rf_d16:172.21.0.5:6001:alpha_gauge",
      "count": 0
    },
    {
      "name": "rf_d16:172.21.0.5:6001:beta_gauge",
      "count": 0
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_batch_size_gauge",
      "count": 0
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_thru_gauge",
      "count": 0
    },
    {
      "name": "rf_d16:172.21.0.5:6001:base_thru_gauge",
      "count": 0
    },
    {
      "name": "linear_svm:172.21.0.3:6001:alpha_gauge",
      "count": 0
    },
    {
      "name": "linear_svm:172.21.0.3:6001:beta_gauge",
      "count": 0
    },
    {
      "name": "linear_svm:172.21.0.3:6001:max_batch_size_gauge",
      "count": 0
    },
    {
      "name": "linear_svm:172.21.0.3:6001:max_thru_gauge",
      "count": 0
    },
    {
      "name": "linear_svm:172.21.0.3:6001:base_thru_gauge",
      "count": 0
    },
    {
      "name": "pred_ones_counter",
      "count": 0
    },
    {
      "name": "pred_zeros_counter",
      "count": 0
    },
    {
      "name": "spark_svm:172.21.0.6:6001:alpha_gauge",
      "count": 0
    },
    {
      "name": "spark_svm:172.21.0.6:6001:beta_gauge",
      "count": 0
    },
    {
      "name": "spark_svm:172.21.0.6:6001:max_batch_size_gauge",
      "count": 0
    },
    {
      "name": "spark_svm:172.21.0.6:6001:max_thru_gauge",
      "count": 0
    },
    {
      "name": "spark_svm:172.21.0.6:6001:base_thru_gauge",
      "count": 0
    }
  ],
  "ratio_counters": [
    {
      "name": "prediction accuracy ratio",
      "ratio": null
    },
    {
      "name": "cache_hits",
      "ratio": null
    },
    {
      "name": "update_cache_hits",
      "ratio": 0.011875
    },
    {
      "name": "digits accuracy ratio",
      "ratio": null
    }
  ],
  "histograms": [
    {
      "name": "prediction_latency",
      "min": 0,
      "max": 0,
      "mean": 0.0,
      "std": 0.0,
      "p95": 0.0,
      "p99": 0.0,
      "p50": 0.0
    },
    {
      "name": "in_time_predictions",
      "min": 0,
      "max": 0,
      "mean": 0.0,
      "std": 0.0,
      "p95": 0.0,
      "p99": 0.0,
      "p50": 0.0
    },
    {
      "name": "update_latency",
      "min": 222839,
      "max": 222839,
      "mean": 222839.0,
      "std": null,
      "p95": 222839.0,
      "p99": 222839.0,
      "p50": 222839.0
    },
    {
      "name": "logistic_reg:model_latency",
      "min": 1344,
      "max": 6455,
      "mean": 4301.556962025316,
      "std": 1275.0556188409778,
      "p95": 6455.0,
      "p99": 6455.0,
      "p50": 4233.0
    },
    {
      "name": "logistic_reg:model_batch_size",
      "min": 1,
      "max": 37,
      "mean": 19.75,
      "std": 11.4564392373896,
      "p95": 36.9,
      "p99": 37.0,
      "p50": 20.0
    },
    {
      "name": "rf_d16:model_latency",
      "min": 7487,
      "max": 8784,
      "mean": 8426.591478696742,
      "std": 371.4404948760134,
      "p95": 8784.0,
      "p99": 8784.0,
      "p50": 8626.0
    },
    {
      "name": "rf_d16:model_batch_size",
      "min": 1,
      "max": 38,
      "mean": 19.95,
      "std": 11.749468073066116,
      "p95": 37.95,
      "p99": 38.0,
      "p50": 20.0
    },
    {
      "name": "spark_svm:model_latency",
      "min": 836,
      "max": 5640,
      "mean": 4196.6454081632659,
      "std": 1132.4370137255224,
      "p95": 5640.0,
      "p99": 5640.0,
      "p50": 4502.0
    },
    {
      "name": "spark_svm:model_batch_size",
      "min": 1,
      "max": 37,
      "mean": 19.6,
      "std": 11.278297743897348,
      "p95": 36.9,
      "p99": 37.0,
      "p50": 20.0
    },
    {
      "name": "linear_svm:model_latency",
      "min": 1354,
      "max": 6031,
      "mean": 4146.339240506329,
      "std": 1175.8028454312797,
      "p95": 6031.0,
      "p99": 6031.0,
      "p50": 4139.0
    },
    {
      "name": "linear_svm:model_batch_size",
      "min": 1,
      "max": 37,
      "mean": 19.75,
      "std": 11.4564392373896,
      "p95": 36.9,
      "p99": 37.0,
      "p50": 20.0
    }
  ],
  "meters": [
    {
      "name": "prediction_thruput",
      "rate": 0.0,
      "unit": "events per second"
    },
    {
      "name": "update_thruput",
      "rate": 0.04993659051736105,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:model_thruput",
      "rate": 19.724970984318003,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:model_thruput",
      "rate": 19.92528467688679,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:model_thruput",
      "rate": 19.575749561443286,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:model_thruput",
      "rate": 19.725590567951689,
      "unit": "events per second"
    }
  ]
}
INFO:clipper_benchmarks: SLEEP TIME: 20
INFO:clipper_benchmarks: Submitted 0 requests
INFO:clipper::batching: Connected to opt server at V4(172.21.0.2:7777)
INFO:clipper::batching: Connected to opt server at V4(172.21.0.2:7777)
INFO:clipper::batching: Connected to opt server at V4(172.21.0.2:7777)
INFO:clipper::batching: logistic_reg BATCHER: Updated batching model: max_batch_size: 136, alpha = 141.09090909637936, beta = 784.9999993897478
INFO:clipper::batching: logistic_reg BATCHER: Predicted max thruput: 6809.068441105589, baseline: 1079.8075986240824, increase: 6.305816378567694
INFO:clipper::batching: spark_svm BATCHER: Updated batching model: max_batch_size: 93, alpha = 209.55555555580526, beta = 451.33333284044465
INFO:clipper::batching: spark_svm BATCHER: Predicted max thruput: 4663.991976037639, baseline: 1513.113652775516, increase: 3.0823804725325443
INFO:clipper::batching: linear_svm BATCHER: Updated batching model: max_batch_size: 134, alpha = 144.49999982336826, beta = 684.5000020621873
INFO:clipper::batching: linear_svm BATCHER: Predicted max thruput: 6684.125209847628, baseline: 1206.2726148679205, increase: 5.541139811566972
INFO:clipper::batching: Connected to opt server at V4(172.21.0.2:7777)
INFO:clipper::batching: rf_d16 BATCHER: Updated batching model: max_batch_size: 252, alpha = 50.249999831290744, beta = 7344.250000834109
INFO:clipper::batching: rf_d16 BATCHER: Predicted max thruput: 12595.434181358532, baseline: 135.2356481046743, increase: 93.13693806243668
INFO:clipper_benchmarks: Submitted 20000 requests
INFO:clipper_benchmarks: {
  "name": "caching_on_window_1_160907-095300",
  "counters": [
    {
      "name": "prediction_counter",
      "count": 39325
    },
    {
      "name": "queued_predictions",
      "count": 115
    },
    {
      "name": "update_counter",
      "count": 27510
    },
    {
      "name": "queued_updates",
      "count": 4848
    },
    {
      "name": "logistic_reg:prediction_counter",
      "count": 40035
    },
    {
      "name": "rf_d16:prediction_counter",
      "count": 40477
    },
    {
      "name": "spark_svm:prediction_counter",
      "count": 39969
    },
    {
      "name": "linear_svm:prediction_counter",
      "count": 40011
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:alpha_gauge",
      "count": 141091
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:beta_gauge",
      "count": 785000
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:max_batch_size_gauge",
      "count": 136
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:max_thru_gauge",
      "count": 6809068
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:base_thru_gauge",
      "count": 1079808
    },
    {
      "name": "rf_d16:172.21.0.5:6001:alpha_gauge",
      "count": 50250
    },
    {
      "name": "rf_d16:172.21.0.5:6001:beta_gauge",
      "count": 7344250
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_batch_size_gauge",
      "count": 252
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_thru_gauge",
      "count": 12595434
    },
    {
      "name": "rf_d16:172.21.0.5:6001:base_thru_gauge",
      "count": 135236
    },
    {
      "name": "linear_svm:172.21.0.3:6001:alpha_gauge",
      "count": 144500
    },
    {
      "name": "linear_svm:172.21.0.3:6001:beta_gauge",
      "count": 684500
    },
    {
      "name": "linear_svm:172.21.0.3:6001:max_batch_size_gauge",
      "count": 134
    },
    {
      "name": "linear_svm:172.21.0.3:6001:max_thru_gauge",
      "count": 6684125
    },
    {
      "name": "linear_svm:172.21.0.3:6001:base_thru_gauge",
      "count": 1206273
    },
    {
      "name": "pred_ones_counter",
      "count": 39317
    },
    {
      "name": "pred_zeros_counter",
      "count": 8
    },
    {
      "name": "spark_svm:172.21.0.6:6001:alpha_gauge",
      "count": 209556
    },
    {
      "name": "spark_svm:172.21.0.6:6001:beta_gauge",
      "count": 451333
    },
    {
      "name": "spark_svm:172.21.0.6:6001:max_batch_size_gauge",
      "count": 93
    },
    {
      "name": "spark_svm:172.21.0.6:6001:max_thru_gauge",
      "count": 4663992
    },
    {
      "name": "spark_svm:172.21.0.6:6001:base_thru_gauge",
      "count": 1513114
    }
  ],
  "ratio_counters": [
    {
      "name": "prediction accuracy ratio",
      "ratio": null
    },
    {
      "name": "cache_hits",
      "ratio": 0.0
    },
    {
      "name": "update_cache_hits",
      "ratio": 0.987355804835053
    },
    {
      "name": "digits accuracy ratio",
      "ratio": 0.9997965670692943
    }
  ],
  "histograms": [
    {
      "name": "prediction_latency",
      "min": 17059,
      "max": 22811,
      "mean": 19034.909046692606,
      "std": 967.4797408158947,
      "p95": 20178.0,
      "p99": 20314.87,
      "p50": 19162.5
    },
    {
      "name": "in_time_predictions",
      "min": 0,
      "max": 4,
      "mean": 3.723249027237354,
      "std": 0.5476686825906256,
      "p95": 4.0,
      "p99": 4.0,
      "p50": 4.0
    },
    {
      "name": "update_latency",
      "min": 34036,
      "max": 1513476,
      "mean": 717399.6955252918,
      "std": 463766.05322001056,
      "p95": 1469678.0999999999,
      "p99": 1501277.1300000002,
      "p50": 601622.0
    },
    {
      "name": "logistic_reg:model_latency",
      "min": 403,
      "max": 19797,
      "mean": 3853.5483949416345,
      "std": 2222.9947571846485,
      "p95": 7282.0,
      "p99": 8842.0,
      "p50": 3717.0
    },
    {
      "name": "logistic_reg:model_batch_size",
      "min": 1,
      "max": 136,
      "mean": 16.772098868873063,
      "std": 16.8423241187288,
      "p95": 51.59999999999991,
      "p99": 65.0,
      "p50": 11.0
    },
    {
      "name": "rf_d16:model_latency",
      "min": 3565,
      "max": 48960,
      "mean": 8334.796327821012,
      "std": 4187.104174439539,
      "p95": 10761.0,
      "p99": 35656.0,
      "p50": 7914.0
    },
    {
      "name": "rf_d16:model_batch_size",
      "min": 1,
      "max": 252,
      "mean": 30.945718654434253,
      "std": 26.06564524999807,
      "p95": 73.0,
      "p99": 86.82000000000017,
      "p50": 29.0
    },
    {
      "name": "spark_svm:model_latency",
      "min": 239,
      "max": 10965,
      "mean": 3050.6365515564204,
      "std": 1612.304701287446,
      "p95": 5769.0,
      "p99": 7587.0,
      "p50": 2952.0
    },
    {
      "name": "spark_svm:model_batch_size",
      "min": 1,
      "max": 93,
      "mean": 14.7596011816839,
      "std": 14.401526059817334,
      "p95": 44.0,
      "p99": 56.909999999999858,
      "p50": 10.0
    },
    {
      "name": "linear_svm:model_latency",
      "min": 361,
      "max": 14319,
      "mean": 3427.8476410505838,
      "std": 2018.245892491893,
      "p95": 6693.0,
      "p99": 10203.0,
      "p50": 3116.0
    },
    {
      "name": "linear_svm:model_batch_size",
      "min": 1,
      "max": 134,
      "mean": 15.953349282296652,
      "std": 15.900337063532794,
      "p95": 48.0,
      "p99": 60.909999999999858,
      "p50": 11.0
    }
  ],
  "meters": [
    {
      "name": "prediction_thruput",
      "rate": 3937.3323995986236,
      "unit": "events per second"
    },
    {
      "name": "update_thruput",
      "rate": 2751.2463087828366,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:model_thruput",
      "rate": 4000.0779333280377,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:model_thruput",
      "rate": 4049.335388641479,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:model_thruput",
      "rate": 3993.48317579479,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:model_thruput",
      "rate": 3997.6795853467776,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:cache_included_thruput",
      "rate": 2998.692733764323,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:cache_included_thruput",
      "rate": 3909.4909982487986,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:cache_included_thruput",
      "rate": 3907.6950956574326,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:cache_included_thruput",
      "rate": 3898.5907844318287,
      "unit": "events per second"
    }
  ]
}
INFO:clipper_benchmarks: Submitted 40000 requests
INFO:clipper_benchmarks: Submitted 40000 requests
WARN:clipper::server: Couldn't unwrap update deps
WARN:clipper::server: Couldn't unwrap update deps
INFO:clipper_benchmarks: Submitted 60000 requests
WARN:clipper::server: Couldn't unwrap update deps
WARN:clipper::server: Couldn't unwrap update deps
INFO:clipper_benchmarks: {
  "name": "caching_on_window_1_160907-095300",
  "counters": [
    {
      "name": "prediction_counter",
      "count": 78710
    },
    {
      "name": "queued_predictions",
      "count": 26
    },
    {
      "name": "update_counter",
      "count": 52397
    },
    {
      "name": "queued_updates",
      "count": 12311
    },
    {
      "name": "logistic_reg:prediction_counter",
      "count": 80604
    },
    {
      "name": "rf_d16:prediction_counter",
      "count": 81190
    },
    {
      "name": "spark_svm:prediction_counter",
      "count": 80425
    },
    {
      "name": "linear_svm:prediction_counter",
      "count": 80624
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:alpha_gauge",
      "count": 141091
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:beta_gauge",
      "count": 785000
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:max_batch_size_gauge",
      "count": 136
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:max_thru_gauge",
      "count": 6809068
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:base_thru_gauge",
      "count": 1079808
    },
    {
      "name": "rf_d16:172.21.0.5:6001:alpha_gauge",
      "count": 50250
    },
    {
      "name": "rf_d16:172.21.0.5:6001:beta_gauge",
      "count": 7344250
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_batch_size_gauge",
      "count": 252
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_thru_gauge",
      "count": 12595434
    },
    {
      "name": "rf_d16:172.21.0.5:6001:base_thru_gauge",
      "count": 135236
    },
    {
      "name": "linear_svm:172.21.0.3:6001:alpha_gauge",
      "count": 144500
    },
    {
      "name": "linear_svm:172.21.0.3:6001:beta_gauge",
      "count": 684500
    },
    {
      "name": "linear_svm:172.21.0.3:6001:max_batch_size_gauge",
      "count": 134
    },
    {
      "name": "linear_svm:172.21.0.3:6001:max_thru_gauge",
      "count": 6684125
    },
    {
      "name": "linear_svm:172.21.0.3:6001:base_thru_gauge",
      "count": 1206273
    },
    {
      "name": "pred_ones_counter",
      "count": 78702
    },
    {
      "name": "pred_zeros_counter",
      "count": 8
    },
    {
      "name": "spark_svm:172.21.0.6:6001:alpha_gauge",
      "count": 209556
    },
    {
      "name": "spark_svm:172.21.0.6:6001:beta_gauge",
      "count": 451333
    },
    {
      "name": "spark_svm:172.21.0.6:6001:max_batch_size_gauge",
      "count": 93
    },
    {
      "name": "spark_svm:172.21.0.6:6001:max_thru_gauge",
      "count": 4663992
    },
    {
      "name": "spark_svm:172.21.0.6:6001:base_thru_gauge",
      "count": 1513114
    }
  ],
  "ratio_counters": [
    {
      "name": "prediction accuracy ratio",
      "ratio": null
    },
    {
      "name": "cache_hits",
      "ratio": 0.0
    },
    {
      "name": "update_cache_hits",
      "ratio": 0.9809320012214207
    },
    {
      "name": "digits accuracy ratio",
      "ratio": 0.9998983610722907
    }
  ],
  "histograms": [
    {
      "name": "prediction_latency",
      "min": 17067,
      "max": 22403,
      "mean": 19026.73321984436,
      "std": 969.1848631903301,
      "p95": 20184.0,
      "p99": 20314.0,
      "p50": 19157.0
    },
    {
      "name": "in_time_predictions",
      "min": 0,
      "max": 4,
      "mean": 3.8545719844357979,
      "std": 0.41412486430236036,
      "p95": 4.0,
      "p99": 4.0,
      "p50": 4.0
    },
    {
      "name": "update_latency",
      "min": 47505,
      "max": 3823889,
      "mean": 1460327.1853112842,
      "std": 943842.7977103819,
      "p95": 3440784.15,
      "p99": 3724409.5100000004,
      "p50": 1488720.5
    },
    {
      "name": "logistic_reg:model_latency",
      "min": 342,
      "max": 19797,
      "mean": 3669.61186770428,
      "std": 2011.9234248184742,
      "p95": 7009.0,
      "p99": 8792.0,
      "p50": 3455.0
    },
    {
      "name": "logistic_reg:model_batch_size",
      "min": 1,
      "max": 136,
      "mean": 15.909413854351687,
      "std": 16.535689314725685,
      "p95": 49.0,
      "p99": 63.0,
      "p50": 10.0
    },
    {
      "name": "rf_d16:model_latency",
      "min": 3550,
      "max": 48960,
      "mean": 8279.27468385214,
      "std": 3072.2672111441518,
      "p95": 10308.0,
      "p99": 13057.0,
      "p50": 8166.0
    },
    {
      "name": "rf_d16:model_batch_size",
      "min": 1,
      "max": 252,
      "mean": 30.76657824933687,
      "std": 27.104745941262828,
      "p95": 73.0,
      "p99": 85.0,
      "p50": 29.0
    },
    {
      "name": "spark_svm:model_latency",
      "min": 243,
      "max": 10965,
      "mean": 3136.4471060311286,
      "std": 1628.9745185613693,
      "p95": 5832.25,
      "p99": 7587.0,
      "p50": 3059.0
    },
    {
      "name": "spark_svm:model_batch_size",
      "min": 1,
      "max": 93,
      "mean": 14.458138699245419,
      "std": 14.734290803554864,
      "p95": 45.0,
      "p99": 57.0,
      "p50": 10.0
    },
    {
      "name": "linear_svm:model_latency",
      "min": 323,
      "max": 14319,
      "mean": 3484.480058365759,
      "std": 1934.253755898738,
      "p95": 6972.75,
      "p99": 8443.0,
      "p50": 3204.0
    },
    {
      "name": "linear_svm:model_batch_size",
      "min": 1,
      "max": 134,
      "mean": 15.402634593356244,
      "std": 16.056218326944259,
      "p95": 48.0,
      "p99": 62.0,
      "p50": 10.0
    }
  ],
  "meters": [
    {
      "name": "prediction_thruput",
      "rate": 3932.1325217084088,
      "unit": "events per second"
    },
    {
      "name": "update_thruput",
      "rate": 2618.607293783239,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:model_thruput",
      "rate": 4030.547835778655,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:model_thruput",
      "rate": 4056.175885354194,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:model_thruput",
      "rate": 4020.256650179121,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:model_thruput",
      "rate": 4030.4978785670075,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:cache_included_thruput",
      "rate": 3433.8349537843776,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:cache_included_thruput",
      "rate": 3917.37065385594,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:cache_included_thruput",
      "rate": 3916.773685073833,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:cache_included_thruput",
      "rate": 3912.576288811521,
      "unit": "events per second"
    }
  ]
}
INFO:clipper_benchmarks: Submitted 80000 requests
WARN:clipper::server: Couldn't unwrap update deps
INFO:clipper_benchmarks: Submitted 100000 requests
INFO:clipper_benchmarks: Submitted 100000 requests
WARN:clipper::server: Couldn't unwrap update deps
INFO:clipper_benchmarks: {
  "name": "caching_on_window_1_160907-095300",
  "counters": [
    {
      "name": "prediction_counter",
      "count": 118533
    },
    {
      "name": "queued_predictions",
      "count": 56
    },
    {
      "name": "update_counter",
      "count": 72387
    },
    {
      "name": "queued_updates",
      "count": 24622
    },
    {
      "name": "logistic_reg:prediction_counter",
      "count": 122421
    },
    {
      "name": "rf_d16:prediction_counter",
      "count": 123223
    },
    {
      "name": "spark_svm:prediction_counter",
      "count": 121911
    },
    {
      "name": "linear_svm:prediction_counter",
      "count": 122485
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:alpha_gauge",
      "count": 141091
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:beta_gauge",
      "count": 785000
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:max_batch_size_gauge",
      "count": 136
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:max_thru_gauge",
      "count": 6809068
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:base_thru_gauge",
      "count": 1079808
    },
    {
      "name": "rf_d16:172.21.0.5:6001:alpha_gauge",
      "count": 50250
    },
    {
      "name": "rf_d16:172.21.0.5:6001:beta_gauge",
      "count": 7344250
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_batch_size_gauge",
      "count": 252
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_thru_gauge",
      "count": 12595434
    },
    {
      "name": "rf_d16:172.21.0.5:6001:base_thru_gauge",
      "count": 135236
    },
    {
      "name": "linear_svm:172.21.0.3:6001:alpha_gauge",
      "count": 144500
    },
    {
      "name": "linear_svm:172.21.0.3:6001:beta_gauge",
      "count": 684500
    },
    {
      "name": "linear_svm:172.21.0.3:6001:max_batch_size_gauge",
      "count": 134
    },
    {
      "name": "linear_svm:172.21.0.3:6001:max_thru_gauge",
      "count": 6684125
    },
    {
      "name": "linear_svm:172.21.0.3:6001:base_thru_gauge",
      "count": 1206273
    },
    {
      "name": "pred_ones_counter",
      "count": 118525
    },
    {
      "name": "pred_zeros_counter",
      "count": 8
    },
    {
      "name": "spark_svm:172.21.0.6:6001:alpha_gauge",
      "count": 209556
    },
    {
      "name": "spark_svm:172.21.0.6:6001:beta_gauge",
      "count": 451333
    },
    {
      "name": "spark_svm:172.21.0.6:6001:max_batch_size_gauge",
      "count": 93
    },
    {
      "name": "spark_svm:172.21.0.6:6001:max_thru_gauge",
      "count": 4663992
    },
    {
      "name": "spark_svm:172.21.0.6:6001:base_thru_gauge",
      "count": 1513114
    }
  ],
  "ratio_counters": [
    {
      "name": "prediction accuracy ratio",
      "ratio": null
    },
    {
      "name": "cache_hits",
      "ratio": 0.0
    },
    {
      "name": "update_cache_hits",
      "ratio": 0.9729171559214798
    },
    {
      "name": "digits accuracy ratio",
      "ratio": 0.9999325082466486
    }
  ],
  "histograms": [
    {
      "name": "prediction_latency",
      "min": 17063,
      "max": 22403,
      "mean": 19022.620622568094,
      "std": 965.2356312987924,
      "p95": 20178.0,
      "p99": 20314.87,
      "p50": 19142.5
    },
    {
      "name": "in_time_predictions",
      "min": 0,
      "max": 4,
      "mean": 3.897373540856031,
      "std": 0.3489887515154365,
      "p95": 4.0,
      "p99": 4.0,
      "p50": 4.0
    },
    {
      "name": "update_latency",
      "min": 47505,
      "max": 7614340,
      "mean": 2680638.0009727629,
      "std": 2161998.057175338,
      "p95": 7128949.649999999,
      "p99": 7511142.3100000009,
      "p50": 1982457.5
    },
    {
      "name": "logistic_reg:model_latency",
      "min": 337,
      "max": 19797,
      "mean": 3512.2497568093388,
      "std": 1915.4693850906227,
      "p95": 6837.0,
      "p99": 8406.0,
      "p50": 3278.0
    },
    {
      "name": "logistic_reg:model_batch_size",
      "min": 1,
      "max": 136,
      "mean": 15.052379195868684,
      "std": 16.265624697067268,
      "p95": 48.0,
      "p99": 62.0,
      "p50": 9.0
    },
    {
      "name": "rf_d16:model_latency",
      "min": 3495,
      "max": 48960,
      "mean": 8329.351167315175,
      "std": 2760.866719643892,
      "p95": 10479.0,
      "p99": 11724.0,
      "p50": 8273.0
    },
    {
      "name": "rf_d16:model_batch_size",
      "min": 1,
      "max": 252,
      "mean": 30.425432098765435,
      "std": 27.76311956046693,
      "p95": 75.0,
      "p99": 87.48999999999978,
      "p50": 28.0
    },
    {
      "name": "spark_svm:model_latency",
      "min": 233,
      "max": 10965,
      "mean": 3141.902845330739,
      "std": 1653.0010302048705,
      "p95": 5907.0,
      "p99": 7642.5,
      "p50": 3074.0
    },
    {
      "name": "spark_svm:model_batch_size",
      "min": 1,
      "max": 93,
      "mean": 14.226653696498055,
      "std": 14.992217031110837,
      "p95": 45.0,
      "p99": 58.0,
      "p50": 9.0
    },
    {
      "name": "linear_svm:model_latency",
      "min": 323,
      "max": 14319,
      "mean": 3418.165126459144,
      "std": 1882.337792634269,
      "p95": 6745.0,
      "p99": 8443.0,
      "p50": 3150.0
    },
    {
      "name": "linear_svm:model_batch_size",
      "min": 1,
      "max": 134,
      "mean": 14.654790856031129,
      "std": 15.966769544586008,
      "p95": 47.0,
      "p99": 62.0,
      "p50": 9.0
    }
  ],
  "meters": [
    {
      "name": "prediction_thruput",
      "rate": 3949.4025941189809,
      "unit": "events per second"
    },
    {
      "name": "update_thruput",
      "rate": 2411.390467149746,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:model_thruput",
      "rate": 4077.4868706821055,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:model_thruput",
      "rate": 4103.763157209391,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:model_thruput",
      "rate": 4060.668579939937,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:model_thruput",
      "rate": 4079.484931515973,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:cache_included_thruput",
      "rate": 3590.6508108332925,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:cache_included_thruput",
      "rate": 3939.510479722407,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:cache_included_thruput",
      "rate": 3939.1126670404526,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:cache_included_thruput",
      "rate": 3936.3155040441758,
      "unit": "events per second"
    }
  ]
}
WARN:clipper::server: Couldn't unwrap update deps
INFO:clipper_benchmarks: Submitted 120000 requests
INFO:clipper_benchmarks: Submitted 120000 requests
INFO:clipper_benchmarks: Submitted 120000 requests
INFO:clipper_benchmarks: Submitted 120000 requests
WARN:clipper::server: Couldn't unwrap update deps
INFO:clipper_benchmarks: Submitted 140000 requests
WARN:clipper::server: Couldn't unwrap update deps
WARN:clipper::server: Couldn't unwrap update deps
INFO:clipper_benchmarks: {
  "name": "caching_on_window_1_160907-095300",
  "counters": [
    {
      "name": "prediction_counter",
      "count": 157974
    },
    {
      "name": "queued_predictions",
      "count": 111
    },
    {
      "name": "update_counter",
      "count": 91559
    },
    {
      "name": "queued_updates",
      "count": 37754
    },
    {
      "name": "logistic_reg:prediction_counter",
      "count": 164952
    },
    {
      "name": "rf_d16:prediction_counter",
      "count": 165807
    },
    {
      "name": "spark_svm:prediction_counter",
      "count": 163824
    },
    {
      "name": "linear_svm:prediction_counter",
      "count": 164867
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:alpha_gauge",
      "count": 141091
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:beta_gauge",
      "count": 785000
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:max_batch_size_gauge",
      "count": 136
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:max_thru_gauge",
      "count": 6809068
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:base_thru_gauge",
      "count": 1079808
    },
    {
      "name": "rf_d16:172.21.0.5:6001:alpha_gauge",
      "count": 50250
    },
    {
      "name": "rf_d16:172.21.0.5:6001:beta_gauge",
      "count": 7344250
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_batch_size_gauge",
      "count": 252
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_thru_gauge",
      "count": 12595434
    },
    {
      "name": "rf_d16:172.21.0.5:6001:base_thru_gauge",
      "count": 135236
    },
    {
      "name": "linear_svm:172.21.0.3:6001:alpha_gauge",
      "count": 144500
    },
    {
      "name": "linear_svm:172.21.0.3:6001:beta_gauge",
      "count": 684500
    },
    {
      "name": "linear_svm:172.21.0.3:6001:max_batch_size_gauge",
      "count": 134
    },
    {
      "name": "linear_svm:172.21.0.3:6001:max_thru_gauge",
      "count": 6684125
    },
    {
      "name": "linear_svm:172.21.0.3:6001:base_thru_gauge",
      "count": 1206273
    },
    {
      "name": "pred_ones_counter",
      "count": 157966
    },
    {
      "name": "pred_zeros_counter",
      "count": 8
    },
    {
      "name": "spark_svm:172.21.0.6:6001:alpha_gauge",
      "count": 209556
    },
    {
      "name": "spark_svm:172.21.0.6:6001:beta_gauge",
      "count": 451333
    },
    {
      "name": "spark_svm:172.21.0.6:6001:max_batch_size_gauge",
      "count": 93
    },
    {
      "name": "spark_svm:172.21.0.6:6001:max_thru_gauge",
      "count": 4663992
    },
    {
      "name": "spark_svm:172.21.0.6:6001:base_thru_gauge",
      "count": 1513114
    }
  ],
  "ratio_counters": [
    {
      "name": "prediction accuracy ratio",
      "ratio": null
    },
    {
      "name": "cache_hits",
      "ratio": 0.0
    },
    {
      "name": "update_cache_hits",
      "ratio": 0.9628364034506909
    },
    {
      "name": "digits accuracy ratio",
      "ratio": 0.9999493587552382
    }
  ],
  "histograms": [
    {
      "name": "prediction_latency",
      "min": 17060,
      "max": 22403,
      "mean": 19025.08073929961,
      "std": 965.8696479804829,
      "p95": 20178.0,
      "p99": 20304.87,
      "p50": 19144.0
    },
    {
      "name": "in_time_predictions",
      "min": 0,
      "max": 4,
      "mean": 3.9212062256809339,
      "std": 0.31133254498791149,
      "p95": 4.0,
      "p99": 4.0,
      "p50": 4.0
    },
    {
      "name": "update_latency",
      "min": 47505,
      "max": 11703919,
      "mean": 4055452.1405642025,
      "std": 3446371.8394984377,
      "p95": 10815774.1,
      "p99": 11625489.5,
      "p50": 2343575.5
    },
    {
      "name": "logistic_reg:model_latency",
      "min": 337,
      "max": 19797,
      "mean": 3513.8815661478599,
      "std": 1851.5350513920958,
      "p95": 6739.0,
      "p99": 8026.0,
      "p50": 3303.0
    },
    {
      "name": "logistic_reg:model_batch_size",
      "min": 1,
      "max": 136,
      "mean": 14.311648832684825,
      "std": 16.19473734579731,
      "p95": 48.0,
      "p99": 61.0,
      "p50": 8.0
    },
    {
      "name": "rf_d16:model_latency",
      "min": 3495,
      "max": 48960,
      "mean": 8312.471425097276,
      "std": 2573.179142489201,
      "p95": 10527.0,
      "p99": 11715.0,
      "p50": 8333.0
    },
    {
      "name": "rf_d16:model_batch_size",
      "min": 1,
      "max": 252,
      "mean": 30.089969163794668,
      "std": 27.972032007311634,
      "p95": 75.0,
      "p99": 89.0,
      "p50": 26.0
    },
    {
      "name": "spark_svm:model_latency",
      "min": 219,
      "max": 11398,
      "mean": 3114.566269455253,
      "std": 1632.923237073256,
      "p95": 5867.25,
      "p99": 7475.0,
      "p50": 3060.5
    },
    {
      "name": "spark_svm:model_batch_size",
      "min": 1,
      "max": 93,
      "mean": 13.71875,
      "std": 14.846543541577177,
      "p95": 44.0,
      "p99": 58.0,
      "p50": 8.0
    },
    {
      "name": "linear_svm:model_latency",
      "min": 293,
      "max": 14319,
      "mean": 3342.501945525292,
      "std": 1845.6824240257063,
      "p95": 6632.0,
      "p99": 8307.0,
      "p50": 3077.0
    },
    {
      "name": "linear_svm:model_batch_size",
      "min": 1,
      "max": 134,
      "mean": 14.07636186770428,
      "std": 15.80113264507366,
      "p95": 47.0,
      "p99": 60.75,
      "p50": 8.0
    }
  ],
  "meters": [
    {
      "name": "prediction_thruput",
      "rate": 3948.1598523939599,
      "unit": "events per second"
    },
    {
      "name": "update_thruput",
      "rate": 2287.362059866694,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:model_thruput",
      "rate": 4119.949186494114,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:model_thruput",
      "rate": 4144.101611825967,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:model_thruput",
      "rate": 4091.775519716109,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:model_thruput",
      "rate": 4117.826067974265,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:cache_included_thruput",
      "rate": 3660.2831057417067,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:cache_included_thruput",
      "rate": 3940.69165843284,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:cache_included_thruput",
      "rate": 3940.293402146402,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:cache_included_thruput",
      "rate": 3938.2959157154,
      "unit": "events per second"
    }
  ]
}
INFO:clipper_benchmarks: Submitted 160000 requests
WARN:clipper::server: Couldn't unwrap update deps
INFO:clipper_benchmarks: writing results to: /tmp/benchmarking_logs/caching_on_window_1_160907-095300_results.json
