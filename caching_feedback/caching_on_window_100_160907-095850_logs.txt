/tmp/digits_bench.toml contains:
salt_update_cache = true
num_message_encodes = 1
use_lsh = false
window_size = 1
load_generator = "uniform"
input_type = "float"
request_generator = "cached_updates"
results_path = "/tmp/benchmarking_logs"
num_update_workers = 1
input_length = 784
num_benchmark_requests = 300000
redis_ip = "redis"
mnist_path = "/mnist_data/test.data"
bench_batch_size = 200
target_qps = 10000
name = "caching_off_window_1_160907-095133"
wait_to_end = false
salt_cache = true
num_predict_workers = 8
redis_port = 6379
INFO:clipper_benchmarks: Args { flag_conf: "/tmp/digits_bench.toml", cmd_digits: true }
cache_size = 1000000
slo_micros = 20000
correction_policy = "logistic_regression"
send_updates = true
[[models]]
version = 1
num_outputs = 1
name = "logistic_reg"
addresses = [ "logistic_reg_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "rf_d16"
addresses = [ "rf_d16_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "spark_svm"
addresses = [ "spark_svm_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "linear_svm"
addresses = [ "linear_svm_r0:6001",]
[batching]
sample_size = 500
opt_addr = "quantilereg:7777"
strategy = "learned"
INFO:clipper_benchmarks: MNIST data loaded: 10000 points
/tmp/digits_bench.toml contains:
salt_update_cache = true
num_message_encodes = 1
use_lsh = false
window_size = 1
load_generator = "uniform"
input_type = "float"
request_generator = "cached_updates"
results_path = "/tmp/benchmarking_logs"
num_update_workers = 1
input_length = 784
num_benchmark_requests = 300000
redis_ip = "redis"
mnist_path = "/mnist_data/test.data"
bench_batch_size = 200
target_qps = 10000
name = "caching_off_window_1_160907-095133"
wait_to_end = false
salt_cache = true
num_predict_workers = 8
redis_port = 6379
cache_size = 1000000
slo_micros = 20000
correction_policy = "logistic_regression"
send_updates = true
[[models]]
version = 1
num_outputs = 1
name = "logistic_reg"
addresses = [ "logistic_reg_r0:6001",]
[[models]]
INFO:clipper::configuration: logistic_reg_r0:6001
version = 1
num_outputs = 1
name = "rf_d16"
addresses = [ "rf_d16_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "spark_svm"
addresses = [ "spark_svm_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "linear_svm"
addresses = [ "linear_svm_r0:6001",]
[batching]
sample_size = 500
opt_addr = "quantilereg:7777"
strategy = "learned"
INFO:clipper::configuration: rf_d16_r0:6001
INFO:clipper::configuration: spark_svm_r0:6001
INFO:clipper::configuration: linear_svm_r0:6001
INFO:clipper::configuration: quantilereg:7777
INFO:clipper::batching: Connected to logistic_reg model wrapper at V4(172.21.0.6:6001)
INFO:clipper::batching: Connected to rf_d16 model wrapper at V4(172.21.0.7:6001)
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Connected to linear_svm model wrapper at V4(172.21.0.2:6001)
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting input prediction worker 0 
INFO:clipper::server: starting input prediction worker 1 
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting prediction worker 0 output thread with 20 ms SLO
INFO:clipper::server: starting prediction worker 1 output thread with 20 ms SLO
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting input prediction worker 2 
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting input prediction worker 3 
INFO:clipper::server: starting prediction worker 2 output thread with 20 ms SLO
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting input prediction worker 4 
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting input prediction worker 5 
INFO:clipper::server: starting prediction worker 3 output thread with 20 ms SLO
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting prediction worker 4 output thread with 20 ms SLO
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting input prediction worker 6 
INFO:clipper::server: starting prediction worker 5 output thread with 20 ms SLO
INFO:clipper::server: starting input prediction worker 7 
INFO:clipper::server: starting prediction worker 7 output thread with 20 ms SLO
INFO:clipper_benchmarks: starting benchmark
INFO:clipper::cmt: RedisUpdateTable connection string redis://redis:6379/2
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting prediction worker 6 output thread with 20 ms SLO
INFO:clipper::server: starting update worker 0
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Connected to spark_svm model wrapper at V4(172.21.0.5:6001)
INFO:clipper::server: Error in getting correction state for update: failed to fill whole buffer
INFO:clipper::server: Creating model state for new user: 1
INFO:clipper_benchmarks: {
  "name": "caching_off_window_1_160907-095133",
  "counters": [
    {
      "name": "prediction_counter",
      "count": 0
    },
    {
      "name": "queued_predictions",
      "count": 0
    },
    {
      "name": "update_counter",
      "count": 1
    },
    {
      "name": "queued_updates",
      "count": 0
    },
    {
      "name": "logistic_reg:prediction_counter",
      "count": 400
    },
    {
      "name": "rf_d16:prediction_counter",
      "count": 400
    },
    {
      "name": "spark_svm:prediction_counter",
      "count": 400
    },
    {
      "name": "linear_svm:prediction_counter",
      "count": 400
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:alpha_gauge",
      "count": 0
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:beta_gauge",
      "count": 0
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:max_batch_size_gauge",
      "count": 0
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:max_thru_gauge",
      "count": 0
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:base_thru_gauge",
      "count": 0
    },
    {
      "name": "rf_d16:172.21.0.7:6001:alpha_gauge",
      "count": 0
    },
    {
      "name": "rf_d16:172.21.0.7:6001:beta_gauge",
      "count": 0
    },
    {
      "name": "rf_d16:172.21.0.7:6001:max_batch_size_gauge",
      "count": 0
    },
    {
      "name": "rf_d16:172.21.0.7:6001:max_thru_gauge",
      "count": 0
    },
    {
      "name": "rf_d16:172.21.0.7:6001:base_thru_gauge",
      "count": 0
    },
    {
      "name": "linear_svm:172.21.0.2:6001:alpha_gauge",
      "count": 0
    },
    {
      "name": "linear_svm:172.21.0.2:6001:beta_gauge",
      "count": 0
    },
    {
      "name": "linear_svm:172.21.0.2:6001:max_batch_size_gauge",
      "count": 0
    },
    {
      "name": "linear_svm:172.21.0.2:6001:max_thru_gauge",
      "count": 0
    },
    {
      "name": "linear_svm:172.21.0.2:6001:base_thru_gauge",
      "count": 0
    },
    {
      "name": "pred_ones_counter",
      "count": 0
    },
    {
      "name": "pred_zeros_counter",
      "count": 0
    },
    {
      "name": "spark_svm:172.21.0.5:6001:alpha_gauge",
      "count": 0
    },
    {
      "name": "spark_svm:172.21.0.5:6001:beta_gauge",
      "count": 0
    },
    {
      "name": "spark_svm:172.21.0.5:6001:max_batch_size_gauge",
      "count": 0
    },
    {
      "name": "spark_svm:172.21.0.5:6001:max_thru_gauge",
      "count": 0
    },
    {
      "name": "spark_svm:172.21.0.5:6001:base_thru_gauge",
      "count": 0
    }
  ],
  "ratio_counters": [
    {
      "name": "prediction accuracy ratio",
      "ratio": null
    },
    {
      "name": "cache_hits",
      "ratio": null
    },
    {
      "name": "update_cache_hits",
      "ratio": 0.0
    },
    {
      "name": "digits accuracy ratio",
      "ratio": null
    }
  ],
  "histograms": [
    {
      "name": "prediction_latency",
      "min": 0,
      "max": 0,
      "mean": 0.0,
      "std": 0.0,
      "p95": 0.0,
      "p99": 0.0,
      "p50": 0.0
    },
    {
      "name": "in_time_predictions",
      "min": 0,
      "max": 0,
      "mean": 0.0,
      "std": 0.0,
      "p95": 0.0,
      "p99": 0.0,
      "p50": 0.0
    },
    {
      "name": "update_latency",
      "min": 223609,
      "max": 223609,
      "mean": 223609.0,
      "std": null,
      "p95": 223609.0,
      "p99": 223609.0,
      "p50": 223609.0
    },
    {
      "name": "logistic_reg:model_latency",
      "min": 1323,
      "max": 6064,
      "mean": 4330.1975,
      "std": 1202.5446780683993,
      "p95": 6064.0,
      "p99": 6064.0,
      "p50": 4414.0
    },
    {
      "name": "logistic_reg:model_batch_size",
      "min": 1,
      "max": 39,
      "mean": 20.0,
      "std": 11.832159566199233,
      "p95": 38.9,
      "p99": 39.0,
      "p50": 20.0
    },
    {
      "name": "rf_d16:model_latency",
      "min": 7433,
      "max": 8752,
      "mean": 8258.145,
      "std": 308.21078614601017,
      "p95": 8752.0,
      "p99": 8752.0,
      "p50": 8319.0
    },
    {
      "name": "rf_d16:model_batch_size",
      "min": 1,
      "max": 39,
      "mean": 20.0,
      "std": 11.832159566199233,
      "p95": 38.9,
      "p99": 39.0,
      "p50": 20.0
    },
    {
      "name": "spark_svm:model_latency",
      "min": 847,
      "max": 6422,
      "mean": 4848.9,
      "std": 1355.4348912289757,
      "p95": 6422.0,
      "p99": 6422.0,
      "p50": 5293.0
    },
    {
      "name": "spark_svm:model_batch_size",
      "min": 1,
      "max": 39,
      "mean": 20.0,
      "std": 11.832159566199233,
      "p95": 38.9,
      "p99": 39.0,
      "p50": 20.0
    },
    {
      "name": "linear_svm:model_latency",
      "min": 1332,
      "max": 6548,
      "mean": 4492.8425,
      "std": 1413.464391720006,
      "p95": 6548.0,
      "p99": 6548.0,
      "p50": 4540.0
    },
    {
      "name": "linear_svm:model_batch_size",
      "min": 1,
      "max": 39,
      "mean": 20.0,
      "std": 11.832159566199233,
      "p95": 38.9,
      "p99": 39.0,
      "p50": 20.0
    }
  ],
  "meters": [
    {
      "name": "prediction_thruput",
      "rate": 0.0,
      "unit": "events per second"
    },
    {
      "name": "update_thruput",
      "rate": 0.04993820646332228,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:model_thruput",
      "rate": 19.97529754828691,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:model_thruput",
      "rate": 19.975844210388588,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:model_thruput",
      "rate": 19.97587014765514,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:model_thruput",
      "rate": 19.975997839795597,
      "unit": "events per second"
    }
  ]
}
INFO:clipper_benchmarks: SLEEP TIME: 20
INFO:clipper_benchmarks: Submitted 0 requests
INFO:clipper_benchmarks: Submitted 0 requests
INFO:clipper::batching: Connected to opt server at V4(172.21.0.3:7777)
INFO:clipper::batching: linear_svm BATCHER: Updated batching model: max_batch_size: 107, alpha = 181.4545454891792, beta = 523.6363617284907
INFO:clipper::batching: linear_svm BATCHER: Predicted max thruput: 5366.294019540555, baseline: 1418.25683718722, increase: 3.783725118634606
INFO:clipper::batching: Connected to opt server at V4(172.21.0.3:7777)
INFO:clipper::batching: logistic_reg BATCHER: Updated batching model: max_batch_size: 133, alpha = 145.0384615667504, beta = 697.5769217198172
INFO:clipper::batching: logistic_reg BATCHER: Predicted max thruput: 6654.094826785455, baseline: 1186.7810864069013, increase: 5.606842662896992
INFO:clipper::batching: Connected to opt server at V4(172.21.0.3:7777)
INFO:clipper::batching: spark_svm BATCHER: Updated batching model: max_batch_size: 94, alpha = 207.21428572522117, beta = 563.3571421047928
INFO:clipper::batching: spark_svm BATCHER: Predicted max thruput: 4690.2676944693485, baseline: 1297.7382289089978, increase: 3.6141862742322335
INFO:clipper_benchmarks: Submitted 20000 requests
INFO:clipper::batching: Connected to opt server at V4(172.21.0.3:7777)
INFO:clipper::batching: rf_d16 BATCHER: Updated batching model: max_batch_size: 170, alpha = 75.21816027553527, beta = 7205.345519676424
INFO:clipper::batching: rf_d16 BATCHER: Predicted max thruput: 8503.217291529907, baseline: 137.3520023942155, increase: 61.90821497545211
INFO:clipper_benchmarks: {
  "name": "caching_off_window_1_160907-095133",
  "counters": [
    {
      "name": "prediction_counter",
      "count": 38781
    },
    {
      "name": "queued_predictions",
      "count": 52
    },
    {
      "name": "update_counter",
      "count": 17073
    },
    {
      "name": "queued_updates",
      "count": 14284
    },
    {
      "name": "logistic_reg:prediction_counter",
      "count": 73049
    },
    {
      "name": "rf_d16:prediction_counter",
      "count": 73007
    },
    {
      "name": "spark_svm:prediction_counter",
      "count": 73049
    },
    {
      "name": "linear_svm:prediction_counter",
      "count": 73049
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:alpha_gauge",
      "count": 145038
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:beta_gauge",
      "count": 697577
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:max_batch_size_gauge",
      "count": 133
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:max_thru_gauge",
      "count": 6654095
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:base_thru_gauge",
      "count": 1186781
    },
    {
      "name": "rf_d16:172.21.0.7:6001:alpha_gauge",
      "count": 75218
    },
    {
      "name": "rf_d16:172.21.0.7:6001:beta_gauge",
      "count": 7205346
    },
    {
      "name": "rf_d16:172.21.0.7:6001:max_batch_size_gauge",
      "count": 170
    },
    {
      "name": "rf_d16:172.21.0.7:6001:max_thru_gauge",
      "count": 8503217
    },
    {
      "name": "rf_d16:172.21.0.7:6001:base_thru_gauge",
      "count": 137352
    },
    {
      "name": "linear_svm:172.21.0.2:6001:alpha_gauge",
      "count": 181455
    },
    {
      "name": "linear_svm:172.21.0.2:6001:beta_gauge",
      "count": 523636
    },
    {
      "name": "linear_svm:172.21.0.2:6001:max_batch_size_gauge",
      "count": 107
    },
    {
      "name": "linear_svm:172.21.0.2:6001:max_thru_gauge",
      "count": 5366294
    },
    {
      "name": "linear_svm:172.21.0.2:6001:base_thru_gauge",
      "count": 1418257
    },
    {
      "name": "pred_ones_counter",
      "count": 38683
    },
    {
      "name": "pred_zeros_counter",
      "count": 100
    },
    {
      "name": "spark_svm:172.21.0.5:6001:alpha_gauge",
      "count": 207214
    },
    {
      "name": "spark_svm:172.21.0.5:6001:beta_gauge",
      "count": 563357
    },
    {
      "name": "spark_svm:172.21.0.5:6001:max_batch_size_gauge",
      "count": 94
    },
    {
      "name": "spark_svm:172.21.0.5:6001:max_thru_gauge",
      "count": 4690268
    },
    {
      "name": "spark_svm:172.21.0.5:6001:base_thru_gauge",
      "count": 1297738
    }
  ],
  "ratio_counters": [
    {
      "name": "prediction accuracy ratio",
      "ratio": null
    },
    {
      "name": "cache_hits",
      "ratio": 0.0
    },
    {
      "name": "update_cache_hits",
      "ratio": 0.0
    },
    {
      "name": "digits accuracy ratio",
      "ratio": 0.9974215506794214
    }
  ],
  "histograms": [
    {
      "name": "prediction_latency",
      "min": 17053,
      "max": 21283,
      "mean": 19038.04085603113,
      "std": 973.3320413625198,
      "p95": 20182.0,
      "p99": 20327.0,
      "p50": 19171.5
    },
    {
      "name": "in_time_predictions",
      "min": 0,
      "max": 4,
      "mean": 2.962548638132296,
      "std": 0.5968033898429704,
      "p95": 4.0,
      "p99": 4.0,
      "p50": 3.0
    },
    {
      "name": "update_latency",
      "min": 60396,
      "max": 4562024,
      "mean": 2382597.650291829,
      "std": 1290214.3861296485,
      "p95": 4351346.15,
      "p99": 4520726.690000001,
      "p50": 2332949.0
    },
    {
      "name": "logistic_reg:model_latency",
      "min": 299,
      "max": 19152,
      "mean": 2850.084022373541,
      "std": 2340.527501318169,
      "p95": 6270.0,
      "p99": 12555.0,
      "p50": 2458.0
    },
    {
      "name": "logistic_reg:model_batch_size",
      "min": 1,
      "max": 133,
      "mean": 8.123662451361869,
      "std": 14.19682885600501,
      "p95": 41.0,
      "p99": 63.0,
      "p50": 2.0
    },
    {
      "name": "rf_d16:model_latency",
      "min": 6640,
      "max": 31840,
      "mean": 14173.255836575876,
      "std": 3509.490022653929,
      "p95": 18566.0,
      "p99": 21035.0,
      "p50": 13359.0
    },
    {
      "name": "rf_d16:model_batch_size",
      "min": 1,
      "max": 172,
      "mean": 109.12855007473842,
      "std": 40.05428473445978,
      "p95": 170.0,
      "p99": 170.0,
      "p50": 101.0
    },
    {
      "name": "spark_svm:model_latency",
      "min": 194,
      "max": 14295,
      "mean": 4010.963642996109,
      "std": 2834.622567142766,
      "p95": 9324.0,
      "p99": 12549.75,
      "p50": 3639.5
    },
    {
      "name": "spark_svm:model_batch_size",
      "min": 1,
      "max": 125,
      "mean": 9.013323464100667,
      "std": 16.889182521696886,
      "p95": 48.0,
      "p99": 83.0,
      "p50": 2.0
    },
    {
      "name": "linear_svm:model_latency",
      "min": 241,
      "max": 13110,
      "mean": 2757.74173151751,
      "std": 2443.6715085337425,
      "p95": 8140.0,
      "p99": 11977.0,
      "p50": 2251.0
    },
    {
      "name": "linear_svm:model_batch_size",
      "min": 1,
      "max": 107,
      "mean": 6.972397859922179,
      "std": 13.12918040564865,
      "p95": 36.0,
      "p99": 61.0,
      "p50": 2.0
    }
  ],
  "meters": [
    {
      "name": "prediction_thruput",
      "rate": 3879.2357247311995,
      "unit": "events per second"
    },
    {
      "name": "update_thruput",
      "rate": 1706.9113276197873,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:model_thruput",
      "rate": 7299.850486675013,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:model_thruput",
      "rate": 7293.056876393539,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:model_thruput",
      "rate": 7300.748815241627,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:model_thruput",
      "rate": 7300.648919931912,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:cache_included_thruput",
      "rate": 481.3087915235195,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:cache_included_thruput",
      "rate": 3570.582317849298,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:cache_included_thruput",
      "rate": 3667.997614264918,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:cache_included_thruput",
      "rate": 3758.0986169284117,
      "unit": "events per second"
    }
  ]
}
INFO:clipper_benchmarks: Submitted 40000 requests
INFO:clipper_benchmarks: Submitted 40000 requests
INFO:clipper_benchmarks: Submitted 60000 requests
INFO:clipper_benchmarks: {
  "name": "caching_off_window_1_160907-095133",
  "counters": [
    {
      "name": "prediction_counter",
      "count": 77138
    },
    {
      "name": "queued_predictions",
      "count": 110
    },
    {
      "name": "update_counter",
      "count": 33524
    },
    {
      "name": "queued_updates",
      "count": 29618
    },
    {
      "name": "logistic_reg:prediction_counter",
      "count": 144332
    },
    {
      "name": "rf_d16:prediction_counter",
      "count": 144186
    },
    {
      "name": "spark_svm:prediction_counter",
      "count": 144291
    },
    {
      "name": "linear_svm:prediction_counter",
      "count": 144332
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:alpha_gauge",
      "count": 145038
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:beta_gauge",
      "count": 697577
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:max_batch_size_gauge",
      "count": 133
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:max_thru_gauge",
      "count": 6654095
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:base_thru_gauge",
      "count": 1186781
    },
    {
      "name": "rf_d16:172.21.0.7:6001:alpha_gauge",
      "count": 75218
    },
    {
      "name": "rf_d16:172.21.0.7:6001:beta_gauge",
      "count": 7205346
    },
    {
      "name": "rf_d16:172.21.0.7:6001:max_batch_size_gauge",
      "count": 170
    },
    {
      "name": "rf_d16:172.21.0.7:6001:max_thru_gauge",
      "count": 8503217
    },
    {
      "name": "rf_d16:172.21.0.7:6001:base_thru_gauge",
      "count": 137352
    },
    {
      "name": "linear_svm:172.21.0.2:6001:alpha_gauge",
      "count": 181455
    },
    {
      "name": "linear_svm:172.21.0.2:6001:beta_gauge",
      "count": 523636
    },
    {
      "name": "linear_svm:172.21.0.2:6001:max_batch_size_gauge",
      "count": 107
    },
    {
      "name": "linear_svm:172.21.0.2:6001:max_thru_gauge",
      "count": 5366294
    },
    {
      "name": "linear_svm:172.21.0.2:6001:base_thru_gauge",
      "count": 1418257
    },
    {
      "name": "pred_ones_counter",
      "count": 77038
    },
    {
      "name": "pred_zeros_counter",
      "count": 100
    },
    {
      "name": "spark_svm:172.21.0.5:6001:alpha_gauge",
      "count": 207214
    },
    {
      "name": "spark_svm:172.21.0.5:6001:beta_gauge",
      "count": 563357
    },
    {
      "name": "spark_svm:172.21.0.5:6001:max_batch_size_gauge",
      "count": 94
    },
    {
      "name": "spark_svm:172.21.0.5:6001:max_thru_gauge",
      "count": 4690268
    },
    {
      "name": "spark_svm:172.21.0.5:6001:base_thru_gauge",
      "count": 1297738
    }
  ],
  "ratio_counters": [
    {
      "name": "prediction accuracy ratio",
      "ratio": null
    },
    {
      "name": "cache_hits",
      "ratio": 0.0
    },
    {
      "name": "update_cache_hits",
      "ratio": 0.0
    },
    {
      "name": "digits accuracy ratio",
      "ratio": 0.9987036220799087
    }
  ],
  "histograms": [
    {
      "name": "prediction_latency",
      "min": 17053,
      "max": 22340,
      "mean": 19027.30763618677,
      "std": 970.5096883487779,
      "p95": 20171.35,
      "p99": 20316.87,
      "p50": 19154.5
    },
    {
      "name": "in_time_predictions",
      "min": 0,
      "max": 4,
      "mean": 3.21011673151751,
      "std": 0.5919386995093395,
      "p95": 4.0,
      "p99": 4.0,
      "p50": 3.0
    },
    {
      "name": "update_latency",
      "min": 60396,
      "max": 9316377,
      "mean": 4585668.932392996,
      "std": 2619723.143396929,
      "p95": 8799466.499999999,
      "p99": 9216297.33,
      "p50": 4417000.0
    },
    {
      "name": "logistic_reg:model_latency",
      "min": 284,
      "max": 19152,
      "mean": 2527.0716196498058,
      "std": 1975.5006436952688,
      "p95": 5359.0,
      "p99": 10690.5,
      "p50": 2309.5
    },
    {
      "name": "logistic_reg:model_batch_size",
      "min": 1,
      "max": 133,
      "mean": 6.972154669260701,
      "std": 12.464853292574605,
      "p95": 37.0,
      "p99": 58.0,
      "p50": 2.0
    },
    {
      "name": "rf_d16:model_latency",
      "min": 6220,
      "max": 31840,
      "mean": 12973.72227626459,
      "std": 3273.09508418195,
      "p95": 18292.0,
      "p99": 19468.0,
      "p50": 12506.0
    },
    {
      "name": "rf_d16:model_batch_size",
      "min": 1,
      "max": 172,
      "mean": 97.09152086137282,
      "std": 36.16683706297795,
      "p95": 170.0,
      "p99": 170.0,
      "p50": 93.5
    },
    {
      "name": "spark_svm:model_latency",
      "min": 194,
      "max": 14295,
      "mean": 3436.5249270428018,
      "std": 2499.758953109656,
      "p95": 8300.0,
      "p99": 11570.0,
      "p50": 3249.5
    },
    {
      "name": "spark_svm:model_batch_size",
      "min": 1,
      "max": 125,
      "mean": 7.585359922178989,
      "std": 14.465977720542739,
      "p95": 42.0,
      "p99": 66.0,
      "p50": 2.0
    },
    {
      "name": "linear_svm:model_latency",
      "min": 249,
      "max": 13110,
      "mean": 2557.0626215953309,
      "std": 2104.8643598429227,
      "p95": 5936.0,
      "p99": 11512.0,
      "p50": 2260.0
    },
    {
      "name": "linear_svm:model_batch_size",
      "min": 1,
      "max": 107,
      "mean": 6.657587548638133,
      "std": 12.464107615947489,
      "p95": 37.0,
      "p99": 57.0,
      "p50": 2.0
    }
  ],
  "meters": [
    {
      "name": "prediction_thruput",
      "rate": 3856.2273218558445,
      "unit": "events per second"
    },
    {
      "name": "update_thruput",
      "rate": 1675.339152531138,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:model_thruput",
      "rate": 7211.6507300487669,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:model_thruput",
      "rate": 7206.755582852939,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:model_thruput",
      "rate": 7211.650369823356,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:model_thruput",
      "rate": 7211.650369823356,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:cache_included_thruput",
      "rate": 1084.2663028844214,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:cache_included_thruput",
      "rate": 3701.730432719437,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:cache_included_thruput",
      "rate": 3750.3396467034247,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:cache_included_thruput",
      "rate": 3795.5451922194176,
      "unit": "events per second"
    }
  ]
}
INFO:clipper_benchmarks: Submitted 80000 requests
INFO:clipper_benchmarks: Submitted 80000 requests
INFO:clipper_benchmarks: Submitted 80000 requests
INFO:clipper_benchmarks: Submitted 80000 requests
INFO:clipper_benchmarks: Submitted 100000 requests
INFO:clipper_benchmarks: {
  "name": "caching_off_window_1_160907-095133",
  "counters": [
    {
      "name": "prediction_counter",
      "count": 115641
    },
    {
      "name": "queued_predictions",
      "count": 24
    },
    {
      "name": "update_counter",
      "count": 50584
    },
    {
      "name": "queued_updates",
      "count": 43741
    },
    {
      "name": "logistic_reg:prediction_counter",
      "count": 216891
    },
    {
      "name": "rf_d16:prediction_counter",
      "count": 216772
    },
    {
      "name": "spark_svm:prediction_counter",
      "count": 216893
    },
    {
      "name": "linear_svm:prediction_counter",
      "count": 216893
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:alpha_gauge",
      "count": 145038
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:beta_gauge",
      "count": 697577
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:max_batch_size_gauge",
      "count": 133
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:max_thru_gauge",
      "count": 6654095
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:base_thru_gauge",
      "count": 1186781
    },
    {
      "name": "rf_d16:172.21.0.7:6001:alpha_gauge",
      "count": 75218
    },
    {
      "name": "rf_d16:172.21.0.7:6001:beta_gauge",
      "count": 7205346
    },
    {
      "name": "rf_d16:172.21.0.7:6001:max_batch_size_gauge",
      "count": 170
    },
    {
      "name": "rf_d16:172.21.0.7:6001:max_thru_gauge",
      "count": 8503217
    },
    {
      "name": "rf_d16:172.21.0.7:6001:base_thru_gauge",
      "count": 137352
    },
    {
      "name": "linear_svm:172.21.0.2:6001:alpha_gauge",
      "count": 181455
    },
    {
      "name": "linear_svm:172.21.0.2:6001:beta_gauge",
      "count": 523636
    },
    {
      "name": "linear_svm:172.21.0.2:6001:max_batch_size_gauge",
      "count": 107
    },
    {
      "name": "linear_svm:172.21.0.2:6001:max_thru_gauge",
      "count": 5366294
    },
    {
      "name": "linear_svm:172.21.0.2:6001:base_thru_gauge",
      "count": 1418257
    },
    {
      "name": "pred_ones_counter",
      "count": 115541
    },
    {
      "name": "pred_zeros_counter",
      "count": 100
    },
    {
      "name": "spark_svm:172.21.0.5:6001:alpha_gauge",
      "count": 207214
    },
    {
      "name": "spark_svm:172.21.0.5:6001:beta_gauge",
      "count": 563357
    },
    {
      "name": "spark_svm:172.21.0.5:6001:max_batch_size_gauge",
      "count": 94
    },
    {
      "name": "spark_svm:172.21.0.5:6001:max_thru_gauge",
      "count": 4690268
    },
    {
      "name": "spark_svm:172.21.0.5:6001:base_thru_gauge",
      "count": 1297738
    }
  ],
  "ratio_counters": [
    {
      "name": "prediction accuracy ratio",
      "ratio": null
    },
    {
      "name": "cache_hits",
      "ratio": 0.0
    },
    {
      "name": "update_cache_hits",
      "ratio": 0.0
    },
    {
      "name": "digits accuracy ratio",
      "ratio": 0.999135254797174
    }
  ],
  "histograms": [
    {
      "name": "prediction_latency",
      "min": 17053,
      "max": 21283,
      "mean": 19025.9141536965,
      "std": 972.5117103066656,
      "p95": 20171.0,
      "p99": 20304.0,
      "p50": 19179.0
    },
    {
      "name": "in_time_predictions",
      "min": 0,
      "max": 4,
      "mean": 3.265807392996109,
      "std": 0.5567900931644645,
      "p95": 4.0,
      "p99": 4.0,
      "p50": 3.0
    },
    {
      "name": "update_latency",
      "min": 60396,
      "max": 13964698,
      "mean": 7047010.288424125,
      "std": 4070659.949998951,
      "p95": 13334686.55,
      "p99": 13807858.99,
      "p50": 6975443.0
    },
    {
      "name": "logistic_reg:model_latency",
      "min": 279,
      "max": 19152,
      "mean": 2448.8104328793776,
      "std": 1849.7761607836858,
      "p95": 5107.5,
      "p99": 8896.0,
      "p50": 2283.5
    },
    {
      "name": "logistic_reg:model_batch_size",
      "min": 1,
      "max": 133,
      "mean": 6.878891050583658,
      "std": 12.280337355927254,
      "p95": 36.0,
      "p99": 57.0,
      "p50": 2.0
    },
    {
      "name": "rf_d16:model_latency",
      "min": 6220,
      "max": 31840,
      "mean": 12889.145063229573,
      "std": 3124.2872993336738,
      "p95": 18200.0,
      "p99": 19202.0,
      "p50": 12582.0
    },
    {
      "name": "rf_d16:model_batch_size",
      "min": 1,
      "max": 172,
      "mean": 96.86065207682,
      "std": 34.64270922867324,
      "p95": 170.0,
      "p99": 170.0,
      "p50": 94.0
    },
    {
      "name": "spark_svm:model_latency",
      "min": 183,
      "max": 14295,
      "mean": 3297.8266050583658,
      "std": 2345.1283394436015,
      "p95": 7235.0,
      "p99": 10543.0,
      "p50": 3154.5
    },
    {
      "name": "spark_svm:model_batch_size",
      "min": 1,
      "max": 125,
      "mean": 7.282465953307393,
      "std": 13.916774705945219,
      "p95": 41.0,
      "p99": 64.0,
      "p50": 2.0
    },
    {
      "name": "linear_svm:model_latency",
      "min": 242,
      "max": 13110,
      "mean": 2447.6798394941636,
      "std": 1974.513877986638,
      "p95": 5414.0,
      "p99": 11012.5,
      "p50": 2199.5
    },
    {
      "name": "linear_svm:model_batch_size",
      "min": 1,
      "max": 107,
      "mean": 6.372689688715953,
      "std": 11.814080780773809,
      "p95": 35.0,
      "p99": 55.0,
      "p50": 2.0
    }
  ],
  "meters": [
    {
      "name": "prediction_thruput",
      "rate": 3851.682469115444,
      "unit": "events per second"
    },
    {
      "name": "update_thruput",
      "rate": 1685.0964552301246,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:model_thruput",
      "rate": 7224.439376504654,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:model_thruput",
      "rate": 7221.875251313407,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:model_thruput",
      "rate": 7224.672478794769,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:model_thruput",
      "rate": 7225.0718421234209,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:cache_included_thruput",
      "rate": 1148.6008133978547,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:cache_included_thruput",
      "rate": 3748.6175242129249,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:cache_included_thruput",
      "rate": 3780.8457100507418,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:cache_included_thruput",
      "rate": 3811.105450514612,
      "unit": "events per second"
    }
  ]
}
INFO:clipper_benchmarks: Submitted 120000 requests
INFO:clipper_benchmarks: Submitted 140000 requests
INFO:clipper_benchmarks: {
  "name": "caching_off_window_1_160907-095133",
  "counters": [
    {
      "name": "prediction_counter",
      "count": 154473
    },
    {
      "name": "queued_predictions",
      "count": 110
    },
    {
      "name": "update_counter",
      "count": 67547
    },
    {
      "name": "queued_updates",
      "count": 59060
    },
    {
      "name": "logistic_reg:prediction_counter",
      "count": 289709
    },
    {
      "name": "rf_d16:prediction_counter",
      "count": 289606
    },
    {
      "name": "spark_svm:prediction_counter",
      "count": 289690
    },
    {
      "name": "linear_svm:prediction_counter",
      "count": 289723
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:alpha_gauge",
      "count": 145038
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:beta_gauge",
      "count": 697577
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:max_batch_size_gauge",
      "count": 133
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:max_thru_gauge",
      "count": 6654095
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:base_thru_gauge",
      "count": 1186781
    },
    {
      "name": "rf_d16:172.21.0.7:6001:alpha_gauge",
      "count": 75218
    },
    {
      "name": "rf_d16:172.21.0.7:6001:beta_gauge",
      "count": 7205346
    },
    {
      "name": "rf_d16:172.21.0.7:6001:max_batch_size_gauge",
      "count": 170
    },
    {
      "name": "rf_d16:172.21.0.7:6001:max_thru_gauge",
      "count": 8503217
    },
    {
      "name": "rf_d16:172.21.0.7:6001:base_thru_gauge",
      "count": 137352
    },
    {
      "name": "linear_svm:172.21.0.2:6001:alpha_gauge",
      "count": 181455
    },
    {
      "name": "linear_svm:172.21.0.2:6001:beta_gauge",
      "count": 523636
    },
    {
      "name": "linear_svm:172.21.0.2:6001:max_batch_size_gauge",
      "count": 107
    },
    {
      "name": "linear_svm:172.21.0.2:6001:max_thru_gauge",
      "count": 5366294
    },
    {
      "name": "linear_svm:172.21.0.2:6001:base_thru_gauge",
      "count": 1418257
    },
    {
      "name": "pred_ones_counter",
      "count": 154373
    },
    {
      "name": "pred_zeros_counter",
      "count": 100
    },
    {
      "name": "spark_svm:172.21.0.5:6001:alpha_gauge",
      "count": 207214
    },
    {
      "name": "spark_svm:172.21.0.5:6001:beta_gauge",
      "count": 563357
    },
    {
      "name": "spark_svm:172.21.0.5:6001:max_batch_size_gauge",
      "count": 94
    },
    {
      "name": "spark_svm:172.21.0.5:6001:max_thru_gauge",
      "count": 4690268
    },
    {
      "name": "spark_svm:172.21.0.5:6001:base_thru_gauge",
      "count": 1297738
    }
  ],
  "ratio_counters": [
    {
      "name": "prediction accuracy ratio",
      "ratio": null
    },
    {
      "name": "cache_hits",
      "ratio": 0.0
    },
    {
      "name": "update_cache_hits",
      "ratio": 0.0
    },
    {
      "name": "digits accuracy ratio",
      "ratio": 0.9993526376777819
    }
  ],
  "histograms": [
    {
      "name": "prediction_latency",
      "min": 17053,
      "max": 22213,
      "mean": 19037.081955252917,
      "std": 971.2469068020402,
      "p95": 20179.7,
      "p99": 20310.87,
      "p50": 19191.0
    },
    {
      "name": "in_time_predictions",
      "min": 0,
      "max": 4,
      "mean": 3.2835603112840467,
      "std": 0.5347038584670073,
      "p95": 4.0,
      "p99": 4.0,
      "p50": 3.0
    },
    {
      "name": "update_latency",
      "min": 60396,
      "max": 18640968,
      "mean": 9447046.475194553,
      "std": 5379669.763346648,
      "p95": 17646751.45,
      "p99": 18480189.57,
      "p50": 9873214.5
    },
    {
      "name": "logistic_reg:model_latency",
      "min": 279,
      "max": 19152,
      "mean": 2445.2599708171208,
      "std": 1819.0290551321899,
      "p95": 5047.0,
      "p99": 8864.0,
      "p50": 2302.0
    },
    {
      "name": "logistic_reg:model_batch_size",
      "min": 1,
      "max": 133,
      "mean": 6.721303501945525,
      "std": 12.157701585705694,
      "p95": 36.0,
      "p99": 57.0,
      "p50": 2.0
    },
    {
      "name": "rf_d16:model_latency",
      "min": 6220,
      "max": 31840,
      "mean": 12768.240272373541,
      "std": 3076.730699114021,
      "p95": 18157.5,
      "p99": 19266.0,
      "p50": 12564.0
    },
    {
      "name": "rf_d16:model_batch_size",
      "min": 1,
      "max": 172,
      "mean": 95.95957587806494,
      "std": 34.14382547571933,
      "p95": 167.0,
      "p99": 170.0,
      "p50": 93.0
    },
    {
      "name": "spark_svm:model_latency",
      "min": 183,
      "max": 14295,
      "mean": 3261.237475680934,
      "std": 2305.5052401073019,
      "p95": 7091.0,
      "p99": 10340.5,
      "p50": 3136.0
    },
    {
      "name": "spark_svm:model_batch_size",
      "min": 1,
      "max": 117,
      "mean": 7.172543774319066,
      "std": 13.752304751438626,
      "p95": 41.0,
      "p99": 64.0,
      "p50": 2.0
    },
    {
      "name": "linear_svm:model_latency",
      "min": 239,
      "max": 13110,
      "mean": 2296.1750972762649,
      "std": 1830.14192499601,
      "p95": 5014.0,
      "p99": 10095.75,
      "p50": 2112.0
    },
    {
      "name": "linear_svm:model_batch_size",
      "min": 1,
      "max": 107,
      "mean": 6.062986381322958,
      "std": 11.44282602451316,
      "p95": 34.0,
      "p99": 53.75,
      "p50": 2.0
    }
  ],
  "meters": [
    {
      "name": "prediction_thruput",
      "rate": 3859.3654309919027,
      "unit": "events per second"
    },
    {
      "name": "update_thruput",
      "rate": 1687.3484505795044,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:model_thruput",
      "rate": 7236.884431628733,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:model_thruput",
      "rate": 7232.963146993069,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:model_thruput",
      "rate": 7236.8842508862139,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:model_thruput",
      "rate": 7236.8842508862139,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:cache_included_thruput",
      "rate": 1224.5277169714732,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:cache_included_thruput",
      "rate": 3780.035479438198,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:cache_included_thruput",
      "rate": 3806.1764169441146,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:cache_included_thruput",
      "rate": 3826.24330980279,
      "unit": "events per second"
    }
  ]
}
INFO:clipper_benchmarks: Submitted 160000 requests
INFO:clipper_benchmarks: Submitted 160000 requests
INFO:clipper_benchmarks: Submitted 160000 requests
INFO:clipper_benchmarks: Submitted 160000 requests
INFO:clipper_benchmarks: writing results to: /tmp/benchmarking_logs/caching_off_window_1_160907-095133_results.json
INFO:clipper_benchmarks: Args { flag_conf: "/tmp/digits_bench.toml", cmd_digits: true }
/tmp/digits_bench.toml contains:
salt_update_cache = false
num_message_encodes = 1
use_lsh = false
window_size = 1
load_generator = "uniform"
input_type = "float"
request_generator = "cached_updates"
results_path = "/tmp/benchmarking_logs"
num_update_workers = 1
input_length = 784
num_benchmark_requests = 300000
redis_ip = "redis"
mnist_path = "/mnist_data/test.data"
bench_batch_size = 200
target_qps = 10000
name = "caching_on_window_1_160907-095300"
wait_to_end = false
salt_cache = false
num_predict_workers = 8
redis_port = 6379
cache_size = 1000000
slo_micros = 20000
correction_policy = "logistic_regression"
send_updates = true
[[models]]
version = 1
num_outputs = 1
name = "logistic_reg"
addresses = [ "logistic_reg_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "rf_d16"
addresses = [ "rf_d16_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "spark_svm"
addresses = [ "spark_svm_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "linear_svm"
addresses = [ "linear_svm_r0:6001",]
[batching]
sample_size = 500
opt_addr = "quantilereg:7777"
strategy = "learned"
INFO:clipper_benchmarks: MNIST data loaded: 10000 points
/tmp/digits_bench.toml contains:
salt_update_cache = false
num_message_encodes = 1
use_lsh = false
window_size = 1
load_generator = "uniform"
input_type = "float"
request_generator = "cached_updates"
results_path = "/tmp/benchmarking_logs"
num_update_workers = 1
input_length = 784
num_benchmark_requests = 300000
INFO:clipper::configuration: logistic_reg_r0:6001
redis_ip = "redis"
mnist_path = "/mnist_data/test.data"
bench_batch_size = 200
target_qps = 10000
name = "caching_on_window_1_160907-095300"
wait_to_end = false
salt_cache = false
num_predict_workers = 8
redis_port = 6379
cache_size = 1000000
slo_micros = 20000
correction_policy = "logistic_regression"
send_updates = true
[[models]]
version = 1
num_outputs = 1
name = "logistic_reg"
addresses = [ "logistic_reg_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "rf_d16"
addresses = [ "rf_d16_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "spark_svm"
addresses = [ "spark_svm_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "linear_svm"
addresses = [ "linear_svm_r0:6001",]
[batching]
sample_size = 500
opt_addr = "quantilereg:7777"
strategy = "learned"
INFO:clipper::configuration: rf_d16_r0:6001
INFO:clipper::configuration: spark_svm_r0:6001
INFO:clipper::configuration: linear_svm_r0:6001
INFO:clipper::configuration: quantilereg:7777
INFO:clipper::batching: Connected to logistic_reg model wrapper at V4(172.21.0.4:6001)
INFO:clipper::batching: Connected to rf_d16 model wrapper at V4(172.21.0.5:6001)
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::batching: Connected to linear_svm model wrapper at V4(172.21.0.3:6001)
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting input prediction worker 0 
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting input prediction worker 1 
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting prediction worker 2 output thread with 20 ms SLO
INFO:clipper::server: starting prediction worker 0 output thread with 20 ms SLO
INFO:clipper::server: starting prediction worker 1 output thread with 20 ms SLO
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting prediction worker 3 output thread with 20 ms SLO
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting input prediction worker 2 
INFO:clipper::server: starting prediction worker 4 output thread with 20 ms SLO
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting input prediction worker 3 
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting input prediction worker 4 
INFO:clipper::server: starting input prediction worker 5 
INFO:clipper::server: starting prediction worker 5 output thread with 20 ms SLO
INFO:clipper::server: starting prediction worker 6 output thread with 20 ms SLO
INFO:clipper_benchmarks: starting benchmark
INFO:clipper::server: starting input prediction worker 6 
INFO:clipper::server: starting input prediction worker 7 
INFO:clipper::server: starting prediction worker 7 output thread with 20 ms SLO
INFO:clipper::cmt: RedisUpdateTable connection string redis://redis:6379/2
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting update worker 0
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Connected to spark_svm model wrapper at V4(172.21.0.6:6001)
INFO:clipper::server: Error in getting correction state for update: failed to fill whole buffer
INFO:clipper::server: Creating model state for new user: 1
INFO:clipper_benchmarks: {
  "name": "caching_on_window_1_160907-095300",
  "counters": [
    {
      "name": "prediction_counter",
      "count": 0
    },
    {
      "name": "queued_predictions",
      "count": 0
    },
    {
      "name": "update_counter",
      "count": 1
    },
    {
      "name": "queued_updates",
      "count": 0
    },
    {
      "name": "logistic_reg:prediction_counter",
      "count": 395
    },
    {
      "name": "rf_d16:prediction_counter",
      "count": 399
    },
    {
      "name": "spark_svm:prediction_counter",
      "count": 392
    },
    {
      "name": "linear_svm:prediction_counter",
      "count": 395
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:alpha_gauge",
      "count": 0
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:beta_gauge",
      "count": 0
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:max_batch_size_gauge",
      "count": 0
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:max_thru_gauge",
      "count": 0
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:base_thru_gauge",
      "count": 0
    },
    {
      "name": "rf_d16:172.21.0.5:6001:alpha_gauge",
      "count": 0
    },
    {
      "name": "rf_d16:172.21.0.5:6001:beta_gauge",
      "count": 0
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_batch_size_gauge",
      "count": 0
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_thru_gauge",
      "count": 0
    },
    {
      "name": "rf_d16:172.21.0.5:6001:base_thru_gauge",
      "count": 0
    },
    {
      "name": "linear_svm:172.21.0.3:6001:alpha_gauge",
      "count": 0
    },
    {
      "name": "linear_svm:172.21.0.3:6001:beta_gauge",
      "count": 0
    },
    {
      "name": "linear_svm:172.21.0.3:6001:max_batch_size_gauge",
      "count": 0
    },
    {
      "name": "linear_svm:172.21.0.3:6001:max_thru_gauge",
      "count": 0
    },
    {
      "name": "linear_svm:172.21.0.3:6001:base_thru_gauge",
      "count": 0
    },
    {
      "name": "pred_ones_counter",
      "count": 0
    },
    {
      "name": "pred_zeros_counter",
      "count": 0
    },
    {
      "name": "spark_svm:172.21.0.6:6001:alpha_gauge",
      "count": 0
    },
    {
      "name": "spark_svm:172.21.0.6:6001:beta_gauge",
      "count": 0
    },
    {
      "name": "spark_svm:172.21.0.6:6001:max_batch_size_gauge",
      "count": 0
    },
    {
      "name": "spark_svm:172.21.0.6:6001:max_thru_gauge",
      "count": 0
    },
    {
      "name": "spark_svm:172.21.0.6:6001:base_thru_gauge",
      "count": 0
    }
  ],
  "ratio_counters": [
    {
      "name": "prediction accuracy ratio",
      "ratio": null
    },
    {
      "name": "cache_hits",
      "ratio": null
    },
    {
      "name": "update_cache_hits",
      "ratio": 0.011875
    },
    {
      "name": "digits accuracy ratio",
      "ratio": null
    }
  ],
  "histograms": [
    {
      "name": "prediction_latency",
      "min": 0,
      "max": 0,
      "mean": 0.0,
      "std": 0.0,
      "p95": 0.0,
      "p99": 0.0,
      "p50": 0.0
    },
    {
      "name": "in_time_predictions",
      "min": 0,
      "max": 0,
      "mean": 0.0,
      "std": 0.0,
      "p95": 0.0,
      "p99": 0.0,
      "p50": 0.0
    },
    {
      "name": "update_latency",
      "min": 222839,
      "max": 222839,
      "mean": 222839.0,
      "std": null,
      "p95": 222839.0,
      "p99": 222839.0,
      "p50": 222839.0
    },
    {
      "name": "logistic_reg:model_latency",
      "min": 1344,
      "max": 6455,
      "mean": 4301.556962025316,
      "std": 1275.0556188409778,
      "p95": 6455.0,
      "p99": 6455.0,
      "p50": 4233.0
    },
    {
      "name": "logistic_reg:model_batch_size",
      "min": 1,
      "max": 37,
      "mean": 19.75,
      "std": 11.4564392373896,
      "p95": 36.9,
      "p99": 37.0,
      "p50": 20.0
    },
    {
      "name": "rf_d16:model_latency",
      "min": 7487,
      "max": 8784,
      "mean": 8426.591478696742,
      "std": 371.4404948760134,
      "p95": 8784.0,
      "p99": 8784.0,
      "p50": 8626.0
    },
    {
      "name": "rf_d16:model_batch_size",
      "min": 1,
      "max": 38,
      "mean": 19.95,
      "std": 11.749468073066116,
      "p95": 37.95,
      "p99": 38.0,
      "p50": 20.0
    },
    {
      "name": "spark_svm:model_latency",
      "min": 836,
      "max": 5640,
      "mean": 4196.6454081632659,
      "std": 1132.4370137255224,
      "p95": 5640.0,
      "p99": 5640.0,
      "p50": 4502.0
    },
    {
      "name": "spark_svm:model_batch_size",
      "min": 1,
      "max": 37,
      "mean": 19.6,
      "std": 11.278297743897348,
      "p95": 36.9,
      "p99": 37.0,
      "p50": 20.0
    },
    {
      "name": "linear_svm:model_latency",
      "min": 1354,
      "max": 6031,
      "mean": 4146.339240506329,
      "std": 1175.8028454312797,
      "p95": 6031.0,
      "p99": 6031.0,
      "p50": 4139.0
    },
    {
      "name": "linear_svm:model_batch_size",
      "min": 1,
      "max": 37,
      "mean": 19.75,
      "std": 11.4564392373896,
      "p95": 36.9,
      "p99": 37.0,
      "p50": 20.0
    }
  ],
  "meters": [
    {
      "name": "prediction_thruput",
      "rate": 0.0,
      "unit": "events per second"
    },
    {
      "name": "update_thruput",
      "rate": 0.04993659051736105,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:model_thruput",
      "rate": 19.724970984318003,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:model_thruput",
      "rate": 19.92528467688679,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:model_thruput",
      "rate": 19.575749561443286,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:model_thruput",
      "rate": 19.725590567951689,
      "unit": "events per second"
    }
  ]
}
INFO:clipper_benchmarks: SLEEP TIME: 20
INFO:clipper_benchmarks: Submitted 0 requests
INFO:clipper::batching: Connected to opt server at V4(172.21.0.2:7777)
INFO:clipper::batching: Connected to opt server at V4(172.21.0.2:7777)
INFO:clipper::batching: Connected to opt server at V4(172.21.0.2:7777)
INFO:clipper::batching: logistic_reg BATCHER: Updated batching model: max_batch_size: 136, alpha = 141.09090909637936, beta = 784.9999993897478
INFO:clipper::batching: logistic_reg BATCHER: Predicted max thruput: 6809.068441105589, baseline: 1079.8075986240824, increase: 6.305816378567694
INFO:clipper::batching: spark_svm BATCHER: Updated batching model: max_batch_size: 93, alpha = 209.55555555580526, beta = 451.33333284044465
INFO:clipper::batching: spark_svm BATCHER: Predicted max thruput: 4663.991976037639, baseline: 1513.113652775516, increase: 3.0823804725325443
INFO:clipper::batching: linear_svm BATCHER: Updated batching model: max_batch_size: 134, alpha = 144.49999982336826, beta = 684.5000020621873
INFO:clipper::batching: linear_svm BATCHER: Predicted max thruput: 6684.125209847628, baseline: 1206.2726148679205, increase: 5.541139811566972
INFO:clipper::batching: Connected to opt server at V4(172.21.0.2:7777)
INFO:clipper::batching: rf_d16 BATCHER: Updated batching model: max_batch_size: 252, alpha = 50.249999831290744, beta = 7344.250000834109
INFO:clipper::batching: rf_d16 BATCHER: Predicted max thruput: 12595.434181358532, baseline: 135.2356481046743, increase: 93.13693806243668
INFO:clipper_benchmarks: Submitted 20000 requests
INFO:clipper_benchmarks: {
  "name": "caching_on_window_1_160907-095300",
  "counters": [
    {
      "name": "prediction_counter",
      "count": 39325
    },
    {
      "name": "queued_predictions",
      "count": 115
    },
    {
      "name": "update_counter",
      "count": 27510
    },
    {
      "name": "queued_updates",
      "count": 4848
    },
    {
      "name": "logistic_reg:prediction_counter",
      "count": 40035
    },
    {
      "name": "rf_d16:prediction_counter",
      "count": 40477
    },
    {
      "name": "spark_svm:prediction_counter",
      "count": 39969
    },
    {
      "name": "linear_svm:prediction_counter",
      "count": 40011
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:alpha_gauge",
      "count": 141091
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:beta_gauge",
      "count": 785000
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:max_batch_size_gauge",
      "count": 136
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:max_thru_gauge",
      "count": 6809068
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:base_thru_gauge",
      "count": 1079808
    },
    {
      "name": "rf_d16:172.21.0.5:6001:alpha_gauge",
      "count": 50250
    },
    {
      "name": "rf_d16:172.21.0.5:6001:beta_gauge",
      "count": 7344250
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_batch_size_gauge",
      "count": 252
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_thru_gauge",
      "count": 12595434
    },
    {
      "name": "rf_d16:172.21.0.5:6001:base_thru_gauge",
      "count": 135236
    },
    {
      "name": "linear_svm:172.21.0.3:6001:alpha_gauge",
      "count": 144500
    },
    {
      "name": "linear_svm:172.21.0.3:6001:beta_gauge",
      "count": 684500
    },
    {
      "name": "linear_svm:172.21.0.3:6001:max_batch_size_gauge",
      "count": 134
    },
    {
      "name": "linear_svm:172.21.0.3:6001:max_thru_gauge",
      "count": 6684125
    },
    {
      "name": "linear_svm:172.21.0.3:6001:base_thru_gauge",
      "count": 1206273
    },
    {
      "name": "pred_ones_counter",
      "count": 39317
    },
    {
      "name": "pred_zeros_counter",
      "count": 8
    },
    {
      "name": "spark_svm:172.21.0.6:6001:alpha_gauge",
      "count": 209556
    },
    {
      "name": "spark_svm:172.21.0.6:6001:beta_gauge",
      "count": 451333
    },
    {
      "name": "spark_svm:172.21.0.6:6001:max_batch_size_gauge",
      "count": 93
    },
    {
      "name": "spark_svm:172.21.0.6:6001:max_thru_gauge",
      "count": 4663992
    },
    {
      "name": "spark_svm:172.21.0.6:6001:base_thru_gauge",
      "count": 1513114
    }
  ],
  "ratio_counters": [
    {
      "name": "prediction accuracy ratio",
      "ratio": null
    },
    {
      "name": "cache_hits",
      "ratio": 0.0
    },
    {
      "name": "update_cache_hits",
      "ratio": 0.987355804835053
    },
    {
      "name": "digits accuracy ratio",
      "ratio": 0.9997965670692943
    }
  ],
  "histograms": [
    {
      "name": "prediction_latency",
      "min": 17059,
      "max": 22811,
      "mean": 19034.909046692606,
      "std": 967.4797408158947,
      "p95": 20178.0,
      "p99": 20314.87,
      "p50": 19162.5
    },
    {
      "name": "in_time_predictions",
      "min": 0,
      "max": 4,
      "mean": 3.723249027237354,
      "std": 0.5476686825906256,
      "p95": 4.0,
      "p99": 4.0,
      "p50": 4.0
    },
    {
      "name": "update_latency",
      "min": 34036,
      "max": 1513476,
      "mean": 717399.6955252918,
      "std": 463766.05322001056,
      "p95": 1469678.0999999999,
      "p99": 1501277.1300000002,
      "p50": 601622.0
    },
    {
      "name": "logistic_reg:model_latency",
      "min": 403,
      "max": 19797,
      "mean": 3853.5483949416345,
      "std": 2222.9947571846485,
      "p95": 7282.0,
      "p99": 8842.0,
      "p50": 3717.0
    },
    {
      "name": "logistic_reg:model_batch_size",
      "min": 1,
      "max": 136,
      "mean": 16.772098868873063,
      "std": 16.8423241187288,
      "p95": 51.59999999999991,
      "p99": 65.0,
      "p50": 11.0
    },
    {
      "name": "rf_d16:model_latency",
      "min": 3565,
      "max": 48960,
      "mean": 8334.796327821012,
      "std": 4187.104174439539,
      "p95": 10761.0,
      "p99": 35656.0,
      "p50": 7914.0
    },
    {
      "name": "rf_d16:model_batch_size",
      "min": 1,
      "max": 252,
      "mean": 30.945718654434253,
      "std": 26.06564524999807,
      "p95": 73.0,
      "p99": 86.82000000000017,
      "p50": 29.0
    },
    {
      "name": "spark_svm:model_latency",
      "min": 239,
      "max": 10965,
      "mean": 3050.6365515564204,
      "std": 1612.304701287446,
      "p95": 5769.0,
      "p99": 7587.0,
      "p50": 2952.0
    },
    {
      "name": "spark_svm:model_batch_size",
      "min": 1,
      "max": 93,
      "mean": 14.7596011816839,
      "std": 14.401526059817334,
      "p95": 44.0,
      "p99": 56.909999999999858,
      "p50": 10.0
    },
    {
      "name": "linear_svm:model_latency",
      "min": 361,
      "max": 14319,
      "mean": 3427.8476410505838,
      "std": 2018.245892491893,
      "p95": 6693.0,
      "p99": 10203.0,
      "p50": 3116.0
    },
    {
      "name": "linear_svm:model_batch_size",
      "min": 1,
      "max": 134,
      "mean": 15.953349282296652,
      "std": 15.900337063532794,
      "p95": 48.0,
      "p99": 60.909999999999858,
      "p50": 11.0
    }
  ],
  "meters": [
    {
      "name": "prediction_thruput",
      "rate": 3937.3323995986236,
      "unit": "events per second"
    },
    {
      "name": "update_thruput",
      "rate": 2751.2463087828366,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:model_thruput",
      "rate": 4000.0779333280377,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:model_thruput",
      "rate": 4049.335388641479,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:model_thruput",
      "rate": 3993.48317579479,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:model_thruput",
      "rate": 3997.6795853467776,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:cache_included_thruput",
      "rate": 2998.692733764323,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:cache_included_thruput",
      "rate": 3909.4909982487986,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:cache_included_thruput",
      "rate": 3907.6950956574326,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:cache_included_thruput",
      "rate": 3898.5907844318287,
      "unit": "events per second"
    }
  ]
}
INFO:clipper_benchmarks: Submitted 40000 requests
INFO:clipper_benchmarks: Submitted 40000 requests
WARN:clipper::server: Couldn't unwrap update deps
WARN:clipper::server: Couldn't unwrap update deps
INFO:clipper_benchmarks: Submitted 60000 requests
WARN:clipper::server: Couldn't unwrap update deps
WARN:clipper::server: Couldn't unwrap update deps
INFO:clipper_benchmarks: {
  "name": "caching_on_window_1_160907-095300",
  "counters": [
    {
      "name": "prediction_counter",
      "count": 78710
    },
    {
      "name": "queued_predictions",
      "count": 26
    },
    {
      "name": "update_counter",
      "count": 52397
    },
    {
      "name": "queued_updates",
      "count": 12311
    },
    {
      "name": "logistic_reg:prediction_counter",
      "count": 80604
    },
    {
      "name": "rf_d16:prediction_counter",
      "count": 81190
    },
    {
      "name": "spark_svm:prediction_counter",
      "count": 80425
    },
    {
      "name": "linear_svm:prediction_counter",
      "count": 80624
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:alpha_gauge",
      "count": 141091
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:beta_gauge",
      "count": 785000
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:max_batch_size_gauge",
      "count": 136
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:max_thru_gauge",
      "count": 6809068
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:base_thru_gauge",
      "count": 1079808
    },
    {
      "name": "rf_d16:172.21.0.5:6001:alpha_gauge",
      "count": 50250
    },
    {
      "name": "rf_d16:172.21.0.5:6001:beta_gauge",
      "count": 7344250
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_batch_size_gauge",
      "count": 252
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_thru_gauge",
      "count": 12595434
    },
    {
      "name": "rf_d16:172.21.0.5:6001:base_thru_gauge",
      "count": 135236
    },
    {
      "name": "linear_svm:172.21.0.3:6001:alpha_gauge",
      "count": 144500
    },
    {
      "name": "linear_svm:172.21.0.3:6001:beta_gauge",
      "count": 684500
    },
    {
      "name": "linear_svm:172.21.0.3:6001:max_batch_size_gauge",
      "count": 134
    },
    {
      "name": "linear_svm:172.21.0.3:6001:max_thru_gauge",
      "count": 6684125
    },
    {
      "name": "linear_svm:172.21.0.3:6001:base_thru_gauge",
      "count": 1206273
    },
    {
      "name": "pred_ones_counter",
      "count": 78702
    },
    {
      "name": "pred_zeros_counter",
      "count": 8
    },
    {
      "name": "spark_svm:172.21.0.6:6001:alpha_gauge",
      "count": 209556
    },
    {
      "name": "spark_svm:172.21.0.6:6001:beta_gauge",
      "count": 451333
    },
    {
      "name": "spark_svm:172.21.0.6:6001:max_batch_size_gauge",
      "count": 93
    },
    {
      "name": "spark_svm:172.21.0.6:6001:max_thru_gauge",
      "count": 4663992
    },
    {
      "name": "spark_svm:172.21.0.6:6001:base_thru_gauge",
      "count": 1513114
    }
  ],
  "ratio_counters": [
    {
      "name": "prediction accuracy ratio",
      "ratio": null
    },
    {
      "name": "cache_hits",
      "ratio": 0.0
    },
    {
      "name": "update_cache_hits",
      "ratio": 0.9809320012214207
    },
    {
      "name": "digits accuracy ratio",
      "ratio": 0.9998983610722907
    }
  ],
  "histograms": [
    {
      "name": "prediction_latency",
      "min": 17067,
      "max": 22403,
      "mean": 19026.73321984436,
      "std": 969.1848631903301,
      "p95": 20184.0,
      "p99": 20314.0,
      "p50": 19157.0
    },
    {
      "name": "in_time_predictions",
      "min": 0,
      "max": 4,
      "mean": 3.8545719844357979,
      "std": 0.41412486430236036,
      "p95": 4.0,
      "p99": 4.0,
      "p50": 4.0
    },
    {
      "name": "update_latency",
      "min": 47505,
      "max": 3823889,
      "mean": 1460327.1853112842,
      "std": 943842.7977103819,
      "p95": 3440784.15,
      "p99": 3724409.5100000004,
      "p50": 1488720.5
    },
    {
      "name": "logistic_reg:model_latency",
      "min": 342,
      "max": 19797,
      "mean": 3669.61186770428,
      "std": 2011.9234248184742,
      "p95": 7009.0,
      "p99": 8792.0,
      "p50": 3455.0
    },
    {
      "name": "logistic_reg:model_batch_size",
      "min": 1,
      "max": 136,
      "mean": 15.909413854351687,
      "std": 16.535689314725685,
      "p95": 49.0,
      "p99": 63.0,
      "p50": 10.0
    },
    {
      "name": "rf_d16:model_latency",
      "min": 3550,
      "max": 48960,
      "mean": 8279.27468385214,
      "std": 3072.2672111441518,
      "p95": 10308.0,
      "p99": 13057.0,
      "p50": 8166.0
    },
    {
      "name": "rf_d16:model_batch_size",
      "min": 1,
      "max": 252,
      "mean": 30.76657824933687,
      "std": 27.104745941262828,
      "p95": 73.0,
      "p99": 85.0,
      "p50": 29.0
    },
    {
      "name": "spark_svm:model_latency",
      "min": 243,
      "max": 10965,
      "mean": 3136.4471060311286,
      "std": 1628.9745185613693,
      "p95": 5832.25,
      "p99": 7587.0,
      "p50": 3059.0
    },
    {
      "name": "spark_svm:model_batch_size",
      "min": 1,
      "max": 93,
      "mean": 14.458138699245419,
      "std": 14.734290803554864,
      "p95": 45.0,
      "p99": 57.0,
      "p50": 10.0
    },
    {
      "name": "linear_svm:model_latency",
      "min": 323,
      "max": 14319,
      "mean": 3484.480058365759,
      "std": 1934.253755898738,
      "p95": 6972.75,
      "p99": 8443.0,
      "p50": 3204.0
    },
    {
      "name": "linear_svm:model_batch_size",
      "min": 1,
      "max": 134,
      "mean": 15.402634593356244,
      "std": 16.056218326944259,
      "p95": 48.0,
      "p99": 62.0,
      "p50": 10.0
    }
  ],
  "meters": [
    {
      "name": "prediction_thruput",
      "rate": 3932.1325217084088,
      "unit": "events per second"
    },
    {
      "name": "update_thruput",
      "rate": 2618.607293783239,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:model_thruput",
      "rate": 4030.547835778655,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:model_thruput",
      "rate": 4056.175885354194,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:model_thruput",
      "rate": 4020.256650179121,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:model_thruput",
      "rate": 4030.4978785670075,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:cache_included_thruput",
      "rate": 3433.8349537843776,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:cache_included_thruput",
      "rate": 3917.37065385594,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:cache_included_thruput",
      "rate": 3916.773685073833,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:cache_included_thruput",
      "rate": 3912.576288811521,
      "unit": "events per second"
    }
  ]
}
INFO:clipper_benchmarks: Submitted 80000 requests
WARN:clipper::server: Couldn't unwrap update deps
INFO:clipper_benchmarks: Submitted 100000 requests
INFO:clipper_benchmarks: Submitted 100000 requests
WARN:clipper::server: Couldn't unwrap update deps
INFO:clipper_benchmarks: {
  "name": "caching_on_window_1_160907-095300",
  "counters": [
    {
      "name": "prediction_counter",
      "count": 118533
    },
    {
      "name": "queued_predictions",
      "count": 56
    },
    {
      "name": "update_counter",
      "count": 72387
    },
    {
      "name": "queued_updates",
      "count": 24622
    },
    {
      "name": "logistic_reg:prediction_counter",
      "count": 122421
    },
    {
      "name": "rf_d16:prediction_counter",
      "count": 123223
    },
    {
      "name": "spark_svm:prediction_counter",
      "count": 121911
    },
    {
      "name": "linear_svm:prediction_counter",
      "count": 122485
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:alpha_gauge",
      "count": 141091
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:beta_gauge",
      "count": 785000
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:max_batch_size_gauge",
      "count": 136
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:max_thru_gauge",
      "count": 6809068
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:base_thru_gauge",
      "count": 1079808
    },
    {
      "name": "rf_d16:172.21.0.5:6001:alpha_gauge",
      "count": 50250
    },
    {
      "name": "rf_d16:172.21.0.5:6001:beta_gauge",
      "count": 7344250
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_batch_size_gauge",
      "count": 252
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_thru_gauge",
      "count": 12595434
    },
    {
      "name": "rf_d16:172.21.0.5:6001:base_thru_gauge",
      "count": 135236
    },
    {
      "name": "linear_svm:172.21.0.3:6001:alpha_gauge",
      "count": 144500
    },
    {
      "name": "linear_svm:172.21.0.3:6001:beta_gauge",
      "count": 684500
    },
    {
      "name": "linear_svm:172.21.0.3:6001:max_batch_size_gauge",
      "count": 134
    },
    {
      "name": "linear_svm:172.21.0.3:6001:max_thru_gauge",
      "count": 6684125
    },
    {
      "name": "linear_svm:172.21.0.3:6001:base_thru_gauge",
      "count": 1206273
    },
    {
      "name": "pred_ones_counter",
      "count": 118525
    },
    {
      "name": "pred_zeros_counter",
      "count": 8
    },
    {
      "name": "spark_svm:172.21.0.6:6001:alpha_gauge",
      "count": 209556
    },
    {
      "name": "spark_svm:172.21.0.6:6001:beta_gauge",
      "count": 451333
    },
    {
      "name": "spark_svm:172.21.0.6:6001:max_batch_size_gauge",
      "count": 93
    },
    {
      "name": "spark_svm:172.21.0.6:6001:max_thru_gauge",
      "count": 4663992
    },
    {
      "name": "spark_svm:172.21.0.6:6001:base_thru_gauge",
      "count": 1513114
    }
  ],
  "ratio_counters": [
    {
      "name": "prediction accuracy ratio",
      "ratio": null
    },
    {
      "name": "cache_hits",
      "ratio": 0.0
    },
    {
      "name": "update_cache_hits",
      "ratio": 0.9729171559214798
    },
    {
      "name": "digits accuracy ratio",
      "ratio": 0.9999325082466486
    }
  ],
  "histograms": [
    {
      "name": "prediction_latency",
      "min": 17063,
      "max": 22403,
      "mean": 19022.620622568094,
      "std": 965.2356312987924,
      "p95": 20178.0,
      "p99": 20314.87,
      "p50": 19142.5
    },
    {
      "name": "in_time_predictions",
      "min": 0,
      "max": 4,
      "mean": 3.897373540856031,
      "std": 0.3489887515154365,
      "p95": 4.0,
      "p99": 4.0,
      "p50": 4.0
    },
    {
      "name": "update_latency",
      "min": 47505,
      "max": 7614340,
      "mean": 2680638.0009727629,
      "std": 2161998.057175338,
      "p95": 7128949.649999999,
      "p99": 7511142.3100000009,
      "p50": 1982457.5
    },
    {
      "name": "logistic_reg:model_latency",
      "min": 337,
      "max": 19797,
      "mean": 3512.2497568093388,
      "std": 1915.4693850906227,
      "p95": 6837.0,
      "p99": 8406.0,
      "p50": 3278.0
    },
    {
      "name": "logistic_reg:model_batch_size",
      "min": 1,
      "max": 136,
      "mean": 15.052379195868684,
      "std": 16.265624697067268,
      "p95": 48.0,
      "p99": 62.0,
      "p50": 9.0
    },
    {
      "name": "rf_d16:model_latency",
      "min": 3495,
      "max": 48960,
      "mean": 8329.351167315175,
      "std": 2760.866719643892,
      "p95": 10479.0,
      "p99": 11724.0,
      "p50": 8273.0
    },
    {
      "name": "rf_d16:model_batch_size",
      "min": 1,
      "max": 252,
      "mean": 30.425432098765435,
      "std": 27.76311956046693,
      "p95": 75.0,
      "p99": 87.48999999999978,
      "p50": 28.0
    },
    {
      "name": "spark_svm:model_latency",
      "min": 233,
      "max": 10965,
      "mean": 3141.902845330739,
      "std": 1653.0010302048705,
      "p95": 5907.0,
      "p99": 7642.5,
      "p50": 3074.0
    },
    {
      "name": "spark_svm:model_batch_size",
      "min": 1,
      "max": 93,
      "mean": 14.226653696498055,
      "std": 14.992217031110837,
      "p95": 45.0,
      "p99": 58.0,
      "p50": 9.0
    },
    {
      "name": "linear_svm:model_latency",
      "min": 323,
      "max": 14319,
      "mean": 3418.165126459144,
      "std": 1882.337792634269,
      "p95": 6745.0,
      "p99": 8443.0,
      "p50": 3150.0
    },
    {
      "name": "linear_svm:model_batch_size",
      "min": 1,
      "max": 134,
      "mean": 14.654790856031129,
      "std": 15.966769544586008,
      "p95": 47.0,
      "p99": 62.0,
      "p50": 9.0
    }
  ],
  "meters": [
    {
      "name": "prediction_thruput",
      "rate": 3949.4025941189809,
      "unit": "events per second"
    },
    {
      "name": "update_thruput",
      "rate": 2411.390467149746,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:model_thruput",
      "rate": 4077.4868706821055,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:model_thruput",
      "rate": 4103.763157209391,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:model_thruput",
      "rate": 4060.668579939937,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:model_thruput",
      "rate": 4079.484931515973,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:cache_included_thruput",
      "rate": 3590.6508108332925,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:cache_included_thruput",
      "rate": 3939.510479722407,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:cache_included_thruput",
      "rate": 3939.1126670404526,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:cache_included_thruput",
      "rate": 3936.3155040441758,
      "unit": "events per second"
    }
  ]
}
WARN:clipper::server: Couldn't unwrap update deps
INFO:clipper_benchmarks: Submitted 120000 requests
INFO:clipper_benchmarks: Submitted 120000 requests
INFO:clipper_benchmarks: Submitted 120000 requests
INFO:clipper_benchmarks: Submitted 120000 requests
WARN:clipper::server: Couldn't unwrap update deps
INFO:clipper_benchmarks: Submitted 140000 requests
WARN:clipper::server: Couldn't unwrap update deps
WARN:clipper::server: Couldn't unwrap update deps
INFO:clipper_benchmarks: {
  "name": "caching_on_window_1_160907-095300",
  "counters": [
    {
      "name": "prediction_counter",
      "count": 157974
    },
    {
      "name": "queued_predictions",
      "count": 111
    },
    {
      "name": "update_counter",
      "count": 91559
    },
    {
      "name": "queued_updates",
      "count": 37754
    },
    {
      "name": "logistic_reg:prediction_counter",
      "count": 164952
    },
    {
      "name": "rf_d16:prediction_counter",
      "count": 165807
    },
    {
      "name": "spark_svm:prediction_counter",
      "count": 163824
    },
    {
      "name": "linear_svm:prediction_counter",
      "count": 164867
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:alpha_gauge",
      "count": 141091
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:beta_gauge",
      "count": 785000
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:max_batch_size_gauge",
      "count": 136
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:max_thru_gauge",
      "count": 6809068
    },
    {
      "name": "logistic_reg:172.21.0.4:6001:base_thru_gauge",
      "count": 1079808
    },
    {
      "name": "rf_d16:172.21.0.5:6001:alpha_gauge",
      "count": 50250
    },
    {
      "name": "rf_d16:172.21.0.5:6001:beta_gauge",
      "count": 7344250
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_batch_size_gauge",
      "count": 252
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_thru_gauge",
      "count": 12595434
    },
    {
      "name": "rf_d16:172.21.0.5:6001:base_thru_gauge",
      "count": 135236
    },
    {
      "name": "linear_svm:172.21.0.3:6001:alpha_gauge",
      "count": 144500
    },
    {
      "name": "linear_svm:172.21.0.3:6001:beta_gauge",
      "count": 684500
    },
    {
      "name": "linear_svm:172.21.0.3:6001:max_batch_size_gauge",
      "count": 134
    },
    {
      "name": "linear_svm:172.21.0.3:6001:max_thru_gauge",
      "count": 6684125
    },
    {
      "name": "linear_svm:172.21.0.3:6001:base_thru_gauge",
      "count": 1206273
    },
    {
      "name": "pred_ones_counter",
      "count": 157966
    },
    {
      "name": "pred_zeros_counter",
      "count": 8
    },
    {
      "name": "spark_svm:172.21.0.6:6001:alpha_gauge",
      "count": 209556
    },
    {
      "name": "spark_svm:172.21.0.6:6001:beta_gauge",
      "count": 451333
    },
    {
      "name": "spark_svm:172.21.0.6:6001:max_batch_size_gauge",
      "count": 93
    },
    {
      "name": "spark_svm:172.21.0.6:6001:max_thru_gauge",
      "count": 4663992
    },
    {
      "name": "spark_svm:172.21.0.6:6001:base_thru_gauge",
      "count": 1513114
    }
  ],
  "ratio_counters": [
    {
      "name": "prediction accuracy ratio",
      "ratio": null
    },
    {
      "name": "cache_hits",
      "ratio": 0.0
    },
    {
      "name": "update_cache_hits",
      "ratio": 0.9628364034506909
    },
    {
      "name": "digits accuracy ratio",
      "ratio": 0.9999493587552382
    }
  ],
  "histograms": [
    {
      "name": "prediction_latency",
      "min": 17060,
      "max": 22403,
      "mean": 19025.08073929961,
      "std": 965.8696479804829,
      "p95": 20178.0,
      "p99": 20304.87,
      "p50": 19144.0
    },
    {
      "name": "in_time_predictions",
      "min": 0,
      "max": 4,
      "mean": 3.9212062256809339,
      "std": 0.31133254498791149,
      "p95": 4.0,
      "p99": 4.0,
      "p50": 4.0
    },
    {
      "name": "update_latency",
      "min": 47505,
      "max": 11703919,
      "mean": 4055452.1405642025,
      "std": 3446371.8394984377,
      "p95": 10815774.1,
      "p99": 11625489.5,
      "p50": 2343575.5
    },
    {
      "name": "logistic_reg:model_latency",
      "min": 337,
      "max": 19797,
      "mean": 3513.8815661478599,
      "std": 1851.5350513920958,
      "p95": 6739.0,
      "p99": 8026.0,
      "p50": 3303.0
    },
    {
      "name": "logistic_reg:model_batch_size",
      "min": 1,
      "max": 136,
      "mean": 14.311648832684825,
      "std": 16.19473734579731,
      "p95": 48.0,
      "p99": 61.0,
      "p50": 8.0
    },
    {
      "name": "rf_d16:model_latency",
      "min": 3495,
      "max": 48960,
      "mean": 8312.471425097276,
      "std": 2573.179142489201,
      "p95": 10527.0,
      "p99": 11715.0,
      "p50": 8333.0
    },
    {
      "name": "rf_d16:model_batch_size",
      "min": 1,
      "max": 252,
      "mean": 30.089969163794668,
      "std": 27.972032007311634,
      "p95": 75.0,
      "p99": 89.0,
      "p50": 26.0
    },
    {
      "name": "spark_svm:model_latency",
      "min": 219,
      "max": 11398,
      "mean": 3114.566269455253,
      "std": 1632.923237073256,
      "p95": 5867.25,
      "p99": 7475.0,
      "p50": 3060.5
    },
    {
      "name": "spark_svm:model_batch_size",
      "min": 1,
      "max": 93,
      "mean": 13.71875,
      "std": 14.846543541577177,
      "p95": 44.0,
      "p99": 58.0,
      "p50": 8.0
    },
    {
      "name": "linear_svm:model_latency",
      "min": 293,
      "max": 14319,
      "mean": 3342.501945525292,
      "std": 1845.6824240257063,
      "p95": 6632.0,
      "p99": 8307.0,
      "p50": 3077.0
    },
    {
      "name": "linear_svm:model_batch_size",
      "min": 1,
      "max": 134,
      "mean": 14.07636186770428,
      "std": 15.80113264507366,
      "p95": 47.0,
      "p99": 60.75,
      "p50": 8.0
    }
  ],
  "meters": [
    {
      "name": "prediction_thruput",
      "rate": 3948.1598523939599,
      "unit": "events per second"
    },
    {
      "name": "update_thruput",
      "rate": 2287.362059866694,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:model_thruput",
      "rate": 4119.949186494114,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:model_thruput",
      "rate": 4144.101611825967,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:model_thruput",
      "rate": 4091.775519716109,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:model_thruput",
      "rate": 4117.826067974265,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:cache_included_thruput",
      "rate": 3660.2831057417067,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:cache_included_thruput",
      "rate": 3940.69165843284,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:cache_included_thruput",
      "rate": 3940.293402146402,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:cache_included_thruput",
      "rate": 3938.2959157154,
      "unit": "events per second"
    }
  ]
}
INFO:clipper_benchmarks: Submitted 160000 requests
WARN:clipper::server: Couldn't unwrap update deps
INFO:clipper_benchmarks: writing results to: /tmp/benchmarking_logs/caching_on_window_1_160907-095300_results.json
/tmp/digits_bench.toml contains:
salt_update_cache = true
num_message_encodes = 1
use_lsh = false
window_size = 20
load_generator = "uniform"
input_type = "float"
request_generator = "cached_updates"
results_path = "/tmp/benchmarking_logs"
num_update_workers = 1
input_length = 784
num_benchmark_requests = 300000
redis_ip = "redis"
mnist_path = "/mnist_data/test.data"
bench_batch_size = 200
target_qps = 10000
name = "caching_off_window_20_160907-095426"
wait_to_end = false
salt_cache = true
num_predict_workers = 8
redis_port = 6379
cache_size = 1000000
slo_micros = 20000
correction_policy = "logistic_regression"
send_updates = true
[[models]]
version = 1
num_outputs = 1
name = "logistic_reg"
addresses = [ "logistic_reg_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "rf_d16"
addresses = [ "rf_d16_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "spark_svm"
addresses = [ "spark_svm_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "linear_svm"
addresses = [ "linear_svm_r0:6001",]
[batching]
sample_size = 500
opt_addr = "quantilereg:7777"
strategy = "learned"
INFO:clipper_benchmarks: Args { flag_conf: "/tmp/digits_bench.toml", cmd_digits: true }
INFO:clipper_benchmarks: MNIST data loaded: 10000 points
/tmp/digits_bench.toml contains:
INFO:clipper::configuration: logistic_reg_r0:6001
salt_update_cache = true
num_message_encodes = 1
use_lsh = false
window_size = 20
load_generator = "uniform"
input_type = "float"
request_generator = "cached_updates"
results_path = "/tmp/benchmarking_logs"
num_update_workers = 1
input_length = 784
num_benchmark_requests = 300000
redis_ip = "redis"
mnist_path = "/mnist_data/test.data"
bench_batch_size = 200
target_qps = 10000
name = "caching_off_window_20_160907-095426"
wait_to_end = false
salt_cache = true
num_predict_workers = 8
redis_port = 6379
cache_size = 1000000
slo_micros = 20000
correction_policy = "logistic_regression"
send_updates = true
[[models]]
version = 1
num_outputs = 1
name = "logistic_reg"
addresses = [ "logistic_reg_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "rf_d16"
addresses = [ "rf_d16_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "spark_svm"
addresses = [ "spark_svm_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "linear_svm"
addresses = [ "linear_svm_r0:6001",]
[batching]
sample_size = 500
opt_addr = "quantilereg:7777"
strategy = "learned"
INFO:clipper::configuration: rf_d16_r0:6001
INFO:clipper::configuration: spark_svm_r0:6001
INFO:clipper::configuration: linear_svm_r0:6001
INFO:clipper::configuration: quantilereg:7777
INFO:clipper::batching: Connected to rf_d16 model wrapper at V4(172.21.0.5:6001)
INFO:clipper::batching: Connected to logistic_reg model wrapper at V4(172.21.0.3:6001)
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Connected to linear_svm model wrapper at V4(172.21.0.6:6001)
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting prediction worker 0 output thread with 20 ms SLO
INFO:clipper::server: starting prediction worker 1 output thread with 20 ms SLO
INFO:clipper::server: starting input prediction worker 0 
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting input prediction worker 1 
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting prediction worker 2 output thread with 20 ms SLO
INFO:clipper::server: starting input prediction worker 2 
INFO:clipper::server: starting input prediction worker 3 
INFO:clipper::server: starting prediction worker 3 output thread with 20 ms SLO
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting prediction worker 4 output thread with 20 ms SLO
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting input prediction worker 4 
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting input prediction worker 5 
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting prediction worker 6 output thread with 20 ms SLO
INFO:clipper::server: starting prediction worker 5 output thread with 20 ms SLO
INFO:clipper::server: starting input prediction worker 6 
INFO:clipper::cmt: RedisUpdateTable connection string redis://redis:6379/2
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting input prediction worker 7 
INFO:clipper_benchmarks: starting benchmark
INFO:clipper::server: starting prediction worker 7 output thread with 20 ms SLO
INFO:clipper::server: starting update worker 0
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Connected to spark_svm model wrapper at V4(172.21.0.7:6001)
INFO:clipper::server: Error in getting correction state for update: failed to fill whole buffer
INFO:clipper::server: Creating model state for new user: 1
INFO:clipper_benchmarks: {
  "name": "caching_off_window_20_160907-095426",
  "counters": [
    {
      "name": "prediction_counter",
      "count": 0
    },
    {
      "name": "queued_predictions",
      "count": 0
    },
    {
      "name": "update_counter",
      "count": 1
    },
    {
      "name": "queued_updates",
      "count": 0
    },
    {
      "name": "logistic_reg:prediction_counter",
      "count": 400
    },
    {
      "name": "rf_d16:prediction_counter",
      "count": 400
    },
    {
      "name": "spark_svm:prediction_counter",
      "count": 400
    },
    {
      "name": "linear_svm:prediction_counter",
      "count": 400
    },
    {
      "name": "rf_d16:172.21.0.5:6001:alpha_gauge",
      "count": 0
    },
    {
      "name": "rf_d16:172.21.0.5:6001:beta_gauge",
      "count": 0
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_batch_size_gauge",
      "count": 0
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_thru_gauge",
      "count": 0
    },
    {
      "name": "rf_d16:172.21.0.5:6001:base_thru_gauge",
      "count": 0
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:alpha_gauge",
      "count": 0
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:beta_gauge",
      "count": 0
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:max_batch_size_gauge",
      "count": 0
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:max_thru_gauge",
      "count": 0
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:base_thru_gauge",
      "count": 0
    },
    {
      "name": "linear_svm:172.21.0.6:6001:alpha_gauge",
      "count": 0
    },
    {
      "name": "linear_svm:172.21.0.6:6001:beta_gauge",
      "count": 0
    },
    {
      "name": "linear_svm:172.21.0.6:6001:max_batch_size_gauge",
      "count": 0
    },
    {
      "name": "linear_svm:172.21.0.6:6001:max_thru_gauge",
      "count": 0
    },
    {
      "name": "linear_svm:172.21.0.6:6001:base_thru_gauge",
      "count": 0
    },
    {
      "name": "pred_ones_counter",
      "count": 0
    },
    {
      "name": "pred_zeros_counter",
      "count": 0
    },
    {
      "name": "spark_svm:172.21.0.7:6001:alpha_gauge",
      "count": 0
    },
    {
      "name": "spark_svm:172.21.0.7:6001:beta_gauge",
      "count": 0
    },
    {
      "name": "spark_svm:172.21.0.7:6001:max_batch_size_gauge",
      "count": 0
    },
    {
      "name": "spark_svm:172.21.0.7:6001:max_thru_gauge",
      "count": 0
    },
    {
      "name": "spark_svm:172.21.0.7:6001:base_thru_gauge",
      "count": 0
    }
  ],
  "ratio_counters": [
    {
      "name": "prediction accuracy ratio",
      "ratio": null
    },
    {
      "name": "cache_hits",
      "ratio": null
    },
    {
      "name": "update_cache_hits",
      "ratio": 0.0
    },
    {
      "name": "digits accuracy ratio",
      "ratio": null
    }
  ],
  "histograms": [
    {
      "name": "prediction_latency",
      "min": 0,
      "max": 0,
      "mean": 0.0,
      "std": 0.0,
      "p95": 0.0,
      "p99": 0.0,
      "p50": 0.0
    },
    {
      "name": "in_time_predictions",
      "min": 0,
      "max": 0,
      "mean": 0.0,
      "std": 0.0,
      "p95": 0.0,
      "p99": 0.0,
      "p50": 0.0
    },
    {
      "name": "update_latency",
      "min": 226494,
      "max": 226494,
      "mean": 226494.0,
      "std": null,
      "p95": 226494.0,
      "p99": 226494.0,
      "p50": 226494.0
    },
    {
      "name": "logistic_reg:model_latency",
      "min": 1371,
      "max": 6125,
      "mean": 4460.1325,
      "std": 1296.8151231392859,
      "p95": 6125.0,
      "p99": 6125.0,
      "p50": 4437.0
    },
    {
      "name": "logistic_reg:model_batch_size",
      "min": 1,
      "max": 39,
      "mean": 20.0,
      "std": 11.832159566199233,
      "p95": 38.9,
      "p99": 39.0,
      "p50": 20.0
    },
    {
      "name": "rf_d16:model_latency",
      "min": 7611,
      "max": 9077,
      "mean": 8632.7825,
      "std": 388.73652440601526,
      "p95": 9077.0,
      "p99": 9077.0,
      "p50": 8763.0
    },
    {
      "name": "rf_d16:model_batch_size",
      "min": 1,
      "max": 39,
      "mean": 20.0,
      "std": 11.832159566199233,
      "p95": 38.9,
      "p99": 39.0,
      "p50": 20.0
    },
    {
      "name": "spark_svm:model_latency",
      "min": 865,
      "max": 6642,
      "mean": 4867.7725,
      "std": 1366.9991303214129,
      "p95": 6642.0,
      "p99": 6642.0,
      "p50": 5220.0
    },
    {
      "name": "spark_svm:model_batch_size",
      "min": 1,
      "max": 39,
      "mean": 20.0,
      "std": 11.832159566199233,
      "p95": 38.9,
      "p99": 39.0,
      "p50": 20.0
    },
    {
      "name": "linear_svm:model_latency",
      "min": 1353,
      "max": 5866,
      "mean": 4208.02,
      "std": 1185.7917987889719,
      "p95": 5866.0,
      "p99": 5866.0,
      "p50": 4275.0
    },
    {
      "name": "linear_svm:model_batch_size",
      "min": 1,
      "max": 39,
      "mean": 20.0,
      "std": 11.832159566199233,
      "p95": 38.9,
      "p99": 39.0,
      "p50": 20.0
    }
  ],
  "meters": [
    {
      "name": "prediction_thruput",
      "rate": 0.0,
      "unit": "events per second"
    },
    {
      "name": "update_thruput",
      "rate": 0.04995479340970389,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:model_thruput",
      "rate": 19.981921356652568,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:model_thruput",
      "rate": 19.98235258531428,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:model_thruput",
      "rate": 19.982380535962414,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:model_thruput",
      "rate": 19.982419467352626,
      "unit": "events per second"
    }
  ]
}
INFO:clipper_benchmarks: SLEEP TIME: 20
INFO:clipper_benchmarks: Submitted 0 requests
INFO:clipper_benchmarks: Submitted 20000 requests
INFO:clipper_benchmarks: Submitted 20000 requests
INFO:clipper::batching: Connected to opt server at V4(172.21.0.4:7777)
INFO:clipper::batching: linear_svm BATCHER: Updated batching model: max_batch_size: 157, alpha = 93.73446329965815, beta = 5242.796605913168
INFO:clipper::batching: linear_svm BATCHER: Predicted max thruput: 7866.083251840173, baseline: 187.3876469621129, increase: 41.977597666459744
INFO:clipper::batching: Connected to opt server at V4(172.21.0.4:7777)
INFO:clipper::batching: logistic_reg BATCHER: Updated batching model: max_batch_size: 144, alpha = 99.39644971475843, beta = 5657.81064881083
INFO:clipper::batching: logistic_reg BATCHER: Predicted max thruput: 7210.491478627113, baseline: 173.69533228292215, increase: 41.512292724610276
INFO:clipper::batching: Connected to opt server at V4(172.21.0.4:7777)
INFO:clipper::batching: spark_svm BATCHER: Updated batching model: max_batch_size: 180, alpha = 86.84671527282575, beta = 4347.751826225123
INFO:clipper::batching: spark_svm BATCHER: Predicted max thruput: 9008.936605955842, baseline: 225.49955551607007, increase: 39.95101713321925
INFO:clipper::batching: Connected to opt server at V4(172.21.0.4:7777)
INFO:clipper::batching: rf_d16 BATCHER: Updated batching model: max_batch_size: 162, alpha = 73.90853640777327, beta = 8029.365853875153
INFO:clipper::batching: rf_d16 BATCHER: Predicted max thruput: 8098.967886996558, baseline: 123.40690341168181, increase: 65.62815906642304
INFO:clipper_benchmarks: {
  "name": "caching_off_window_20_160907-095426",
  "counters": [
    {
      "name": "prediction_counter",
      "count": 38950
    },
    {
      "name": "queued_predictions",
      "count": 5
    },
    {
      "name": "update_counter",
      "count": 2712
    },
    {
      "name": "queued_updates",
      "count": 29119
    },
    {
      "name": "logistic_reg:prediction_counter",
      "count": 99269
    },
    {
      "name": "rf_d16:prediction_counter",
      "count": 81360
    },
    {
      "name": "spark_svm:prediction_counter",
      "count": 84852
    },
    {
      "name": "linear_svm:prediction_counter",
      "count": 101635
    },
    {
      "name": "rf_d16:172.21.0.5:6001:alpha_gauge",
      "count": 73909
    },
    {
      "name": "rf_d16:172.21.0.5:6001:beta_gauge",
      "count": 8029366
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_batch_size_gauge",
      "count": 162
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_thru_gauge",
      "count": 8098968
    },
    {
      "name": "rf_d16:172.21.0.5:6001:base_thru_gauge",
      "count": 123407
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:alpha_gauge",
      "count": 99396
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:beta_gauge",
      "count": 5657811
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:max_batch_size_gauge",
      "count": 144
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:max_thru_gauge",
      "count": 7210491
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:base_thru_gauge",
      "count": 173695
    },
    {
      "name": "linear_svm:172.21.0.6:6001:alpha_gauge",
      "count": 93734
    },
    {
      "name": "linear_svm:172.21.0.6:6001:beta_gauge",
      "count": 5242797
    },
    {
      "name": "linear_svm:172.21.0.6:6001:max_batch_size_gauge",
      "count": 157
    },
    {
      "name": "linear_svm:172.21.0.6:6001:max_thru_gauge",
      "count": 7866083
    },
    {
      "name": "linear_svm:172.21.0.6:6001:base_thru_gauge",
      "count": 187388
    },
    {
      "name": "pred_ones_counter",
      "count": 38937
    },
    {
      "name": "pred_zeros_counter",
      "count": 13
    },
    {
      "name": "spark_svm:172.21.0.7:6001:alpha_gauge",
      "count": 86847
    },
    {
      "name": "spark_svm:172.21.0.7:6001:beta_gauge",
      "count": 4347752
    },
    {
      "name": "spark_svm:172.21.0.7:6001:max_batch_size_gauge",
      "count": 180
    },
    {
      "name": "spark_svm:172.21.0.7:6001:max_thru_gauge",
      "count": 9008937
    },
    {
      "name": "spark_svm:172.21.0.7:6001:base_thru_gauge",
      "count": 225500
    }
  ],
  "ratio_counters": [
    {
      "name": "prediction accuracy ratio",
      "ratio": null
    },
    {
      "name": "cache_hits",
      "ratio": 0.0
    },
    {
      "name": "update_cache_hits",
      "ratio": 0.0
    },
    {
      "name": "digits accuracy ratio",
      "ratio": 0.9996662387676508
    }
  ],
  "histograms": [
    {
      "name": "prediction_latency",
      "min": 17067,
      "max": 22423,
      "mean": 19070.219357976654,
      "std": 971.0369147928009,
      "p95": 20201.0,
      "p99": 20418.61,
      "p50": 19219.0
    },
    {
      "name": "in_time_predictions",
      "min": 0,
      "max": 3,
      "mean": 0.005593385214007782,
      "std": 0.12561824936336084,
      "p95": 0.0,
      "p99": 0.0,
      "p50": 0.0
    },
    {
      "name": "update_latency",
      "min": 85306,
      "max": 9197158,
      "mean": 4853096.827821012,
      "std": 2580865.166259764,
      "p95": 8787111.95,
      "p99": 9130123.61,
      "p50": 4916826.0
    },
    {
      "name": "logistic_reg:model_latency",
      "min": 1114,
      "max": 23231,
      "mean": 13582.165004863813,
      "std": 3757.2191634291618,
      "p95": 20088.0,
      "p99": 22827.0,
      "p50": 12922.0
    },
    {
      "name": "logistic_reg:model_batch_size",
      "min": 1,
      "max": 178,
      "mean": 149.95317220543809,
      "std": 32.5394104895142,
      "p95": 176.0,
      "p99": 176.0,
      "p50": 159.0
    },
    {
      "name": "rf_d16:model_latency",
      "min": 7712,
      "max": 21951,
      "mean": 17777.673516536965,
      "std": 2048.778724389095,
      "p95": 19596.0,
      "p99": 20446.0,
      "p50": 18464.0
    },
    {
      "name": "rf_d16:model_batch_size",
      "min": 4,
      "max": 187,
      "mean": 158.28793774319068,
      "std": 38.02136942011571,
      "p95": 184.0,
      "p99": 184.0,
      "p50": 172.0
    },
    {
      "name": "spark_svm:model_latency",
      "min": 1775,
      "max": 20392,
      "mean": 17995.883633268484,
      "std": 2181.2534254637046,
      "p95": 19714.0,
      "p99": 20131.0,
      "p50": 18498.0
    },
    {
      "name": "spark_svm:model_batch_size",
      "min": 3,
      "max": 195,
      "mean": 164.1237911025145,
      "std": 40.0278991214917,
      "p95": 187.0,
      "p99": 193.0,
      "p50": 179.0
    },
    {
      "name": "linear_svm:model_latency",
      "min": 1205,
      "max": 26996,
      "mean": 13458.41439688716,
      "std": 3178.9438520999985,
      "p95": 20159.0,
      "p99": 21477.0,
      "p50": 12587.0
    },
    {
      "name": "linear_svm:model_batch_size",
      "min": 1,
      "max": 181,
      "mean": 153.99697428139184,
      "std": 32.5290078924567,
      "p95": 176.0,
      "p99": 178.0,
      "p50": 160.0
    }
  ],
  "meters": [
    {
      "name": "prediction_thruput",
      "rate": 3892.2594601141338,
      "unit": "events per second"
    },
    {
      "name": "update_thruput",
      "rate": 271.00912827095876,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:model_thruput",
      "rate": 9919.913404988865,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:model_thruput",
      "rate": 8130.273848128763,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:model_thruput",
      "rate": 8479.227232337542,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:model_thruput",
      "rate": 10172.034818673726,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:cache_included_thruput",
      "rate": 9.412717522644846,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:cache_included_thruput",
      "rate": 1.0013551339027108,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:cache_included_thruput",
      "rate": 6.4086837665036129,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:cache_included_thruput",
      "rate": 6.709101567186045,
      "unit": "events per second"
    }
  ]
}
INFO:clipper_benchmarks: Submitted 40000 requests
INFO:clipper_benchmarks: Submitted 60000 requests
INFO:clipper_benchmarks: {
  "name": "caching_off_window_20_160907-095426",
  "counters": [
    {
      "name": "prediction_counter",
      "count": 78047
    },
    {
      "name": "queued_predictions",
      "count": 17
    },
    {
      "name": "update_counter",
      "count": 5662
    },
    {
      "name": "queued_updates",
      "count": 58648
    },
    {
      "name": "logistic_reg:prediction_counter",
      "count": 218645
    },
    {
      "name": "rf_d16:prediction_counter",
      "count": 176940
    },
    {
      "name": "spark_svm:prediction_counter",
      "count": 170892
    },
    {
      "name": "linear_svm:prediction_counter",
      "count": 225351
    },
    {
      "name": "rf_d16:172.21.0.5:6001:alpha_gauge",
      "count": 73909
    },
    {
      "name": "rf_d16:172.21.0.5:6001:beta_gauge",
      "count": 8029366
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_batch_size_gauge",
      "count": 162
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_thru_gauge",
      "count": 8098968
    },
    {
      "name": "rf_d16:172.21.0.5:6001:base_thru_gauge",
      "count": 123407
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:alpha_gauge",
      "count": 99396
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:beta_gauge",
      "count": 5657811
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:max_batch_size_gauge",
      "count": 144
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:max_thru_gauge",
      "count": 7210491
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:base_thru_gauge",
      "count": 173695
    },
    {
      "name": "linear_svm:172.21.0.6:6001:alpha_gauge",
      "count": 93734
    },
    {
      "name": "linear_svm:172.21.0.6:6001:beta_gauge",
      "count": 5242797
    },
    {
      "name": "linear_svm:172.21.0.6:6001:max_batch_size_gauge",
      "count": 157
    },
    {
      "name": "linear_svm:172.21.0.6:6001:max_thru_gauge",
      "count": 7866083
    },
    {
      "name": "linear_svm:172.21.0.6:6001:base_thru_gauge",
      "count": 187388
    },
    {
      "name": "pred_ones_counter",
      "count": 78034
    },
    {
      "name": "pred_zeros_counter",
      "count": 13
    },
    {
      "name": "spark_svm:172.21.0.7:6001:alpha_gauge",
      "count": 86847
    },
    {
      "name": "spark_svm:172.21.0.7:6001:beta_gauge",
      "count": 4347752
    },
    {
      "name": "spark_svm:172.21.0.7:6001:max_batch_size_gauge",
      "count": 180
    },
    {
      "name": "spark_svm:172.21.0.7:6001:max_thru_gauge",
      "count": 9008937
    },
    {
      "name": "spark_svm:172.21.0.7:6001:base_thru_gauge",
      "count": 225500
    }
  ],
  "ratio_counters": [
    {
      "name": "prediction accuracy ratio",
      "ratio": null
    },
    {
      "name": "cache_hits",
      "ratio": 0.0
    },
    {
      "name": "update_cache_hits",
      "ratio": 0.0
    },
    {
      "name": "digits accuracy ratio",
      "ratio": 0.9998334337002063
    }
  ],
  "histograms": [
    {
      "name": "prediction_latency",
      "min": 17054,
      "max": 21963,
      "mean": 19052.4280155642,
      "std": 968.2822337705125,
      "p95": 20190.35,
      "p99": 20381.87,
      "p50": 19209.0
    },
    {
      "name": "in_time_predictions",
      "min": 0,
      "max": 3,
      "mean": 0.002188715953307393,
      "std": 0.08101205732101949,
      "p95": 0.0,
      "p99": 0.0,
      "p50": 0.0
    },
    {
      "name": "update_latency",
      "min": 103200,
      "max": 18226368,
      "mean": 9415617.820038911,
      "std": 5128374.043954185,
      "p95": 17414536.65,
      "p99": 18038696.040000004,
      "p50": 9506405.5
    },
    {
      "name": "logistic_reg:model_latency",
      "min": 1282,
      "max": 23231,
      "mean": 11577.88801070039,
      "std": 3145.0726704060759,
      "p95": 19156.0,
      "p99": 22344.0,
      "p50": 10301.0
    },
    {
      "name": "logistic_reg:model_batch_size",
      "min": 1,
      "max": 178,
      "mean": 146.64142091152815,
      "std": 21.866725763868279,
      "p95": 176.0,
      "p99": 176.0,
      "p50": 144.0
    },
    {
      "name": "rf_d16:model_latency",
      "min": 7712,
      "max": 21951,
      "mean": 16064.119041828793,
      "std": 2120.362738960421,
      "p95": 19272.0,
      "p99": 20084.0,
      "p50": 15145.0
    },
    {
      "name": "rf_d16:model_batch_size",
      "min": 4,
      "max": 187,
      "mean": 160.27173913043479,
      "std": 25.99585848633267,
      "p95": 182.0,
      "p99": 184.0,
      "p50": 162.0
    },
    {
      "name": "spark_svm:model_latency",
      "min": 1775,
      "max": 20392,
      "mean": 18254.00012159533,
      "std": 1605.1264275669335,
      "p95": 19601.0,
      "p99": 20095.0,
      "p50": 18558.0
    },
    {
      "name": "spark_svm:model_batch_size",
      "min": 3,
      "max": 195,
      "mean": 171.75075376884423,
      "std": 29.911912711611796,
      "p95": 187.0,
      "p99": 191.0,
      "p50": 180.0
    },
    {
      "name": "linear_svm:model_latency",
      "min": 1205,
      "max": 26996,
      "mean": 11826.995500972762,
      "std": 2661.5328012447655,
      "p95": 19095.0,
      "p99": 20942.0,
      "p50": 10940.0
    },
    {
      "name": "linear_svm:model_batch_size",
      "min": 1,
      "max": 181,
      "mean": 155.62914364640884,
      "std": 22.01981030134226,
      "p95": 174.0,
      "p99": 176.0,
      "p50": 157.0
    }
  ],
  "meters": [
    {
      "name": "prediction_thruput",
      "rate": 3900.577446753675,
      "unit": "events per second"
    },
    {
      "name": "update_thruput",
      "rate": 282.9097714696638,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:model_thruput",
      "rate": 10932.099256459956,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:model_thruput",
      "rate": 8841.055274433471,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:model_thruput",
      "rate": 8538.85847156372,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:model_thruput",
      "rate": 11259.978227640822,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:cache_included_thruput",
      "rate": 4.701670503529904,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:cache_included_thruput",
      "rate": 0.5001782885509539,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:cache_included_thruput",
      "rate": 3.201143608554156,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:cache_included_thruput",
      "rate": 3.351199897123165,
      "unit": "events per second"
    }
  ]
}
INFO:clipper_benchmarks: Submitted 80000 requests
INFO:clipper_benchmarks: Submitted 100000 requests
INFO:clipper_benchmarks: {
  "name": "caching_off_window_20_160907-095426",
  "counters": [
    {
      "name": "prediction_counter",
      "count": 116998
    },
    {
      "name": "queued_predictions",
      "count": 114
    },
    {
      "name": "update_counter",
      "count": 8583
    },
    {
      "name": "queued_updates",
      "count": 87879
    },
    {
      "name": "logistic_reg:prediction_counter",
      "count": 337445
    },
    {
      "name": "rf_d16:prediction_counter",
      "count": 269604
    },
    {
      "name": "spark_svm:prediction_counter",
      "count": 258192
    },
    {
      "name": "linear_svm:prediction_counter",
      "count": 352364
    },
    {
      "name": "rf_d16:172.21.0.5:6001:alpha_gauge",
      "count": 73909
    },
    {
      "name": "rf_d16:172.21.0.5:6001:beta_gauge",
      "count": 8029366
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_batch_size_gauge",
      "count": 162
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_thru_gauge",
      "count": 8098968
    },
    {
      "name": "rf_d16:172.21.0.5:6001:base_thru_gauge",
      "count": 123407
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:alpha_gauge",
      "count": 99396
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:beta_gauge",
      "count": 5657811
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:max_batch_size_gauge",
      "count": 144
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:max_thru_gauge",
      "count": 7210491
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:base_thru_gauge",
      "count": 173695
    },
    {
      "name": "linear_svm:172.21.0.6:6001:alpha_gauge",
      "count": 93734
    },
    {
      "name": "linear_svm:172.21.0.6:6001:beta_gauge",
      "count": 5242797
    },
    {
      "name": "linear_svm:172.21.0.6:6001:max_batch_size_gauge",
      "count": 157
    },
    {
      "name": "linear_svm:172.21.0.6:6001:max_thru_gauge",
      "count": 7866083
    },
    {
      "name": "linear_svm:172.21.0.6:6001:base_thru_gauge",
      "count": 187388
    },
    {
      "name": "pred_ones_counter",
      "count": 116985
    },
    {
      "name": "pred_zeros_counter",
      "count": 13
    },
    {
      "name": "spark_svm:172.21.0.7:6001:alpha_gauge",
      "count": 86847
    },
    {
      "name": "spark_svm:172.21.0.7:6001:beta_gauge",
      "count": 4347752
    },
    {
      "name": "spark_svm:172.21.0.7:6001:max_batch_size_gauge",
      "count": 180
    },
    {
      "name": "spark_svm:172.21.0.7:6001:max_thru_gauge",
      "count": 9008937
    },
    {
      "name": "spark_svm:172.21.0.7:6001:base_thru_gauge",
      "count": 225500
    }
  ],
  "ratio_counters": [
    {
      "name": "prediction accuracy ratio",
      "ratio": null
    },
    {
      "name": "cache_hits",
      "ratio": 0.0
    },
    {
      "name": "update_cache_hits",
      "ratio": 0.0
    },
    {
      "name": "digits accuracy ratio",
      "ratio": 0.9998888869895212
    }
  ],
  "histograms": [
    {
      "name": "prediction_latency",
      "min": 17054,
      "max": 21224,
      "mean": 19057.451118677043,
      "std": 971.7172277752688,
      "p95": 20195.7,
      "p99": 20388.739999999998,
      "p50": 19217.5
    },
    {
      "name": "in_time_predictions",
      "min": 0,
      "max": 3,
      "mean": 0.002188715953307393,
      "std": 0.08101205732101949,
      "p95": 0.0,
      "p99": 0.0,
      "p50": 0.0
    },
    {
      "name": "update_latency",
      "min": 103200,
      "max": 27343642,
      "mean": 14161065.192120623,
      "std": 7663854.5799062759,
      "p95": 26028289.65,
      "p99": 27112457.56,
      "p50": 14358959.5
    },
    {
      "name": "logistic_reg:model_latency",
      "min": 2619,
      "max": 23231,
      "mean": 11034.528088521402,
      "std": 2698.285907851446,
      "p95": 18613.0,
      "p99": 21158.0,
      "p50": 10173.0
    },
    {
      "name": "logistic_reg:model_batch_size",
      "min": 1,
      "max": 178,
      "mean": 145.7016407599309,
      "std": 17.594310313453673,
      "p95": 172.0,
      "p99": 176.0,
      "p50": 144.0
    },
    {
      "name": "rf_d16:model_latency",
      "min": 8171,
      "max": 21951,
      "mean": 15673.584630350195,
      "std": 1825.0782238852619,
      "p95": 19032.0,
      "p99": 19716.0,
      "p50": 15021.0
    },
    {
      "name": "rf_d16:model_batch_size",
      "min": 4,
      "max": 187,
      "mean": 160.8615751789976,
      "std": 21.1111611626816,
      "p95": 181.0,
      "p99": 184.0,
      "p50": 162.0
    },
    {
      "name": "spark_svm:model_latency",
      "min": 1775,
      "max": 20392,
      "mean": 18199.863326848248,
      "std": 1391.5441763537206,
      "p95": 19540.0,
      "p99": 20009.0,
      "p50": 18378.0
    },
    {
      "name": "spark_svm:model_batch_size",
      "min": 3,
      "max": 195,
      "mean": 174.45405405405405,
      "std": 24.825869237919976,
      "p95": 185.0,
      "p99": 189.0,
      "p50": 180.0
    },
    {
      "name": "linear_svm:model_latency",
      "min": 1205,
      "max": 26996,
      "mean": 11208.711575875486,
      "std": 2285.6301408333008,
      "p95": 15712.0,
      "p99": 20261.0,
      "p50": 10486.0
    },
    {
      "name": "linear_svm:model_batch_size",
      "min": 1,
      "max": 181,
      "mean": 156.1209034543844,
      "std": 17.643468410769477,
      "p95": 172.0,
      "p99": 176.0,
      "p50": 157.0
    }
  ],
  "meters": [
    {
      "name": "prediction_thruput",
      "rate": 3898.0862634964407,
      "unit": "events per second"
    },
    {
      "name": "update_thruput",
      "rate": 285.91073662271369,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:model_thruput",
      "rate": 11240.725306513756,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:model_thruput",
      "rate": 8980.854674205675,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:model_thruput",
      "rate": 8600.706332407946,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:model_thruput",
      "rate": 11742.926182866942,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:cache_included_thruput",
      "rate": 3.133405923903904,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:cache_included_thruput",
      "rate": 0.33334130019040789,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:cache_included_thruput",
      "rate": 2.1333854590513829,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:cache_included_thruput",
      "rate": 2.2333890936143709,
      "unit": "events per second"
    }
  ]
}
INFO:clipper_benchmarks: Submitted 120000 requests
INFO:clipper_benchmarks: Submitted 140000 requests
INFO:clipper_benchmarks: Submitted 140000 requests
INFO:clipper_benchmarks: {
  "name": "caching_off_window_20_160907-095426",
  "counters": [
    {
      "name": "prediction_counter",
      "count": 156443
    },
    {
      "name": "queued_predictions",
      "count": 112
    },
    {
      "name": "update_counter",
      "count": 11434
    },
    {
      "name": "queued_updates",
      "count": 117785
    },
    {
      "name": "logistic_reg:prediction_counter",
      "count": 459845
    },
    {
      "name": "rf_d16:prediction_counter",
      "count": 366966
    },
    {
      "name": "spark_svm:prediction_counter",
      "count": 342972
    },
    {
      "name": "linear_svm:prediction_counter",
      "count": 474667
    },
    {
      "name": "rf_d16:172.21.0.5:6001:alpha_gauge",
      "count": 73909
    },
    {
      "name": "rf_d16:172.21.0.5:6001:beta_gauge",
      "count": 8029366
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_batch_size_gauge",
      "count": 162
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_thru_gauge",
      "count": 8098968
    },
    {
      "name": "rf_d16:172.21.0.5:6001:base_thru_gauge",
      "count": 123407
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:alpha_gauge",
      "count": 99396
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:beta_gauge",
      "count": 5657811
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:max_batch_size_gauge",
      "count": 144
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:max_thru_gauge",
      "count": 7210491
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:base_thru_gauge",
      "count": 173695
    },
    {
      "name": "linear_svm:172.21.0.6:6001:alpha_gauge",
      "count": 93734
    },
    {
      "name": "linear_svm:172.21.0.6:6001:beta_gauge",
      "count": 5242797
    },
    {
      "name": "linear_svm:172.21.0.6:6001:max_batch_size_gauge",
      "count": 157
    },
    {
      "name": "linear_svm:172.21.0.6:6001:max_thru_gauge",
      "count": 7866083
    },
    {
      "name": "linear_svm:172.21.0.6:6001:base_thru_gauge",
      "count": 187388
    },
    {
      "name": "pred_ones_counter",
      "count": 156430
    },
    {
      "name": "pred_zeros_counter",
      "count": 13
    },
    {
      "name": "spark_svm:172.21.0.7:6001:alpha_gauge",
      "count": 86847
    },
    {
      "name": "spark_svm:172.21.0.7:6001:beta_gauge",
      "count": 4347752
    },
    {
      "name": "spark_svm:172.21.0.7:6001:max_batch_size_gauge",
      "count": 180
    },
    {
      "name": "spark_svm:172.21.0.7:6001:max_thru_gauge",
      "count": 9008937
    },
    {
      "name": "spark_svm:172.21.0.7:6001:base_thru_gauge",
      "count": 225500
    }
  ],
  "ratio_counters": [
    {
      "name": "prediction accuracy ratio",
      "ratio": null
    },
    {
      "name": "cache_hits",
      "ratio": 0.0
    },
    {
      "name": "update_cache_hits",
      "ratio": 0.0
    },
    {
      "name": "digits accuracy ratio",
      "ratio": 0.9999169026418567
    }
  ],
  "histograms": [
    {
      "name": "prediction_latency",
      "min": 17054,
      "max": 21224,
      "mean": 19043.785749027236,
      "std": 972.9513019734833,
      "p95": 20204.35,
      "p99": 20381.35,
      "p50": 19185.5
    },
    {
      "name": "in_time_predictions",
      "min": 0,
      "max": 3,
      "mean": 0.002188715953307393,
      "std": 0.08101205732101949,
      "p95": 0.0,
      "p99": 0.0,
      "p50": 0.0
    },
    {
      "name": "update_latency",
      "min": 103200,
      "max": 36451689,
      "mean": 18861185.064688717,
      "std": 10212982.413747255,
      "p95": 34837909.949999999,
      "p99": 36214354.78,
      "p50": 18918461.5
    },
    {
      "name": "logistic_reg:model_latency",
      "min": 2619,
      "max": 23231,
      "mean": 10643.33560311284,
      "std": 2401.0786533790258,
      "p95": 16095.0,
      "p99": 20642.0,
      "p50": 9931.0
    },
    {
      "name": "logistic_reg:model_batch_size",
      "min": 1,
      "max": 178,
      "mean": 145.2447883765003,
      "std": 15.066270552974619,
      "p95": 170.0,
      "p99": 176.0,
      "p50": 144.0
    },
    {
      "name": "rf_d16:model_latency",
      "min": 8171,
      "max": 21951,
      "mean": 15275.44905155642,
      "std": 1706.7108034426745,
      "p95": 18942.0,
      "p99": 19611.0,
      "p50": 14776.0
    },
    {
      "name": "rf_d16:model_batch_size",
      "min": 4,
      "max": 187,
      "mean": 161.16205533596838,
      "std": 18.11757637294879,
      "p95": 180.0,
      "p99": 184.0,
      "p50": 162.0
    },
    {
      "name": "spark_svm:model_latency",
      "min": 5010,
      "max": 20392,
      "mean": 18326.3358463035,
      "std": 1206.4254895860577,
      "p95": 19526.0,
      "p99": 19989.0,
      "p50": 18477.0
    },
    {
      "name": "spark_svm:model_batch_size",
      "min": 3,
      "max": 195,
      "mean": 175.79292670425424,
      "std": 21.75071283699,
      "p95": 184.0,
      "p99": 187.0,
      "p50": 180.0
    },
    {
      "name": "linear_svm:model_latency",
      "min": 1205,
      "max": 26996,
      "mean": 10990.379377431907,
      "std": 1956.5281486578777,
      "p95": 14766.0,
      "p99": 19962.0,
      "p50": 10459.0
    },
    {
      "name": "linear_svm:model_batch_size",
      "min": 1,
      "max": 181,
      "mean": 156.34617918313573,
      "std": 15.219786454788947,
      "p95": 170.0,
      "p99": 176.0,
      "p50": 157.0
    }
  ],
  "meters": [
    {
      "name": "prediction_thruput",
      "rate": 3910.378986609915,
      "unit": "events per second"
    },
    {
      "name": "update_thruput",
      "rate": 285.67313262176557,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:model_thruput",
      "rate": 11489.011578481184,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:model_thruput",
      "rate": 9172.5208337258,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:model_thruput",
      "rate": 8568.99450705096,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:model_thruput",
      "rate": 11859.332294409916,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:cache_included_thruput",
      "rate": 2.349752571054268,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:cache_included_thruput",
      "rate": 0.2499738214915443,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:cache_included_thruput",
      "rate": 1.5998330974121125,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:cache_included_thruput",
      "rate": 1.6748259855800983,
      "unit": "events per second"
    }
  ]
}
INFO:clipper_benchmarks: Submitted 160000 requests
INFO:clipper_benchmarks: writing results to: /tmp/benchmarking_logs/caching_off_window_20_160907-095426_results.json
/tmp/digits_bench.toml contains:
salt_update_cache = false
num_message_encodes = 1
use_lsh = false
window_size = 20
load_generator = "uniform"
input_type = "float"
request_generator = "cached_updates"
results_path = "/tmp/benchmarking_logs"
num_update_workers = 1
input_length = 784
num_benchmark_requests = 300000
redis_ip = "redis"
mnist_path = "/mnist_data/test.data"
bench_batch_size = 200
target_qps = 10000
name = "caching_on_window_20_160907-095556"
wait_to_end = false
salt_cache = false
num_predict_workers = 8
redis_port = 6379
cache_size = 1000000
slo_micros = 20000
correction_policy = "logistic_regression"
send_updates = true
[[models]]
version = 1
num_outputs = 1
name = "logistic_reg"
addresses = [ "logistic_reg_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "rf_d16"
addresses = [ "rf_d16_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "spark_svm"
INFO:clipper_benchmarks: Args { flag_conf: "/tmp/digits_bench.toml", cmd_digits: true }
addresses = [ "spark_svm_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "linear_svm"
addresses = [ "linear_svm_r0:6001",]
[batching]
sample_size = 500
opt_addr = "quantilereg:7777"
strategy = "learned"
INFO:clipper_benchmarks: MNIST data loaded: 10000 points
/tmp/digits_bench.toml contains:
salt_update_cache = false
INFO:clipper::configuration: logistic_reg_r0:6001
num_message_encodes = 1
use_lsh = false
window_size = 20
load_generator = "uniform"
input_type = "float"
request_generator = "cached_updates"
results_path = "/tmp/benchmarking_logs"
num_update_workers = 1
input_length = 784
num_benchmark_requests = 300000
redis_ip = "redis"
mnist_path = "/mnist_data/test.data"
bench_batch_size = 200
target_qps = 10000
name = "caching_on_window_20_160907-095556"
wait_to_end = false
salt_cache = false
num_predict_workers = 8
redis_port = 6379
cache_size = 1000000
slo_micros = 20000
correction_policy = "logistic_regression"
send_updates = true
[[models]]
version = 1
num_outputs = 1
name = "logistic_reg"
addresses = [ "logistic_reg_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "rf_d16"
addresses = [ "rf_d16_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "spark_svm"
addresses = [ "spark_svm_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "linear_svm"
addresses = [ "linear_svm_r0:6001",]
[batching]
sample_size = 500
opt_addr = "quantilereg:7777"
strategy = "learned"
INFO:clipper::configuration: rf_d16_r0:6001
INFO:clipper::configuration: spark_svm_r0:6001
INFO:clipper::configuration: linear_svm_r0:6001
INFO:clipper::configuration: quantilereg:7777
INFO:clipper::batching: Connected to logistic_reg model wrapper at V4(172.21.0.3:6001)
INFO:clipper::batching: Connected to rf_d16 model wrapper at V4(172.21.0.7:6001)
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Connected to linear_svm model wrapper at V4(172.21.0.6:6001)
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting input prediction worker 0 
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting prediction worker 0 output thread with 20 ms SLO
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting input prediction worker 1 
INFO:clipper::server: starting input prediction worker 2 
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting prediction worker 1 output thread with 20 ms SLO
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting prediction worker 2 output thread with 20 ms SLO
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting prediction worker 3 output thread with 20 ms SLO
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting input prediction worker 4 
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting input prediction worker 5 
INFO:clipper::server: starting prediction worker 4 output thread with 20 ms SLO
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting input prediction worker 6 
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting input prediction worker 3 
INFO:clipper::server: starting prediction worker 5 output thread with 20 ms SLO
INFO:clipper::server: starting input prediction worker 7 
INFO:clipper::server: starting prediction worker 7 output thread with 20 ms SLO
INFO:clipper::cmt: RedisUpdateTable connection string redis://redis:6379/2
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting prediction worker 6 output thread with 20 ms SLO
INFO:clipper_benchmarks: starting benchmark
INFO:clipper::server: starting update worker 0
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Connected to spark_svm model wrapper at V4(172.21.0.4:6001)
INFO:clipper::server: Error in getting correction state for update: failed to fill whole buffer
INFO:clipper::server: Creating model state for new user: 1
INFO:clipper_benchmarks: {
  "name": "caching_on_window_20_160907-095556",
  "counters": [
    {
      "name": "prediction_counter",
      "count": 0
    },
    {
      "name": "queued_predictions",
      "count": 0
    },
    {
      "name": "update_counter",
      "count": 1
    },
    {
      "name": "queued_updates",
      "count": 0
    },
    {
      "name": "logistic_reg:prediction_counter",
      "count": 388
    },
    {
      "name": "rf_d16:prediction_counter",
      "count": 397
    },
    {
      "name": "spark_svm:prediction_counter",
      "count": 385
    },
    {
      "name": "linear_svm:prediction_counter",
      "count": 388
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:alpha_gauge",
      "count": 0
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:beta_gauge",
      "count": 0
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:max_batch_size_gauge",
      "count": 0
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:max_thru_gauge",
      "count": 0
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:base_thru_gauge",
      "count": 0
    },
    {
      "name": "rf_d16:172.21.0.7:6001:alpha_gauge",
      "count": 0
    },
    {
      "name": "rf_d16:172.21.0.7:6001:beta_gauge",
      "count": 0
    },
    {
      "name": "rf_d16:172.21.0.7:6001:max_batch_size_gauge",
      "count": 0
    },
    {
      "name": "rf_d16:172.21.0.7:6001:max_thru_gauge",
      "count": 0
    },
    {
      "name": "rf_d16:172.21.0.7:6001:base_thru_gauge",
      "count": 0
    },
    {
      "name": "linear_svm:172.21.0.6:6001:alpha_gauge",
      "count": 0
    },
    {
      "name": "linear_svm:172.21.0.6:6001:beta_gauge",
      "count": 0
    },
    {
      "name": "linear_svm:172.21.0.6:6001:max_batch_size_gauge",
      "count": 0
    },
    {
      "name": "linear_svm:172.21.0.6:6001:max_thru_gauge",
      "count": 0
    },
    {
      "name": "linear_svm:172.21.0.6:6001:base_thru_gauge",
      "count": 0
    },
    {
      "name": "pred_ones_counter",
      "count": 0
    },
    {
      "name": "pred_zeros_counter",
      "count": 0
    },
    {
      "name": "spark_svm:172.21.0.4:6001:alpha_gauge",
      "count": 0
    },
    {
      "name": "spark_svm:172.21.0.4:6001:beta_gauge",
      "count": 0
    },
    {
      "name": "spark_svm:172.21.0.4:6001:max_batch_size_gauge",
      "count": 0
    },
    {
      "name": "spark_svm:172.21.0.4:6001:max_thru_gauge",
      "count": 0
    },
    {
      "name": "spark_svm:172.21.0.4:6001:base_thru_gauge",
      "count": 0
    }
  ],
  "ratio_counters": [
    {
      "name": "prediction accuracy ratio",
      "ratio": null
    },
    {
      "name": "cache_hits",
      "ratio": null
    },
    {
      "name": "update_cache_hits",
      "ratio": 0.02625
    },
    {
      "name": "digits accuracy ratio",
      "ratio": null
    }
  ],
  "histograms": [
    {
      "name": "prediction_latency",
      "min": 0,
      "max": 0,
      "mean": 0.0,
      "std": 0.0,
      "p95": 0.0,
      "p99": 0.0,
      "p50": 0.0
    },
    {
      "name": "in_time_predictions",
      "min": 0,
      "max": 0,
      "mean": 0.0,
      "std": 0.0,
      "p95": 0.0,
      "p99": 0.0,
      "p50": 0.0
    },
    {
      "name": "update_latency",
      "min": 211723,
      "max": 211723,
      "mean": 211723.0,
      "std": null,
      "p95": 211723.0,
      "p99": 211723.0,
      "p50": 211723.0
    },
    {
      "name": "logistic_reg:model_latency",
      "min": 1350,
      "max": 5781,
      "mean": 3945.0438144329898,
      "std": 1072.37067458431,
      "p95": 5781.0,
      "p99": 5781.0,
      "p50": 3959.0
    },
    {
      "name": "logistic_reg:model_batch_size",
      "min": 1,
      "max": 37,
      "mean": 19.4,
      "std": 11.099549540409287,
      "p95": 36.9,
      "p99": 37.0,
      "p50": 20.0
    },
    {
      "name": "rf_d16:model_latency",
      "min": 7340,
      "max": 8129,
      "mean": 7765.410579345088,
      "std": 201.2036010605027,
      "p95": 8073.0,
      "p99": 8073.0,
      "p50": 7770.0
    },
    {
      "name": "rf_d16:model_batch_size",
      "min": 1,
      "max": 37,
      "mean": 19.85,
      "std": 11.595257651298655,
      "p95": 36.95,
      "p99": 37.0,
      "p50": 20.0
    },
    {
      "name": "spark_svm:model_latency",
      "min": 781,
      "max": 5034,
      "mean": 3843.5792207792208,
      "std": 1048.1608767386027,
      "p95": 5034.0,
      "p99": 5034.0,
      "p50": 4095.0
    },
    {
      "name": "spark_svm:model_batch_size",
      "min": 1,
      "max": 37,
      "mean": 19.25,
      "std": 11.01135777277262,
      "p95": 36.9,
      "p99": 37.0,
      "p50": 20.0
    },
    {
      "name": "linear_svm:model_latency",
      "min": 1361,
      "max": 5966,
      "mean": 4010.783505154639,
      "std": 1139.027693858141,
      "p95": 5966.0,
      "p99": 5966.0,
      "p50": 3996.0
    },
    {
      "name": "linear_svm:model_batch_size",
      "min": 1,
      "max": 37,
      "mean": 19.4,
      "std": 11.099549540409287,
      "p95": 36.9,
      "p99": 37.0,
      "p50": 20.0
    }
  ],
  "meters": [
    {
      "name": "prediction_thruput",
      "rate": 0.0,
      "unit": "events per second"
    },
    {
      "name": "update_thruput",
      "rate": 0.049937206459737207,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:model_thruput",
      "rate": 19.375644814468218,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:model_thruput",
      "rate": 19.825642215973457,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:model_thruput",
      "rate": 19.226406315489947,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:model_thruput",
      "rate": 19.376249562099259,
      "unit": "events per second"
    }
  ]
}
INFO:clipper_benchmarks: SLEEP TIME: 20
INFO:clipper_benchmarks: Submitted 0 requests
INFO:clipper_benchmarks: Submitted 0 requests
INFO:clipper_benchmarks: Submitted 0 requests
INFO:clipper_benchmarks: Submitted 0 requests
INFO:clipper_benchmarks: Submitted 0 requests
INFO:clipper_benchmarks: Submitted 0 requests
INFO:clipper::batching: Connected to opt server at V4(172.21.0.5:7777)
INFO:clipper::batching: Connected to opt server at V4(172.21.0.5:7777)
INFO:clipper::batching: Connected to opt server at V4(172.21.0.5:7777)
INFO:clipper::batching: linear_svm BATCHER: Updated batching model: max_batch_size: 136, alpha = 142.33333356177152, beta = 660.6666635117864
INFO:clipper::batching: linear_svm BATCHER: Predicted max thruput: 6793.885493573994, baseline: 1245.3300169917636, increase: 5.455490031458004
INFO:clipper::batching: spark_svm BATCHER: Updated batching model: max_batch_size: 95, alpha = 206.09090937618964, beta = 512.181812361405
INFO:clipper::batching: spark_svm BATCHER: Predicted max thruput: 4728.528178376742, baseline: 1392.2288425221977, increase: 3.396372804495573
INFO:clipper::batching: logistic_reg BATCHER: Updated batching model: max_batch_size: 157, alpha = 118.66666691445457, beta = 1404.33332703337
INFO:clipper::batching: logistic_reg BATCHER: Predicted max thruput: 7836.286485875499, baseline: 656.5988207313534, increase: 11.934664270561804
INFO:clipper::batching: Connected to opt server at V4(172.21.0.5:7777)
INFO:clipper::batching: rf_d16 BATCHER: Updated batching model: max_batch_size: 442, alpha = 28.019230393751318, beta = 7622.82692625573
INFO:clipper::batching: rf_d16 BATCHER: Predicted max thruput: 22091.90689468747, baseline: 130.70449719223316, increase: 169.0217809582778
INFO:clipper_benchmarks: Submitted 20000 requests
INFO:clipper_benchmarks: {
  "name": "caching_on_window_20_160907-095556",
  "counters": [
    {
      "name": "prediction_counter",
      "count": 39843
    },
    {
      "name": "queued_predictions",
      "count": 100
    },
    {
      "name": "update_counter",
      "count": 4868
    },
    {
      "name": "queued_updates",
      "count": 27950
    },
    {
      "name": "logistic_reg:prediction_counter",
      "count": 40036
    },
    {
      "name": "rf_d16:prediction_counter",
      "count": 40204
    },
    {
      "name": "spark_svm:prediction_counter",
      "count": 40053
    },
    {
      "name": "linear_svm:prediction_counter",
      "count": 40025
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:alpha_gauge",
      "count": 118667
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:beta_gauge",
      "count": 1404333
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:max_batch_size_gauge",
      "count": 157
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:max_thru_gauge",
      "count": 7836286
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:base_thru_gauge",
      "count": 656599
    },
    {
      "name": "rf_d16:172.21.0.7:6001:alpha_gauge",
      "count": 28019
    },
    {
      "name": "rf_d16:172.21.0.7:6001:beta_gauge",
      "count": 7622827
    },
    {
      "name": "rf_d16:172.21.0.7:6001:max_batch_size_gauge",
      "count": 442
    },
    {
      "name": "rf_d16:172.21.0.7:6001:max_thru_gauge",
      "count": 22091907
    },
    {
      "name": "rf_d16:172.21.0.7:6001:base_thru_gauge",
      "count": 130704
    },
    {
      "name": "linear_svm:172.21.0.6:6001:alpha_gauge",
      "count": 142333
    },
    {
      "name": "linear_svm:172.21.0.6:6001:beta_gauge",
      "count": 660667
    },
    {
      "name": "linear_svm:172.21.0.6:6001:max_batch_size_gauge",
      "count": 136
    },
    {
      "name": "linear_svm:172.21.0.6:6001:max_thru_gauge",
      "count": 6793885
    },
    {
      "name": "linear_svm:172.21.0.6:6001:base_thru_gauge",
      "count": 1245330
    },
    {
      "name": "pred_ones_counter",
      "count": 39800
    },
    {
      "name": "pred_zeros_counter",
      "count": 43
    },
    {
      "name": "spark_svm:172.21.0.4:6001:alpha_gauge",
      "count": 206091
    },
    {
      "name": "spark_svm:172.21.0.4:6001:beta_gauge",
      "count": 512182
    },
    {
      "name": "spark_svm:172.21.0.4:6001:max_batch_size_gauge",
      "count": 95
    },
    {
      "name": "spark_svm:172.21.0.4:6001:max_thru_gauge",
      "count": 4728528
    },
    {
      "name": "spark_svm:172.21.0.4:6001:base_thru_gauge",
      "count": 1392229
    }
  ],
  "ratio_counters": [
    {
      "name": "prediction accuracy ratio",
      "ratio": null
    },
    {
      "name": "cache_hits",
      "ratio": 0.0
    },
    {
      "name": "update_cache_hits",
      "ratio": 0.9979164832585028
    },
    {
      "name": "digits accuracy ratio",
      "ratio": 0.9989207639986949
    }
  ],
  "histograms": [
    {
      "name": "prediction_latency",
      "min": 17065,
      "max": 23060,
      "mean": 19069.67461089494,
      "std": 980.477984823113,
      "p95": 20211.0,
      "p99": 20444.22,
      "p50": 19208.0
    },
    {
      "name": "in_time_predictions",
      "min": 0,
      "max": 4,
      "mean": 3.7332198443579767,
      "std": 0.6745075177136874,
      "p95": 4.0,
      "p99": 4.0,
      "p50": 4.0
    },
    {
      "name": "update_latency",
      "min": 12321,
      "max": 8501602,
      "mean": 4132264.8604085606,
      "std": 2341849.467038056,
      "p95": 7936415.949999999,
      "p99": 8427642.950000002,
      "p50": 4149285.5
    },
    {
      "name": "logistic_reg:model_latency",
      "min": 406,
      "max": 22863,
      "mean": 3598.6433608949416,
      "std": 2920.1186351939024,
      "p95": 7925.0,
      "p99": 16634.0,
      "p50": 2943.0
    },
    {
      "name": "logistic_reg:model_batch_size",
      "min": 1,
      "max": 157,
      "mean": 17.728318584070796,
      "std": 17.49461673491219,
      "p95": 49.0,
      "p99": 65.0,
      "p50": 13.0
    },
    {
      "name": "rf_d16:model_latency",
      "min": 3193,
      "max": 33834,
      "mean": 6864.656006809339,
      "std": 2797.1562416992567,
      "p95": 8462.0,
      "p99": 28358.0,
      "p50": 6720.0
    },
    {
      "name": "rf_d16:model_batch_size",
      "min": 1,
      "max": 220,
      "mean": 29.605301914580268,
      "std": 24.939668422741023,
      "p95": 69.04999999999996,
      "p99": 80.41000000000008,
      "p50": 27.0
    },
    {
      "name": "spark_svm:model_latency",
      "min": 265,
      "max": 13750,
      "mean": 3687.6398346303506,
      "std": 2209.5962619142057,
      "p95": 7535.0,
      "p99": 10846.0,
      "p50": 3423.0
    },
    {
      "name": "spark_svm:model_batch_size",
      "min": 1,
      "max": 95,
      "mean": 17.32267818574514,
      "std": 16.46966199946168,
      "p95": 49.0,
      "p99": 65.84000000000015,
      "p50": 12.0
    },
    {
      "name": "linear_svm:model_latency",
      "min": 371,
      "max": 17294,
      "mean": 3313.995865758755,
      "std": 2299.5913546492668,
      "p95": 6663.0,
      "p99": 13539.0,
      "p50": 2815.0
    },
    {
      "name": "linear_svm:model_batch_size",
      "min": 1,
      "max": 136,
      "mean": 17.517271534761698,
      "std": 16.443879317406034,
      "p95": 49.0,
      "p99": 62.0,
      "p50": 13.0
    }
  ],
  "meters": [
    {
      "name": "prediction_thruput",
      "rate": 3981.1282351350685,
      "unit": "events per second"
    },
    {
      "name": "update_thruput",
      "rate": 486.7121390963541,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:model_thruput",
      "rate": 4003.409682823758,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:model_thruput",
      "rate": 4022.3945537800925,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:model_thruput",
      "rate": 4007.006816268116,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:model_thruput",
      "rate": 4003.009601347726,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:cache_included_thruput",
      "rate": 3889.3897407821116,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:cache_included_thruput",
      "rate": 3269.316068930784,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:cache_included_thruput",
      "rate": 3844.646561455371,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:cache_included_thruput",
      "rate": 3846.1546163567657,
      "unit": "events per second"
    }
  ]
}
INFO:clipper_benchmarks: Submitted 40000 requests
INFO:clipper_benchmarks: Submitted 40000 requests
INFO:clipper_benchmarks: Submitted 40000 requests
WARN:clipper::server: Couldn't unwrap update deps
INFO:clipper_benchmarks: Submitted 60000 requests
INFO:clipper_benchmarks: Submitted 60000 requests
INFO:clipper_benchmarks: Submitted 80000 requests
INFO:clipper_benchmarks: Submitted 80000 requests
INFO:clipper_benchmarks: {
  "name": "caching_on_window_20_160907-095556",
  "counters": [
    {
      "name": "prediction_counter",
      "count": 80443
    },
    {
      "name": "queued_predictions",
      "count": 11
    },
    {
      "name": "update_counter",
      "count": 9242
    },
    {
      "name": "queued_updates",
      "count": 57106
    },
    {
      "name": "logistic_reg:prediction_counter",
      "count": 81078
    },
    {
      "name": "rf_d16:prediction_counter",
      "count": 81743
    },
    {
      "name": "spark_svm:prediction_counter",
      "count": 81057
    },
    {
      "name": "linear_svm:prediction_counter",
      "count": 81043
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:alpha_gauge",
      "count": 118667
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:beta_gauge",
      "count": 1404333
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:max_batch_size_gauge",
      "count": 157
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:max_thru_gauge",
      "count": 7836286
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:base_thru_gauge",
      "count": 656599
    },
    {
      "name": "rf_d16:172.21.0.7:6001:alpha_gauge",
      "count": 28019
    },
    {
      "name": "rf_d16:172.21.0.7:6001:beta_gauge",
      "count": 7622827
    },
    {
      "name": "rf_d16:172.21.0.7:6001:max_batch_size_gauge",
      "count": 442
    },
    {
      "name": "rf_d16:172.21.0.7:6001:max_thru_gauge",
      "count": 22091907
    },
    {
      "name": "rf_d16:172.21.0.7:6001:base_thru_gauge",
      "count": 130704
    },
    {
      "name": "linear_svm:172.21.0.6:6001:alpha_gauge",
      "count": 142333
    },
    {
      "name": "linear_svm:172.21.0.6:6001:beta_gauge",
      "count": 660667
    },
    {
      "name": "linear_svm:172.21.0.6:6001:max_batch_size_gauge",
      "count": 136
    },
    {
      "name": "linear_svm:172.21.0.6:6001:max_thru_gauge",
      "count": 6793885
    },
    {
      "name": "linear_svm:172.21.0.6:6001:base_thru_gauge",
      "count": 1245330
    },
    {
      "name": "pred_ones_counter",
      "count": 80400
    },
    {
      "name": "pred_zeros_counter",
      "count": 43
    },
    {
      "name": "spark_svm:172.21.0.4:6001:alpha_gauge",
      "count": 206091
    },
    {
      "name": "spark_svm:172.21.0.4:6001:beta_gauge",
      "count": 512182
    },
    {
      "name": "spark_svm:172.21.0.4:6001:max_batch_size_gauge",
      "count": 95
    },
    {
      "name": "spark_svm:172.21.0.4:6001:max_thru_gauge",
      "count": 4728528
    },
    {
      "name": "spark_svm:172.21.0.4:6001:base_thru_gauge",
      "count": 1392229
    }
  ],
  "ratio_counters": [
    {
      "name": "prediction accuracy ratio",
      "ratio": null
    },
    {
      "name": "cache_hits",
      "ratio": 0.0
    },
    {
      "name": "update_cache_hits",
      "ratio": 0.9959480275935972
    },
    {
      "name": "digits accuracy ratio",
      "ratio": 0.999465460015166
    }
  ],
  "histograms": [
    {
      "name": "prediction_latency",
      "min": 17065,
      "max": 23060,
      "mean": 19059.469357976654,
      "std": 972.3380689831333,
      "p95": 20200.35,
      "p99": 20427.22,
      "p50": 19194.5
    },
    {
      "name": "in_time_predictions",
      "min": 0,
      "max": 4,
      "mean": 3.8715953307392998,
      "std": 0.4797536297685851,
      "p95": 4.0,
      "p99": 4.0,
      "p50": 4.0
    },
    {
      "name": "update_latency",
      "min": 23727,
      "max": 17217728,
      "mean": 8187814.355544747,
      "std": 4938193.392117812,
      "p95": 16179241.2,
      "p99": 17098706.55,
      "p50": 7841234.0
    },
    {
      "name": "logistic_reg:model_latency",
      "min": 399,
      "max": 22863,
      "mean": 3773.0047422178988,
      "std": 2430.092910976646,
      "p95": 7234.0,
      "p99": 13927.0,
      "p50": 3439.0
    },
    {
      "name": "logistic_reg:model_batch_size",
      "min": 1,
      "max": 157,
      "mean": 18.792352259559676,
      "std": 18.06566056658691,
      "p95": 53.0,
      "p99": 67.0,
      "p50": 14.0
    },
    {
      "name": "rf_d16:model_latency",
      "min": 2901,
      "max": 33834,
      "mean": 6891.344965953307,
      "std": 2253.719910134609,
      "p95": 8293.0,
      "p99": 9637.0,
      "p50": 6864.0
    },
    {
      "name": "rf_d16:model_batch_size",
      "min": 1,
      "max": 220,
      "mean": 30.142330383480826,
      "std": 26.35015932631731,
      "p95": 70.0,
      "p99": 79.0,
      "p50": 30.0
    },
    {
      "name": "spark_svm:model_latency",
      "min": 256,
      "max": 14133,
      "mean": 3641.114785992218,
      "std": 2064.8763508637309,
      "p95": 6893.0,
      "p99": 10757.5,
      "p50": 3472.0
    },
    {
      "name": "spark_svm:model_batch_size",
      "min": 1,
      "max": 95,
      "mean": 17.816084377059988,
      "std": 16.80914888657049,
      "p95": 52.0,
      "p99": 64.0,
      "p50": 13.0
    },
    {
      "name": "linear_svm:model_latency",
      "min": 346,
      "max": 17294,
      "mean": 3384.179596303502,
      "std": 2060.9070809523739,
      "p95": 6995.75,
      "p99": 11151.0,
      "p50": 3022.0
    },
    {
      "name": "linear_svm:model_batch_size",
      "min": 1,
      "max": 136,
      "mean": 18.26791347453808,
      "std": 16.9370259111797,
      "p95": 51.0,
      "p99": 63.60999999999967,
      "p50": 14.0
    }
  ],
  "meters": [
    {
      "name": "prediction_thruput",
      "rate": 4019.0589417678868,
      "unit": "events per second"
    },
    {
      "name": "update_thruput",
      "rate": 461.8947336656011,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:model_thruput",
      "rate": 4052.4330711033605,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:model_thruput",
      "rate": 4084.1584653084848,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:model_thruput",
      "rate": 4052.233022359201,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:model_thruput",
      "rate": 4050.534328994138,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:cache_included_thruput",
      "rate": 3971.324204512344,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:cache_included_thruput",
      "rate": 3654.495783508772,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:cache_included_thruput",
      "rate": 3944.623827114328,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:cache_included_thruput",
      "rate": 3950.828795818431,
      "unit": "events per second"
    }
  ]
}
WARN:clipper::server: Couldn't unwrap update deps
INFO:clipper_benchmarks: Submitted 100000 requests
WARN:clipper::server: Couldn't unwrap update deps
INFO:clipper_benchmarks: Submitted 120000 requests
INFO:clipper_benchmarks: {
  "name": "caching_on_window_20_160907-095556",
  "counters": [
    {
      "name": "prediction_counter",
      "count": 120642
    },
    {
      "name": "queued_predictions",
      "count": 112
    },
    {
      "name": "update_counter",
      "count": 13236
    },
    {
      "name": "queued_updates",
      "count": 86391
    },
    {
      "name": "logistic_reg:prediction_counter",
      "count": 122103
    },
    {
      "name": "rf_d16:prediction_counter",
      "count": 123408
    },
    {
      "name": "spark_svm:prediction_counter",
      "count": 122100
    },
    {
      "name": "linear_svm:prediction_counter",
      "count": 122031
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:alpha_gauge",
      "count": 118667
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:beta_gauge",
      "count": 1404333
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:max_batch_size_gauge",
      "count": 157
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:max_thru_gauge",
      "count": 7836286
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:base_thru_gauge",
      "count": 656599
    },
    {
      "name": "rf_d16:172.21.0.7:6001:alpha_gauge",
      "count": 28019
    },
    {
      "name": "rf_d16:172.21.0.7:6001:beta_gauge",
      "count": 7622827
    },
    {
      "name": "rf_d16:172.21.0.7:6001:max_batch_size_gauge",
      "count": 442
    },
    {
      "name": "rf_d16:172.21.0.7:6001:max_thru_gauge",
      "count": 22091907
    },
    {
      "name": "rf_d16:172.21.0.7:6001:base_thru_gauge",
      "count": 130704
    },
    {
      "name": "linear_svm:172.21.0.6:6001:alpha_gauge",
      "count": 142333
    },
    {
      "name": "linear_svm:172.21.0.6:6001:beta_gauge",
      "count": 660667
    },
    {
      "name": "linear_svm:172.21.0.6:6001:max_batch_size_gauge",
      "count": 136
    },
    {
      "name": "linear_svm:172.21.0.6:6001:max_thru_gauge",
      "count": 6793885
    },
    {
      "name": "linear_svm:172.21.0.6:6001:base_thru_gauge",
      "count": 1245330
    },
    {
      "name": "pred_ones_counter",
      "count": 120599
    },
    {
      "name": "pred_zeros_counter",
      "count": 43
    },
    {
      "name": "spark_svm:172.21.0.4:6001:alpha_gauge",
      "count": 206091
    },
    {
      "name": "spark_svm:172.21.0.4:6001:beta_gauge",
      "count": 512182
    },
    {
      "name": "spark_svm:172.21.0.4:6001:max_batch_size_gauge",
      "count": 95
    },
    {
      "name": "spark_svm:172.21.0.4:6001:max_thru_gauge",
      "count": 4728528
    },
    {
      "name": "spark_svm:172.21.0.4:6001:base_thru_gauge",
      "count": 1392229
    }
  ],
  "ratio_counters": [
    {
      "name": "prediction accuracy ratio",
      "ratio": null
    },
    {
      "name": "cache_hits",
      "ratio": 0.0
    },
    {
      "name": "update_cache_hits",
      "ratio": 0.9939455368119816
    },
    {
      "name": "digits accuracy ratio",
      "ratio": 0.9996435735481839
    }
  ],
  "histograms": [
    {
      "name": "prediction_latency",
      "min": 17066,
      "max": 22187,
      "mean": 19047.166342412453,
      "std": 965.1468503645538,
      "p95": 20200.35,
      "p99": 20416.05,
      "p50": 19180.5
    },
    {
      "name": "in_time_predictions",
      "min": 0,
      "max": 4,
      "mean": 3.9160992217898835,
      "std": 0.3994810034630086,
      "p95": 4.0,
      "p99": 4.0,
      "p50": 4.0
    },
    {
      "name": "update_latency",
      "min": 23727,
      "max": 26070305,
      "mean": 12220724.820038911,
      "std": 7481092.038136996,
      "p95": 24524726.45,
      "p99": 25815391.62,
      "p50": 11887100.5
    },
    {
      "name": "logistic_reg:model_latency",
      "min": 399,
      "max": 22863,
      "mean": 3858.4178015564204,
      "std": 2230.148595045015,
      "p95": 7166.0,
      "p99": 12709.0,
      "p50": 3639.5
    },
    {
      "name": "logistic_reg:model_batch_size",
      "min": 1,
      "max": 157,
      "mean": 18.90450394675747,
      "std": 18.216993049031847,
      "p95": 54.0,
      "p99": 67.0,
      "p50": 13.0
    },
    {
      "name": "rf_d16:model_latency",
      "min": 2867,
      "max": 33834,
      "mean": 6887.605544747082,
      "std": 2039.5895704183018,
      "p95": 8293.0,
      "p99": 9332.0,
      "p50": 6892.5
    },
    {
      "name": "rf_d16:model_batch_size",
      "min": 1,
      "max": 220,
      "mean": 29.4600143232275,
      "std": 26.90514730278759,
      "p95": 71.0,
      "p99": 80.0,
      "p50": 28.0
    },
    {
      "name": "spark_svm:model_latency",
      "min": 260,
      "max": 14133,
      "mean": 3719.175462062257,
      "std": 2036.5652997365415,
      "p95": 6996.0,
      "p99": 10115.25,
      "p50": 3592.0
    },
    {
      "name": "spark_svm:model_batch_size",
      "min": 1,
      "max": 95,
      "mean": 17.726480836236936,
      "std": 17.014316309323506,
      "p95": 52.0,
      "p99": 64.0,
      "p50": 12.0
    },
    {
      "name": "linear_svm:model_latency",
      "min": 362,
      "max": 17294,
      "mean": 3420.5611624513619,
      "std": 2002.2372757451204,
      "p95": 7017.0,
      "p99": 10258.0,
      "p50": 3075.5
    },
    {
      "name": "linear_svm:model_batch_size",
      "min": 1,
      "max": 136,
      "mean": 18.13807966706302,
      "std": 17.004309232646198,
      "p95": 51.0,
      "p99": 65.0,
      "p50": 13.0
    }
  ],
  "meters": [
    {
      "name": "prediction_thruput",
      "rate": 4019.2577178104918,
      "unit": "events per second"
    },
    {
      "name": "update_thruput",
      "rate": 440.9515894507886,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:model_thruput",
      "rate": 4068.185590958397,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:model_thruput",
      "rate": 4112.517092743883,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:model_thruput",
      "rate": 4066.7865608191925,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:model_thruput",
      "rate": 4064.554990798105,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:cache_included_thruput",
      "rate": 3987.412927097053,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:cache_included_thruput",
      "rate": 3773.771049668293,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:cache_included_thruput",
      "rate": 3969.3526631838965,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:cache_included_thruput",
      "rate": 3973.787653301176,
      "unit": "events per second"
    }
  ]
}
INFO:clipper_benchmarks: Submitted 140000 requests
INFO:clipper_benchmarks: Submitted 160000 requests
INFO:clipper_benchmarks: {
  "name": "caching_on_window_20_160907-095556",
  "counters": [
    {
      "name": "prediction_counter",
      "count": 162312
    },
    {
      "name": "queued_predictions",
      "count": 112
    },
    {
      "name": "update_counter",
      "count": 17286
    },
    {
      "name": "queued_updates",
      "count": 116471
    },
    {
      "name": "logistic_reg:prediction_counter",
      "count": 164865
    },
    {
      "name": "rf_d16:prediction_counter",
      "count": 167227
    },
    {
      "name": "spark_svm:prediction_counter",
      "count": 164756
    },
    {
      "name": "linear_svm:prediction_counter",
      "count": 164637
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:alpha_gauge",
      "count": 118667
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:beta_gauge",
      "count": 1404333
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:max_batch_size_gauge",
      "count": 157
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:max_thru_gauge",
      "count": 7836286
    },
    {
      "name": "logistic_reg:172.21.0.3:6001:base_thru_gauge",
      "count": 656599
    },
    {
      "name": "rf_d16:172.21.0.7:6001:alpha_gauge",
      "count": 28019
    },
    {
      "name": "rf_d16:172.21.0.7:6001:beta_gauge",
      "count": 7622827
    },
    {
      "name": "rf_d16:172.21.0.7:6001:max_batch_size_gauge",
      "count": 442
    },
    {
      "name": "rf_d16:172.21.0.7:6001:max_thru_gauge",
      "count": 22091907
    },
    {
      "name": "rf_d16:172.21.0.7:6001:base_thru_gauge",
      "count": 130704
    },
    {
      "name": "linear_svm:172.21.0.6:6001:alpha_gauge",
      "count": 142333
    },
    {
      "name": "linear_svm:172.21.0.6:6001:beta_gauge",
      "count": 660667
    },
    {
      "name": "linear_svm:172.21.0.6:6001:max_batch_size_gauge",
      "count": 136
    },
    {
      "name": "linear_svm:172.21.0.6:6001:max_thru_gauge",
      "count": 6793885
    },
    {
      "name": "linear_svm:172.21.0.6:6001:base_thru_gauge",
      "count": 1245330
    },
    {
      "name": "pred_ones_counter",
      "count": 162269
    },
    {
      "name": "pred_zeros_counter",
      "count": 43
    },
    {
      "name": "spark_svm:172.21.0.4:6001:alpha_gauge",
      "count": 206091
    },
    {
      "name": "spark_svm:172.21.0.4:6001:beta_gauge",
      "count": 512182
    },
    {
      "name": "spark_svm:172.21.0.4:6001:max_batch_size_gauge",
      "count": 95
    },
    {
      "name": "spark_svm:172.21.0.4:6001:max_thru_gauge",
      "count": 4728528
    },
    {
      "name": "spark_svm:172.21.0.4:6001:base_thru_gauge",
      "count": 1392229
    }
  ],
  "ratio_counters": [
    {
      "name": "prediction accuracy ratio",
      "ratio": null
    },
    {
      "name": "cache_hits",
      "ratio": 0.0
    },
    {
      "name": "update_cache_hits",
      "ratio": 0.991852237002042
    },
    {
      "name": "digits accuracy ratio",
      "ratio": 0.9997350781211494
    }
  ],
  "histograms": [
    {
      "name": "prediction_latency",
      "min": 17056,
      "max": 22187,
      "mean": 19045.923638132295,
      "std": 969.6798983853455,
      "p95": 20202.0,
      "p99": 20407.35,
      "p50": 19186.5
    },
    {
      "name": "in_time_predictions",
      "min": 0,
      "max": 4,
      "mean": 3.9333657587548638,
      "std": 0.3548812478116496,
      "p95": 4.0,
      "p99": 4.0,
      "p50": 4.0
    },
    {
      "name": "update_latency",
      "min": 23727,
      "max": 34813210,
      "mean": 16372712.769455253,
      "std": 10150140.859758594,
      "p95": 32961635.049999998,
      "p99": 34408065.54,
      "p50": 15823503.0
    },
    {
      "name": "logistic_reg:model_latency",
      "min": 381,
      "max": 22863,
      "mean": 3892.380107003891,
      "std": 2182.5038519040438,
      "p95": 7265.0,
      "p99": 9654.0,
      "p50": 3677.5
    },
    {
      "name": "logistic_reg:model_batch_size",
      "min": 1,
      "max": 157,
      "mean": 18.870379377431907,
      "std": 18.541918105630807,
      "p95": 55.0,
      "p99": 68.0,
      "p50": 13.0
    },
    {
      "name": "rf_d16:model_latency",
      "min": 2854,
      "max": 33834,
      "mean": 6915.013740272374,
      "std": 1878.6890911315584,
      "p95": 8408.0,
      "p99": 9332.0,
      "p50": 6967.0
    },
    {
      "name": "rf_d16:model_batch_size",
      "min": 1,
      "max": 220,
      "mean": 29.014570685169124,
      "std": 27.48995392826656,
      "p95": 72.0,
      "p99": 82.0,
      "p50": 25.0
    },
    {
      "name": "spark_svm:model_latency",
      "min": 254,
      "max": 14133,
      "mean": 3741.643725680934,
      "std": 2032.7482191963139,
      "p95": 7086.0,
      "p99": 10076.0,
      "p50": 3605.0
    },
    {
      "name": "spark_svm:model_batch_size",
      "min": 1,
      "max": 95,
      "mean": 17.60919260700389,
      "std": 17.349018426267489,
      "p95": 53.0,
      "p99": 65.0,
      "p50": 11.0
    },
    {
      "name": "linear_svm:model_latency",
      "min": 362,
      "max": 17294,
      "mean": 3425.4302042801557,
      "std": 1971.4704133960323,
      "p95": 6947.0,
      "p99": 9516.0,
      "p50": 3093.0
    },
    {
      "name": "linear_svm:model_batch_size",
      "min": 1,
      "max": 136,
      "mean": 18.127310311284047,
      "std": 17.460309940429725,
      "p95": 52.0,
      "p99": 66.75,
      "p50": 13.0
    }
  ],
  "meters": [
    {
      "name": "prediction_thruput",
      "rate": 4057.223274499216,
      "unit": "events per second"
    },
    {
      "name": "update_thruput",
      "rate": 431.89054829391866,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:model_thruput",
      "rate": 4118.247382703376,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:model_thruput",
      "rate": 4178.247444651816,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:model_thruput",
      "rate": 4115.549628044579,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:model_thruput",
      "rate": 4112.527143658333,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:cache_included_thruput",
      "rate": 4033.314381041043,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:cache_included_thruput",
      "rate": 3871.4676150714328,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:cache_included_thruput",
      "rate": 4019.5470854928446,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:cache_included_thruput",
      "rate": 4023.097666490889,
      "unit": "events per second"
    }
  ]
}
INFO:clipper_benchmarks: writing results to: /tmp/benchmarking_logs/caching_on_window_20_160907-095556_results.json
INFO:clipper_benchmarks: Args { flag_conf: "/tmp/digits_bench.toml", cmd_digits: true }
/tmp/digits_bench.toml contains:
salt_update_cache = true
num_message_encodes = 1
use_lsh = false
window_size = 100
load_generator = "uniform"
input_type = "float"
request_generator = "cached_updates"
results_path = "/tmp/benchmarking_logs"
num_update_workers = 1
input_length = 784
num_benchmark_requests = 300000
redis_ip = "redis"
mnist_path = "/mnist_data/test.data"
bench_batch_size = 200
target_qps = 10000
name = "caching_off_window_100_160907-095724"
wait_to_end = false
salt_cache = true
num_predict_workers = 8
redis_port = 6379
cache_size = 1000000
slo_micros = 20000
correction_policy = "logistic_regression"
send_updates = true
[[models]]
version = 1
num_outputs = 1
name = "logistic_reg"
addresses = [ "logistic_reg_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "rf_d16"
addresses = [ "rf_d16_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "spark_svm"
addresses = [ "spark_svm_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "linear_svm"
addresses = [ "linear_svm_r0:6001",]
[batching]
sample_size = 500
opt_addr = "quantilereg:7777"
strategy = "learned"
INFO:clipper_benchmarks: MNIST data loaded: 10000 points
INFO:clipper::configuration: logistic_reg_r0:6001
/tmp/digits_bench.toml contains:
salt_update_cache = true
num_message_encodes = 1
use_lsh = false
window_size = 100
load_generator = "uniform"
input_type = "float"
request_generator = "cached_updates"
results_path = "/tmp/benchmarking_logs"
num_update_workers = 1
input_length = 784
num_benchmark_requests = 300000
redis_ip = "redis"
mnist_path = "/mnist_data/test.data"
bench_batch_size = 200
target_qps = 10000
name = "caching_off_window_100_160907-095724"
wait_to_end = false
salt_cache = true
num_predict_workers = 8
redis_port = 6379
cache_size = 1000000
slo_micros = 20000
correction_policy = "logistic_regression"
send_updates = true
[[models]]
version = 1
num_outputs = 1
name = "logistic_reg"
addresses = [ "logistic_reg_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "rf_d16"
addresses = [ "rf_d16_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "spark_svm"
addresses = [ "spark_svm_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "linear_svm"
addresses = [ "linear_svm_r0:6001",]
[batching]
sample_size = 500
opt_addr = "quantilereg:7777"
strategy = "learned"
INFO:clipper::configuration: rf_d16_r0:6001
INFO:clipper::configuration: spark_svm_r0:6001
INFO:clipper::configuration: linear_svm_r0:6001
INFO:clipper::configuration: quantilereg:7777
INFO:clipper::batching: Connected to rf_d16 model wrapper at V4(172.21.0.5:6001)
INFO:clipper::batching: Connected to logistic_reg model wrapper at V4(172.21.0.2:6001)
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::batching: Connected to linear_svm model wrapper at V4(172.21.0.7:6001)
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting input prediction worker 0 
INFO:clipper::server: starting input prediction worker 1 
INFO:clipper::server: starting input prediction worker 2 
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting input prediction worker 3 
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting prediction worker 1 output thread with 20 ms SLO
INFO:clipper::server: starting prediction worker 0 output thread with 20 ms SLO
INFO:clipper::server: starting prediction worker 2 output thread with 20 ms SLO
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting input prediction worker 4 
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting input prediction worker 5 
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting prediction worker 3 output thread with 20 ms SLO
INFO:clipper::server: starting prediction worker 5 output thread with 20 ms SLO
INFO:clipper::server: starting prediction worker 4 output thread with 20 ms SLO
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting input prediction worker 7 
INFO:clipper::server: starting prediction worker 6 output thread with 20 ms SLO
INFO:clipper::server: starting prediction worker 7 output thread with 20 ms SLO
INFO:clipper_benchmarks: starting benchmark
INFO:clipper::cmt: RedisUpdateTable connection string redis://redis:6379/2
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting input prediction worker 6 
INFO:clipper::server: starting update worker 0
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Connected to spark_svm model wrapper at V4(172.21.0.3:6001)
INFO:clipper::server: Error in getting correction state for update: failed to fill whole buffer
INFO:clipper::server: Creating model state for new user: 1
INFO:clipper_benchmarks: {
  "name": "caching_off_window_100_160907-095724",
  "counters": [
    {
      "name": "prediction_counter",
      "count": 0
    },
    {
      "name": "queued_predictions",
      "count": 0
    },
    {
      "name": "update_counter",
      "count": 1
    },
    {
      "name": "queued_updates",
      "count": 0
    },
    {
      "name": "logistic_reg:prediction_counter",
      "count": 400
    },
    {
      "name": "rf_d16:prediction_counter",
      "count": 400
    },
    {
      "name": "spark_svm:prediction_counter",
      "count": 400
    },
    {
      "name": "linear_svm:prediction_counter",
      "count": 400
    },
    {
      "name": "rf_d16:172.21.0.5:6001:alpha_gauge",
      "count": 0
    },
    {
      "name": "rf_d16:172.21.0.5:6001:beta_gauge",
      "count": 0
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_batch_size_gauge",
      "count": 0
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_thru_gauge",
      "count": 0
    },
    {
      "name": "rf_d16:172.21.0.5:6001:base_thru_gauge",
      "count": 0
    },
    {
      "name": "logistic_reg:172.21.0.2:6001:alpha_gauge",
      "count": 0
    },
    {
      "name": "logistic_reg:172.21.0.2:6001:beta_gauge",
      "count": 0
    },
    {
      "name": "logistic_reg:172.21.0.2:6001:max_batch_size_gauge",
      "count": 0
    },
    {
      "name": "logistic_reg:172.21.0.2:6001:max_thru_gauge",
      "count": 0
    },
    {
      "name": "logistic_reg:172.21.0.2:6001:base_thru_gauge",
      "count": 0
    },
    {
      "name": "linear_svm:172.21.0.7:6001:alpha_gauge",
      "count": 0
    },
    {
      "name": "linear_svm:172.21.0.7:6001:beta_gauge",
      "count": 0
    },
    {
      "name": "linear_svm:172.21.0.7:6001:max_batch_size_gauge",
      "count": 0
    },
    {
      "name": "linear_svm:172.21.0.7:6001:max_thru_gauge",
      "count": 0
    },
    {
      "name": "linear_svm:172.21.0.7:6001:base_thru_gauge",
      "count": 0
    },
    {
      "name": "pred_ones_counter",
      "count": 0
    },
    {
      "name": "pred_zeros_counter",
      "count": 0
    },
    {
      "name": "spark_svm:172.21.0.3:6001:alpha_gauge",
      "count": 0
    },
    {
      "name": "spark_svm:172.21.0.3:6001:beta_gauge",
      "count": 0
    },
    {
      "name": "spark_svm:172.21.0.3:6001:max_batch_size_gauge",
      "count": 0
    },
    {
      "name": "spark_svm:172.21.0.3:6001:max_thru_gauge",
      "count": 0
    },
    {
      "name": "spark_svm:172.21.0.3:6001:base_thru_gauge",
      "count": 0
    }
  ],
  "ratio_counters": [
    {
      "name": "prediction accuracy ratio",
      "ratio": null
    },
    {
      "name": "cache_hits",
      "ratio": null
    },
    {
      "name": "update_cache_hits",
      "ratio": 0.0
    },
    {
      "name": "digits accuracy ratio",
      "ratio": null
    }
  ],
  "histograms": [
    {
      "name": "prediction_latency",
      "min": 0,
      "max": 0,
      "mean": 0.0,
      "std": 0.0,
      "p95": 0.0,
      "p99": 0.0,
      "p50": 0.0
    },
    {
      "name": "in_time_predictions",
      "min": 0,
      "max": 0,
      "mean": 0.0,
      "std": 0.0,
      "p95": 0.0,
      "p99": 0.0,
      "p50": 0.0
    },
    {
      "name": "update_latency",
      "min": 222598,
      "max": 222598,
      "mean": 222598.0,
      "std": null,
      "p95": 222598.0,
      "p99": 222598.0,
      "p50": 222598.0
    },
    {
      "name": "logistic_reg:model_latency",
      "min": 1368,
      "max": 6058,
      "mean": 4225.87,
      "std": 1249.002113207577,
      "p95": 6058.0,
      "p99": 6058.0,
      "p50": 4235.0
    },
    {
      "name": "logistic_reg:model_batch_size",
      "min": 1,
      "max": 39,
      "mean": 20.0,
      "std": 11.832159566199233,
      "p95": 38.9,
      "p99": 39.0,
      "p50": 20.0
    },
    {
      "name": "rf_d16:model_latency",
      "min": 7634,
      "max": 8899,
      "mean": 8439.3675,
      "std": 219.10650742902247,
      "p95": 8899.0,
      "p99": 8899.0,
      "p50": 8438.0
    },
    {
      "name": "rf_d16:model_batch_size",
      "min": 1,
      "max": 39,
      "mean": 20.0,
      "std": 11.832159566199233,
      "p95": 38.9,
      "p99": 39.0,
      "p50": 20.0
    },
    {
      "name": "spark_svm:model_latency",
      "min": 919,
      "max": 6490,
      "mean": 4682.24,
      "std": 1290.335825961366,
      "p95": 6490.0,
      "p99": 6490.0,
      "p50": 5002.0
    },
    {
      "name": "spark_svm:model_batch_size",
      "min": 1,
      "max": 39,
      "mean": 20.0,
      "std": 11.832159566199233,
      "p95": 38.9,
      "p99": 39.0,
      "p50": 20.0
    },
    {
      "name": "linear_svm:model_latency",
      "min": 1384,
      "max": 5777,
      "mean": 4068.8175,
      "std": 1167.4163703014754,
      "p95": 5777.0,
      "p99": 5777.0,
      "p50": 4218.0
    },
    {
      "name": "linear_svm:model_batch_size",
      "min": 1,
      "max": 39,
      "mean": 20.0,
      "std": 11.832159566199233,
      "p95": 38.9,
      "p99": 39.0,
      "p50": 20.0
    }
  ],
  "meters": [
    {
      "name": "prediction_thruput",
      "rate": 0.0,
      "unit": "events per second"
    },
    {
      "name": "update_thruput",
      "rate": 0.049954718545374549,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:model_thruput",
      "rate": 19.981896401859918,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:model_thruput",
      "rate": 19.98231764711407,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:model_thruput",
      "rate": 19.98238652539719,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:model_thruput",
      "rate": 19.982419467352626,
      "unit": "events per second"
    }
  ]
}
INFO:clipper_benchmarks: SLEEP TIME: 20
INFO:clipper_benchmarks: Submitted 0 requests
INFO:clipper_benchmarks: Submitted 20000 requests
INFO:clipper::batching: Connected to opt server at V4(172.21.0.4:7777)
INFO:clipper::batching: logistic_reg BATCHER: Updated batching model: max_batch_size: 133, alpha = 126.07831327427736, beta = 3193.7650564785295
INFO:clipper::batching: logistic_reg BATCHER: Predicted max thruput: 6662.598733699798, baseline: 301.2190301238397, increase: 22.118784231396717
INFO:clipper::batching: Connected to opt server at V4(172.21.0.4:7777)
INFO:clipper::batching: linear_svm BATCHER: Updated batching model: max_batch_size: 158, alpha = 106.1206896658888, beta = 3258.637928869382
INFO:clipper::batching: linear_svm BATCHER: Predicted max thruput: 7889.858810973095, baseline: 297.19813911504735, increase: 26.547470433248165
INFO:clipper::batching: Connected to opt server at V4(172.21.0.4:7777)
INFO:clipper::batching: spark_svm BATCHER: Updated batching model: max_batch_size: 178, alpha = 63.840909092451156, beta = 8610.02272651591
INFO:clipper::batching: spark_svm BATCHER: Predicted max thruput: 8911.716882525241, baseline: 115.28887725358652, increase: 77.29901699817279
INFO:clipper::batching: Connected to opt server at V4(172.21.0.4:7777)
INFO:clipper::batching: rf_d16 BATCHER: Updated batching model: max_batch_size: 157, alpha = 48.559999975218176, beta = 12378.920003363573
INFO:clipper::batching: rf_d16 BATCHER: Predicted max thruput: 7848.885458471783, baseline: 80.46683637642853, increase: 97.5418670836547
INFO:clipper_benchmarks: {
  "name": "caching_off_window_100_160907-095724",
  "counters": [
    {
      "name": "prediction_counter",
      "count": 38967
    },
    {
      "name": "queued_predictions",
      "count": 112
    },
    {
      "name": "update_counter",
      "count": 532
    },
    {
      "name": "queued_updates",
      "count": 31587
    },
    {
      "name": "logistic_reg:prediction_counter",
      "count": 101891
    },
    {
      "name": "rf_d16:prediction_counter",
      "count": 77840
    },
    {
      "name": "spark_svm:prediction_counter",
      "count": 89979
    },
    {
      "name": "linear_svm:prediction_counter",
      "count": 102492
    },
    {
      "name": "rf_d16:172.21.0.5:6001:alpha_gauge",
      "count": 48560
    },
    {
      "name": "rf_d16:172.21.0.5:6001:beta_gauge",
      "count": 12378920
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_batch_size_gauge",
      "count": 157
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_thru_gauge",
      "count": 7848885
    },
    {
      "name": "rf_d16:172.21.0.5:6001:base_thru_gauge",
      "count": 80467
    },
    {
      "name": "logistic_reg:172.21.0.2:6001:alpha_gauge",
      "count": 126078
    },
    {
      "name": "logistic_reg:172.21.0.2:6001:beta_gauge",
      "count": 3193765
    },
    {
      "name": "logistic_reg:172.21.0.2:6001:max_batch_size_gauge",
      "count": 133
    },
    {
      "name": "logistic_reg:172.21.0.2:6001:max_thru_gauge",
      "count": 6662599
    },
    {
      "name": "logistic_reg:172.21.0.2:6001:base_thru_gauge",
      "count": 301219
    },
    {
      "name": "linear_svm:172.21.0.7:6001:alpha_gauge",
      "count": 106121
    },
    {
      "name": "linear_svm:172.21.0.7:6001:beta_gauge",
      "count": 3258638
    },
    {
      "name": "linear_svm:172.21.0.7:6001:max_batch_size_gauge",
      "count": 158
    },
    {
      "name": "linear_svm:172.21.0.7:6001:max_thru_gauge",
      "count": 7889859
    },
    {
      "name": "linear_svm:172.21.0.7:6001:base_thru_gauge",
      "count": 297198
    },
    {
      "name": "pred_ones_counter",
      "count": 38774
    },
    {
      "name": "pred_zeros_counter",
      "count": 193
    },
    {
      "name": "spark_svm:172.21.0.3:6001:alpha_gauge",
      "count": 63841
    },
    {
      "name": "spark_svm:172.21.0.3:6001:beta_gauge",
      "count": 8610023
    },
    {
      "name": "spark_svm:172.21.0.3:6001:max_batch_size_gauge",
      "count": 178
    },
    {
      "name": "spark_svm:172.21.0.3:6001:max_thru_gauge",
      "count": 8911717
    },
    {
      "name": "spark_svm:172.21.0.3:6001:base_thru_gauge",
      "count": 115289
    }
  ],
  "ratio_counters": [
    {
      "name": "prediction accuracy ratio",
      "ratio": null
    },
    {
      "name": "cache_hits",
      "ratio": 0.0
    },
    {
      "name": "update_cache_hits",
      "ratio": 0.0
    },
    {
      "name": "digits accuracy ratio",
      "ratio": 0.9950470911283907
    }
  ],
  "histograms": [
    {
      "name": "prediction_latency",
      "min": 17036,
      "max": 22459,
      "mean": 19103.20598249027,
      "std": 979.1897059838555,
      "p95": 20243.35,
      "p99": 20685.0,
      "p50": 19286.0
    },
    {
      "name": "in_time_predictions",
      "min": 0,
      "max": 4,
      "mean": 0.010943579766536965,
      "std": 0.1712116726596142,
      "p95": 0.0,
      "p99": 0.0,
      "p50": 0.0
    },
    {
      "name": "update_latency",
      "min": 142535,
      "max": 9829017,
      "mean": 5244175.084586466,
      "std": 2716117.772431043,
      "p95": 9404177.45,
      "p99": 9773863.379999999,
      "p50": 5354946.5
    },
    {
      "name": "logistic_reg:model_latency",
      "min": 1683,
      "max": 25168,
      "mean": 12328.821133268482,
      "std": 3700.217058981961,
      "p95": 22351.0,
      "p99": 23927.0,
      "p50": 11375.0
    },
    {
      "name": "logistic_reg:model_batch_size",
      "min": 1,
      "max": 194,
      "mean": 143.10533707865168,
      "std": 30.738017795582566,
      "p95": 170.0,
      "p99": 182.0,
      "p50": 154.0
    },
    {
      "name": "rf_d16:model_latency",
      "min": 7468,
      "max": 27969,
      "mean": 18046.8326848249,
      "std": 1774.5226999312675,
      "p95": 19750.0,
      "p99": 20537.0,
      "p50": 18393.0
    },
    {
      "name": "rf_d16:model_batch_size",
      "min": 1,
      "max": 192,
      "mean": 153.83399209486167,
      "std": 39.66807967648216,
      "p95": 188.0,
      "p99": 192.0,
      "p50": 165.0
    },
    {
      "name": "spark_svm:model_latency",
      "min": 1083,
      "max": 22069,
      "mean": 17632.29255836576,
      "std": 2125.8760839757057,
      "p95": 19803.0,
      "p99": 20799.0,
      "p50": 18010.0
    },
    {
      "name": "spark_svm:model_batch_size",
      "min": 1,
      "max": 209,
      "mean": 172.70441458733206,
      "std": 44.50502304940177,
      "p95": 202.0,
      "p99": 209.0,
      "p50": 188.0
    },
    {
      "name": "linear_svm:model_latency",
      "min": 1206,
      "max": 23125,
      "mean": 13410.961089494163,
      "std": 3992.822752662381,
      "p95": 19954.0,
      "p99": 21572.0,
      "p50": 11745.0
    },
    {
      "name": "linear_svm:model_batch_size",
      "min": 1,
      "max": 185,
      "mean": 155.05597579425115,
      "std": 32.94933964702733,
      "p95": 175.0,
      "p99": 180.38,
      "p50": 161.0
    }
  ],
  "meters": [
    {
      "name": "prediction_thruput",
      "rate": 3899.6893857287298,
      "unit": "events per second"
    },
    {
      "name": "update_thruput",
      "rate": 53.256138244541798,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:model_thruput",
      "rate": 10180.71516299176,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:model_thruput",
      "rate": 7777.594373274172,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:model_thruput",
      "rate": 8990.494529655924,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:model_thruput",
      "rate": 10240.764682131328,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:cache_included_thruput",
      "rate": 18.924241953943004,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:cache_included_thruput",
      "rate": 0.40051377907579846,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:cache_included_thruput",
      "rate": 19.324814994934998,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:cache_included_thruput",
      "rate": 11.414675848738723,
      "unit": "events per second"
    }
  ]
}
INFO:clipper_benchmarks: Submitted 40000 requests
INFO:clipper_benchmarks: Submitted 40000 requests
INFO:clipper_benchmarks: Submitted 60000 requests
INFO:clipper_benchmarks: {
  "name": "caching_off_window_100_160907-095724",
  "counters": [
    {
      "name": "prediction_counter",
      "count": 78499
    },
    {
      "name": "queued_predictions",
      "count": 118
    },
    {
      "name": "update_counter",
      "count": 1162
    },
    {
      "name": "queued_updates",
      "count": 63619
    },
    {
      "name": "logistic_reg:prediction_counter",
      "count": 217069
    },
    {
      "name": "rf_d16:prediction_counter",
      "count": 169528
    },
    {
      "name": "spark_svm:prediction_counter",
      "count": 189481
    },
    {
      "name": "linear_svm:prediction_counter",
      "count": 233948
    },
    {
      "name": "rf_d16:172.21.0.5:6001:alpha_gauge",
      "count": 48560
    },
    {
      "name": "rf_d16:172.21.0.5:6001:beta_gauge",
      "count": 12378920
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_batch_size_gauge",
      "count": 157
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_thru_gauge",
      "count": 7848885
    },
    {
      "name": "rf_d16:172.21.0.5:6001:base_thru_gauge",
      "count": 80467
    },
    {
      "name": "logistic_reg:172.21.0.2:6001:alpha_gauge",
      "count": 126078
    },
    {
      "name": "logistic_reg:172.21.0.2:6001:beta_gauge",
      "count": 3193765
    },
    {
      "name": "logistic_reg:172.21.0.2:6001:max_batch_size_gauge",
      "count": 133
    },
    {
      "name": "logistic_reg:172.21.0.2:6001:max_thru_gauge",
      "count": 6662599
    },
    {
      "name": "logistic_reg:172.21.0.2:6001:base_thru_gauge",
      "count": 301219
    },
    {
      "name": "linear_svm:172.21.0.7:6001:alpha_gauge",
      "count": 106121
    },
    {
      "name": "linear_svm:172.21.0.7:6001:beta_gauge",
      "count": 3258638
    },
    {
      "name": "linear_svm:172.21.0.7:6001:max_batch_size_gauge",
      "count": 158
    },
    {
      "name": "linear_svm:172.21.0.7:6001:max_thru_gauge",
      "count": 7889859
    },
    {
      "name": "linear_svm:172.21.0.7:6001:base_thru_gauge",
      "count": 297198
    },
    {
      "name": "pred_ones_counter",
      "count": 78306
    },
    {
      "name": "pred_zeros_counter",
      "count": 193
    },
    {
      "name": "spark_svm:172.21.0.3:6001:alpha_gauge",
      "count": 63841
    },
    {
      "name": "spark_svm:172.21.0.3:6001:beta_gauge",
      "count": 8610023
    },
    {
      "name": "spark_svm:172.21.0.3:6001:max_batch_size_gauge",
      "count": 178
    },
    {
      "name": "spark_svm:172.21.0.3:6001:max_thru_gauge",
      "count": 8911717
    },
    {
      "name": "spark_svm:172.21.0.3:6001:base_thru_gauge",
      "count": 115289
    }
  ],
  "ratio_counters": [
    {
      "name": "prediction accuracy ratio",
      "ratio": null
    },
    {
      "name": "cache_hits",
      "ratio": 0.0
    },
    {
      "name": "update_cache_hits",
      "ratio": 0.0
    },
    {
      "name": "digits accuracy ratio",
      "ratio": 0.9975413699537574
    }
  ],
  "histograms": [
    {
      "name": "prediction_latency",
      "min": 17047,
      "max": 22459,
      "mean": 19106.936527237354,
      "std": 979.1744526469825,
      "p95": 20240.7,
      "p99": 20632.14,
      "p50": 19295.5
    },
    {
      "name": "in_time_predictions",
      "min": 0,
      "max": 3,
      "mean": 0.007295719844357977,
      "std": 0.13755088256442353,
      "p95": 0.0,
      "p99": 0.0,
      "p50": 0.0
    },
    {
      "name": "update_latency",
      "min": 142535,
      "max": 19635079,
      "mean": 10399390.623924269,
      "std": 5490779.748317916,
      "p95": 18747493.65,
      "p99": 19477161.5,
      "p50": 10623244.5
    },
    {
      "name": "logistic_reg:model_latency",
      "min": 1683,
      "max": 25168,
      "mean": 10896.306298638132,
      "std": 2860.662081048274,
      "p95": 17117.0,
      "p99": 23624.0,
      "p50": 9888.0
    },
    {
      "name": "logistic_reg:model_batch_size",
      "min": 1,
      "max": 194,
      "mean": 137.5595690747782,
      "std": 21.243416683348547,
      "p95": 168.0,
      "p99": 173.21000000000005,
      "p50": 133.0
    },
    {
      "name": "rf_d16:model_latency",
      "min": 7583,
      "max": 27969,
      "mean": 16328.219722762646,
      "std": 1995.0289111471278,
      "p95": 19473.0,
      "p99": 20144.5,
      "p50": 15077.0
    },
    {
      "name": "rf_d16:model_batch_size",
      "min": 1,
      "max": 192,
      "mean": 155.5302752293578,
      "std": 27.059155360303909,
      "p95": 188.0,
      "p99": 188.0,
      "p50": 157.0
    },
    {
      "name": "spark_svm:model_latency",
      "min": 1657,
      "max": 22069,
      "mean": 16518.26678015564,
      "std": 1899.8639551607978,
      "p95": 19366.0,
      "p99": 20422.0,
      "p50": 16194.0
    },
    {
      "name": "spark_svm:model_batch_size",
      "min": 1,
      "max": 209,
      "mean": 175.44537037037038,
      "std": 31.00905390897665,
      "p95": 200.0,
      "p99": 207.3800000000001,
      "p50": 178.0
    },
    {
      "name": "linear_svm:model_latency",
      "min": 1206,
      "max": 23125,
      "mean": 11345.85384241245,
      "std": 3211.860602443578,
      "p95": 19354.5,
      "p99": 20849.0,
      "p50": 9984.0
    },
    {
      "name": "linear_svm:model_batch_size",
      "min": 1,
      "max": 185,
      "mean": 156.69745649263724,
      "std": 21.956073334860134,
      "p95": 175.0,
      "p99": 177.0,
      "p50": 158.0
    }
  ],
  "meters": [
    {
      "name": "prediction_thruput",
      "rate": 3926.511328634964,
      "unit": "events per second"
    },
    {
      "name": "update_thruput",
      "rate": 58.107987924730419,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:model_thruput",
      "rate": 10845.608624964152,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:model_thruput",
      "rate": 8470.2755672511,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:model_thruput",
      "rate": 9467.204737614467,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:model_thruput",
      "rate": 11696.842597959545,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:cache_included_thruput",
      "rate": 9.453112437269973,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:cache_included_thruput",
      "rate": 0.2000660518070041,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:cache_included_thruput",
      "rate": 9.653193276335813,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:cache_included_thruput",
      "rate": 5.701891032160816,
      "unit": "events per second"
    }
  ]
}
INFO:clipper_benchmarks: Submitted 80000 requests
INFO:clipper_benchmarks: Submitted 80000 requests
INFO:clipper_benchmarks: Submitted 80000 requests
INFO:clipper_benchmarks: Submitted 80000 requests
INFO:clipper_benchmarks: Submitted 100000 requests
INFO:clipper_benchmarks: Submitted 100000 requests
INFO:clipper_benchmarks: Submitted 100000 requests
INFO:clipper_benchmarks: {
  "name": "caching_off_window_100_160907-095724",
  "counters": [
    {
      "name": "prediction_counter",
      "count": 117855
    },
    {
      "name": "queued_predictions",
      "count": 94
    },
    {
      "name": "update_counter",
      "count": 1783
    },
    {
      "name": "queued_updates",
      "count": 95066
    },
    {
      "name": "logistic_reg:prediction_counter",
      "count": 333444
    },
    {
      "name": "rf_d16:prediction_counter",
      "count": 260745
    },
    {
      "name": "spark_svm:prediction_counter",
      "count": 286135
    },
    {
      "name": "linear_svm:prediction_counter",
      "count": 364614
    },
    {
      "name": "rf_d16:172.21.0.5:6001:alpha_gauge",
      "count": 48560
    },
    {
      "name": "rf_d16:172.21.0.5:6001:beta_gauge",
      "count": 12378920
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_batch_size_gauge",
      "count": 157
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_thru_gauge",
      "count": 7848885
    },
    {
      "name": "rf_d16:172.21.0.5:6001:base_thru_gauge",
      "count": 80467
    },
    {
      "name": "logistic_reg:172.21.0.2:6001:alpha_gauge",
      "count": 126078
    },
    {
      "name": "logistic_reg:172.21.0.2:6001:beta_gauge",
      "count": 3193765
    },
    {
      "name": "logistic_reg:172.21.0.2:6001:max_batch_size_gauge",
      "count": 133
    },
    {
      "name": "logistic_reg:172.21.0.2:6001:max_thru_gauge",
      "count": 6662599
    },
    {
      "name": "logistic_reg:172.21.0.2:6001:base_thru_gauge",
      "count": 301219
    },
    {
      "name": "linear_svm:172.21.0.7:6001:alpha_gauge",
      "count": 106121
    },
    {
      "name": "linear_svm:172.21.0.7:6001:beta_gauge",
      "count": 3258638
    },
    {
      "name": "linear_svm:172.21.0.7:6001:max_batch_size_gauge",
      "count": 158
    },
    {
      "name": "linear_svm:172.21.0.7:6001:max_thru_gauge",
      "count": 7889859
    },
    {
      "name": "linear_svm:172.21.0.7:6001:base_thru_gauge",
      "count": 297198
    },
    {
      "name": "pred_ones_counter",
      "count": 117662
    },
    {
      "name": "pred_zeros_counter",
      "count": 193
    },
    {
      "name": "spark_svm:172.21.0.3:6001:alpha_gauge",
      "count": 63841
    },
    {
      "name": "spark_svm:172.21.0.3:6001:beta_gauge",
      "count": 8610023
    },
    {
      "name": "spark_svm:172.21.0.3:6001:max_batch_size_gauge",
      "count": 178
    },
    {
      "name": "spark_svm:172.21.0.3:6001:max_thru_gauge",
      "count": 8911717
    },
    {
      "name": "spark_svm:172.21.0.3:6001:base_thru_gauge",
      "count": 115289
    }
  ],
  "ratio_counters": [
    {
      "name": "prediction accuracy ratio",
      "ratio": null
    },
    {
      "name": "cache_hits",
      "ratio": 0.0
    },
    {
      "name": "update_cache_hits",
      "ratio": 0.0
    },
    {
      "name": "digits accuracy ratio",
      "ratio": 0.9983623944677782
    }
  ],
  "histograms": [
    {
      "name": "prediction_latency",
      "min": 17059,
      "max": 25445,
      "mean": 19113.10870622568,
      "std": 985.0901177627936,
      "p95": 20234.35,
      "p99": 20598.09,
      "p50": 19287.5
    },
    {
      "name": "in_time_predictions",
      "min": 0,
      "max": 3,
      "mean": 0.007295719844357977,
      "std": 0.13755088256442353,
      "p95": 0.0,
      "p99": 0.0,
      "p50": 0.0
    },
    {
      "name": "update_latency",
      "min": 142535,
      "max": 29446987,
      "mean": 15333446.679192372,
      "std": 8247543.01275277,
      "p95": 28091219.4,
      "p99": 29179351.720000004,
      "p50": 15458766.0
    },
    {
      "name": "logistic_reg:model_latency",
      "min": 2511,
      "max": 25168,
      "mean": 10405.924002918287,
      "std": 2375.9580308695665,
      "p95": 14688.0,
      "p99": 23018.0,
      "p50": 9707.0
    },
    {
      "name": "logistic_reg:model_batch_size",
      "min": 1,
      "max": 194,
      "mean": 135.93314309009376,
      "std": 17.175979987366515,
      "p95": 165.0,
      "p99": 172.0,
      "p50": 133.0
    },
    {
      "name": "rf_d16:model_latency",
      "min": 7583,
      "max": 27969,
      "mean": 15793.56602626459,
      "std": 1757.9427645649537,
      "p95": 19302.0,
      "p99": 19894.0,
      "p50": 14947.0
    },
    {
      "name": "rf_d16:model_batch_size",
      "min": 1,
      "max": 192,
      "mean": 156.04129263913826,
      "std": 21.862144993511927,
      "p95": 186.0,
      "p99": 188.0,
      "p50": 157.0
    },
    {
      "name": "spark_svm:model_latency",
      "min": 1657,
      "max": 22069,
      "mean": 16289.589980544748,
      "std": 1658.819767695377,
      "p95": 19150.0,
      "p99": 20122.0,
      "p50": 16008.0
    },
    {
      "name": "spark_svm:model_batch_size",
      "min": 1,
      "max": 209,
      "mean": 176.30006161429453,
      "std": 25.320179906096269,
      "p95": 198.0,
      "p99": 205.0,
      "p50": 178.0
    },
    {
      "name": "linear_svm:model_latency",
      "min": 2450,
      "max": 23125,
      "mean": 10770.257417315175,
      "std": 2638.3922974730514,
      "p95": 18960.0,
      "p99": 20140.0,
      "p50": 9882.0
    },
    {
      "name": "linear_svm:model_batch_size",
      "min": 1,
      "max": 185,
      "mean": 157.16156828953039,
      "std": 17.624341659158188,
      "p95": 175.0,
      "p99": 175.0,
      "p50": 158.0
    }
  ],
  "meters": [
    {
      "name": "prediction_thruput",
      "rate": 3925.770281064566,
      "unit": "events per second"
    },
    {
      "name": "update_thruput",
      "rate": 59.39203409255984,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:model_thruput",
      "rate": 11107.076139252764,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:model_thruput",
      "rate": 8685.460131024885,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:model_thruput",
      "rate": 9537.134543305252,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:model_thruput",
      "rate": 12150.617127516192,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:cache_included_thruput",
      "rate": 6.300038640236993,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:cache_included_thruput",
      "rate": 0.13333422667265205,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:cache_included_thruput",
      "rate": 6.433379224771803,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:cache_included_thruput",
      "rate": 3.800029260225304,
      "unit": "events per second"
    }
  ]
}
INFO:clipper_benchmarks: Submitted 120000 requests
INFO:clipper_benchmarks: Submitted 140000 requests
INFO:clipper_benchmarks: {
  "name": "caching_off_window_100_160907-095724",
  "counters": [
    {
      "name": "prediction_counter",
      "count": 157274
    },
    {
      "name": "queued_predictions",
      "count": 119
    },
    {
      "name": "update_counter",
      "count": 2405
    },
    {
      "name": "queued_updates",
      "count": 126600
    },
    {
      "name": "logistic_reg:prediction_counter",
      "count": 449021
    },
    {
      "name": "rf_d16:prediction_counter",
      "count": 352276
    },
    {
      "name": "spark_svm:prediction_counter",
      "count": 384213
    },
    {
      "name": "linear_svm:prediction_counter",
      "count": 495912
    },
    {
      "name": "rf_d16:172.21.0.5:6001:alpha_gauge",
      "count": 48560
    },
    {
      "name": "rf_d16:172.21.0.5:6001:beta_gauge",
      "count": 12378920
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_batch_size_gauge",
      "count": 157
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_thru_gauge",
      "count": 7848885
    },
    {
      "name": "rf_d16:172.21.0.5:6001:base_thru_gauge",
      "count": 80467
    },
    {
      "name": "logistic_reg:172.21.0.2:6001:alpha_gauge",
      "count": 126078
    },
    {
      "name": "logistic_reg:172.21.0.2:6001:beta_gauge",
      "count": 3193765
    },
    {
      "name": "logistic_reg:172.21.0.2:6001:max_batch_size_gauge",
      "count": 133
    },
    {
      "name": "logistic_reg:172.21.0.2:6001:max_thru_gauge",
      "count": 6662599
    },
    {
      "name": "logistic_reg:172.21.0.2:6001:base_thru_gauge",
      "count": 301219
    },
    {
      "name": "linear_svm:172.21.0.7:6001:alpha_gauge",
      "count": 106121
    },
    {
      "name": "linear_svm:172.21.0.7:6001:beta_gauge",
      "count": 3258638
    },
    {
      "name": "linear_svm:172.21.0.7:6001:max_batch_size_gauge",
      "count": 158
    },
    {
      "name": "linear_svm:172.21.0.7:6001:max_thru_gauge",
      "count": 7889859
    },
    {
      "name": "linear_svm:172.21.0.7:6001:base_thru_gauge",
      "count": 297198
    },
    {
      "name": "pred_ones_counter",
      "count": 157081
    },
    {
      "name": "pred_zeros_counter",
      "count": 193
    },
    {
      "name": "spark_svm:172.21.0.3:6001:alpha_gauge",
      "count": 63841
    },
    {
      "name": "spark_svm:172.21.0.3:6001:beta_gauge",
      "count": 8610023
    },
    {
      "name": "spark_svm:172.21.0.3:6001:max_batch_size_gauge",
      "count": 178
    },
    {
      "name": "spark_svm:172.21.0.3:6001:max_thru_gauge",
      "count": 8911717
    },
    {
      "name": "spark_svm:172.21.0.3:6001:base_thru_gauge",
      "count": 115289
    }
  ],
  "ratio_counters": [
    {
      "name": "prediction accuracy ratio",
      "ratio": null
    },
    {
      "name": "cache_hits",
      "ratio": 0.0
    },
    {
      "name": "update_cache_hits",
      "ratio": 0.0
    },
    {
      "name": "digits accuracy ratio",
      "ratio": 0.9987728423006982
    }
  ],
  "histograms": [
    {
      "name": "prediction_latency",
      "min": 17062,
      "max": 25445,
      "mean": 19123.590710116732,
      "std": 978.5163415298678,
      "p95": 20233.0,
      "p99": 20612.0,
      "p50": 19287.5
    },
    {
      "name": "in_time_predictions",
      "min": 0,
      "max": 3,
      "mean": 0.005836575875486381,
      "std": 0.12066861708560577,
      "p95": 0.0,
      "p99": 0.0,
      "p50": 0.0
    },
    {
      "name": "update_latency",
      "min": 142535,
      "max": 39257692,
      "mean": 20379681.550097277,
      "std": 11030258.135052713,
      "p95": 37387525.9,
      "p99": 38874401.22,
      "p50": 20462363.5
    },
    {
      "name": "logistic_reg:model_latency",
      "min": 2511,
      "max": 25168,
      "mean": 10191.955982490272,
      "std": 2125.3815201306344,
      "p95": 13623.0,
      "p99": 22785.0,
      "p50": 9640.0
    },
    {
      "name": "logistic_reg:model_batch_size",
      "min": 1,
      "max": 194,
      "mean": 135.16586393738712,
      "std": 14.814883108169154,
      "p95": 163.0,
      "p99": 170.0,
      "p50": 133.0
    },
    {
      "name": "rf_d16:model_latency",
      "min": 8051,
      "max": 27969,
      "mean": 15532.361746108949,
      "std": 1575.2944013828815,
      "p95": 19119.0,
      "p99": 19797.0,
      "p50": 14900.0
    },
    {
      "name": "rf_d16:model_batch_size",
      "min": 1,
      "max": 192,
      "mean": 156.28926353149957,
      "std": 18.826884387907815,
      "p95": 180.0,
      "p99": 188.0,
      "p50": 157.0
    },
    {
      "name": "spark_svm:model_latency",
      "min": 1657,
      "max": 22069,
      "mean": 16137.919747081713,
      "std": 1513.4673775749125,
      "p95": 18900.0,
      "p99": 19830.0,
      "p50": 15908.0
    },
    {
      "name": "spark_svm:model_batch_size",
      "min": 1,
      "max": 209,
      "mean": 176.73149425287358,
      "std": 21.883201631285677,
      "p95": 198.0,
      "p99": 203.23999999999979,
      "p50": 178.0
    },
    {
      "name": "linear_svm:model_latency",
      "min": 2748,
      "max": 23125,
      "mean": 10509.863205252917,
      "std": 2341.3179957204677,
      "p95": 18315.0,
      "p99": 20032.0,
      "p50": 9816.0
    },
    {
      "name": "linear_svm:model_batch_size",
      "min": 1,
      "max": 185,
      "mean": 157.38261421319798,
      "std": 15.127329742163062,
      "p95": 173.0,
      "p99": 175.0,
      "p50": 158.0
    }
  ],
  "meters": [
    {
      "name": "prediction_thruput",
      "rate": 3929.154305459882,
      "unit": "events per second"
    },
    {
      "name": "update_thruput",
      "rate": 60.08377652092899,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:model_thruput",
      "rate": 11221.150887847076,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:model_thruput",
      "rate": 8800.861508897207,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:model_thruput",
      "rate": 9603.186013996148,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:model_thruput",
      "rate": 12393.246683619202,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:cache_included_thruput",
      "rate": 4.724244239027861,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:cache_included_thruput",
      "rate": 0.09998405004441666,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:cache_included_thruput",
      "rate": 4.824231982268422,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:cache_included_thruput",
      "rate": 2.849547563085671,
      "unit": "events per second"
    }
  ]
}
INFO:clipper_benchmarks: Submitted 160000 requests
INFO:clipper_benchmarks: Submitted 160000 requests
INFO:clipper_benchmarks: writing results to: /tmp/benchmarking_logs/caching_off_window_100_160907-095724_results.json
/tmp/digits_bench.toml contains:
salt_update_cache = false
num_message_encodes = 1
use_lsh = false
window_size = 100
load_generator = "uniform"
input_type = "float"
request_generator = "cached_updates"
results_path = "/tmp/benchmarking_logs"
num_update_workers = 1
input_length = 784
num_benchmark_requests = 300000
redis_ip = "redis"
mnist_path = "/mnist_data/test.data"
bench_batch_size = 200
target_qps = 10000
name = "caching_on_window_100_160907-095850"
wait_to_end = false
salt_cache = false
num_predict_workers = 8
redis_port = 6379
cache_size = 1000000
slo_micros = 20000
correction_policy = "logistic_regression"
send_updates = true
[[models]]
version = 1
num_outputs = 1
name = "logistic_reg"
addresses = [ "logistic_reg_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "rf_d16"
addresses = [ "rf_d16_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "spark_svm"
addresses = [ "spark_svm_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "linear_svm"
addresses = [ "linear_svm_r0:6001",]
[batching]
sample_size = 500
opt_addr = "quantilereg:7777"
strategy = "learned"
INFO:clipper_benchmarks: Args { flag_conf: "/tmp/digits_bench.toml", cmd_digits: true }
INFO:clipper_benchmarks: MNIST data loaded: 10000 points
INFO:clipper::configuration: logistic_reg_r0:6001
/tmp/digits_bench.toml contains:
salt_update_cache = false
num_message_encodes = 1
use_lsh = false
window_size = 100
load_generator = "uniform"
input_type = "float"
request_generator = "cached_updates"
results_path = "/tmp/benchmarking_logs"
num_update_workers = 1
input_length = 784
num_benchmark_requests = 300000
redis_ip = "redis"
mnist_path = "/mnist_data/test.data"
bench_batch_size = 200
target_qps = 10000
name = "caching_on_window_100_160907-095850"
wait_to_end = false
salt_cache = false
num_predict_workers = 8
redis_port = 6379
cache_size = 1000000
slo_micros = 20000
correction_policy = "logistic_regression"
send_updates = true
[[models]]
version = 1
num_outputs = 1
name = "logistic_reg"
addresses = [ "logistic_reg_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "rf_d16"
addresses = [ "rf_d16_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "spark_svm"
addresses = [ "spark_svm_r0:6001",]
[[models]]
version = 1
num_outputs = 1
name = "linear_svm"
addresses = [ "linear_svm_r0:6001",]
[batching]
sample_size = 500
opt_addr = "quantilereg:7777"
strategy = "learned"
INFO:clipper::configuration: rf_d16_r0:6001
INFO:clipper::configuration: spark_svm_r0:6001
INFO:clipper::configuration: linear_svm_r0:6001
INFO:clipper::configuration: quantilereg:7777
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Connected to rf_d16 model wrapper at V4(172.21.0.5:6001)
INFO:clipper::batching: Connected to logistic_reg model wrapper at V4(172.21.0.6:6001)
INFO:clipper::batching: Connected to linear_svm model wrapper at V4(172.21.0.7:6001)
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting input prediction worker 0 
INFO:clipper::server: starting input prediction worker 1 
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting prediction worker 0 output thread with 20 ms SLO
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting input prediction worker 2 
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting prediction worker 1 output thread with 20 ms SLO
INFO:clipper::server: starting input prediction worker 3 
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting prediction worker 2 output thread with 20 ms SLO
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting input prediction worker 4 
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting prediction worker 4 output thread with 20 ms SLO
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting prediction worker 3 output thread with 20 ms SLO
INFO:clipper_benchmarks: starting benchmark
INFO:clipper::cmt: RedisCMT connection string redis://redis:6379/1
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting prediction worker 5 output thread with 20 ms SLO
INFO:clipper::server: starting input prediction worker 6 
INFO:clipper::server: starting prediction worker 7 output thread with 20 ms SLO
INFO:clipper::server: starting input prediction worker 7 
INFO:clipper::server: starting prediction worker 6 output thread with 20 ms SLO
INFO:clipper::cmt: RedisUpdateTable connection string redis://redis:6379/2
INFO:clipper::server: starting input prediction worker 5 
INFO:clipper::cmt: Trying to connect to Redis
INFO:clipper::server: starting update worker 0
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Couldn't connect to spark_svm model wrapper. Sleeping 1 second
INFO:clipper::batching: Connected to spark_svm model wrapper at V4(172.21.0.2:6001)
INFO:clipper::server: Error in getting correction state for update: failed to fill whole buffer
INFO:clipper::server: Creating model state for new user: 1
INFO:clipper_benchmarks: {
  "name": "caching_on_window_100_160907-095850",
  "counters": [
    {
      "name": "prediction_counter",
      "count": 0
    },
    {
      "name": "queued_predictions",
      "count": 0
    },
    {
      "name": "update_counter",
      "count": 1
    },
    {
      "name": "queued_updates",
      "count": 0
    },
    {
      "name": "logistic_reg:prediction_counter",
      "count": 393
    },
    {
      "name": "rf_d16:prediction_counter",
      "count": 399
    },
    {
      "name": "spark_svm:prediction_counter",
      "count": 389
    },
    {
      "name": "linear_svm:prediction_counter",
      "count": 393
    },
    {
      "name": "rf_d16:172.21.0.5:6001:alpha_gauge",
      "count": 0
    },
    {
      "name": "rf_d16:172.21.0.5:6001:beta_gauge",
      "count": 0
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_batch_size_gauge",
      "count": 0
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_thru_gauge",
      "count": 0
    },
    {
      "name": "rf_d16:172.21.0.5:6001:base_thru_gauge",
      "count": 0
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:alpha_gauge",
      "count": 0
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:beta_gauge",
      "count": 0
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:max_batch_size_gauge",
      "count": 0
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:max_thru_gauge",
      "count": 0
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:base_thru_gauge",
      "count": 0
    },
    {
      "name": "linear_svm:172.21.0.7:6001:alpha_gauge",
      "count": 0
    },
    {
      "name": "linear_svm:172.21.0.7:6001:beta_gauge",
      "count": 0
    },
    {
      "name": "linear_svm:172.21.0.7:6001:max_batch_size_gauge",
      "count": 0
    },
    {
      "name": "linear_svm:172.21.0.7:6001:max_thru_gauge",
      "count": 0
    },
    {
      "name": "linear_svm:172.21.0.7:6001:base_thru_gauge",
      "count": 0
    },
    {
      "name": "pred_ones_counter",
      "count": 0
    },
    {
      "name": "pred_zeros_counter",
      "count": 0
    },
    {
      "name": "spark_svm:172.21.0.2:6001:alpha_gauge",
      "count": 0
    },
    {
      "name": "spark_svm:172.21.0.2:6001:beta_gauge",
      "count": 0
    },
    {
      "name": "spark_svm:172.21.0.2:6001:max_batch_size_gauge",
      "count": 0
    },
    {
      "name": "spark_svm:172.21.0.2:6001:max_thru_gauge",
      "count": 0
    },
    {
      "name": "spark_svm:172.21.0.2:6001:base_thru_gauge",
      "count": 0
    }
  ],
  "ratio_counters": [
    {
      "name": "prediction accuracy ratio",
      "ratio": null
    },
    {
      "name": "cache_hits",
      "ratio": null
    },
    {
      "name": "update_cache_hits",
      "ratio": 0.01625
    },
    {
      "name": "digits accuracy ratio",
      "ratio": null
    }
  ],
  "histograms": [
    {
      "name": "prediction_latency",
      "min": 0,
      "max": 0,
      "mean": 0.0,
      "std": 0.0,
      "p95": 0.0,
      "p99": 0.0,
      "p50": 0.0
    },
    {
      "name": "in_time_predictions",
      "min": 0,
      "max": 0,
      "mean": 0.0,
      "std": 0.0,
      "p95": 0.0,
      "p99": 0.0,
      "p50": 0.0
    },
    {
      "name": "update_latency",
      "min": 233176,
      "max": 233176,
      "mean": 233176.0,
      "std": null,
      "p95": 233176.0,
      "p99": 233176.0,
      "p50": 233176.0
    },
    {
      "name": "logistic_reg:model_latency",
      "min": 1748,
      "max": 5946,
      "mean": 4142.6234096692119,
      "std": 1103.4947595473919,
      "p95": 5946.0,
      "p99": 5946.0,
      "p50": 4222.0
    },
    {
      "name": "logistic_reg:model_batch_size",
      "min": 1,
      "max": 37,
      "mean": 19.65,
      "std": 11.333578428722327,
      "p95": 36.9,
      "p99": 37.0,
      "p50": 20.0
    },
    {
      "name": "rf_d16:model_latency",
      "min": 7730,
      "max": 9785,
      "mean": 9168.977443609023,
      "std": 555.5088816395133,
      "p95": 9785.0,
      "p99": 9785.0,
      "p50": 9204.0
    },
    {
      "name": "rf_d16:model_batch_size",
      "min": 1,
      "max": 38,
      "mean": 19.95,
      "std": 11.749468073066116,
      "p95": 37.95,
      "p99": 38.0,
      "p50": 20.0
    },
    {
      "name": "spark_svm:model_latency",
      "min": 912,
      "max": 5797,
      "mean": 4349.7532133676099,
      "std": 1195.279627281,
      "p95": 5797.0,
      "p99": 5797.0,
      "p50": 4659.0
    },
    {
      "name": "spark_svm:model_batch_size",
      "min": 1,
      "max": 37,
      "mean": 19.45,
      "std": 11.13777356566383,
      "p95": 36.9,
      "p99": 37.0,
      "p50": 20.0
    },
    {
      "name": "linear_svm:model_latency",
      "min": 1386,
      "max": 6064,
      "mean": 4215.569974554707,
      "std": 1199.019989201321,
      "p95": 6064.0,
      "p99": 6064.0,
      "p50": 4451.0
    },
    {
      "name": "linear_svm:model_batch_size",
      "min": 1,
      "max": 37,
      "mean": 19.65,
      "std": 11.333578428722327,
      "p95": 36.9,
      "p99": 37.0,
      "p50": 20.0
    }
  ],
  "meters": [
    {
      "name": "prediction_thruput",
      "rate": 0.0,
      "unit": "events per second"
    },
    {
      "name": "update_thruput",
      "rate": 0.04995746870901458,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:model_thruput",
      "rate": 19.633293049279716,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:model_thruput",
      "rate": 19.93345423631115,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:model_thruput",
      "rate": 19.433890276655167,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:model_thruput",
      "rate": 19.633749145831997,
      "unit": "events per second"
    }
  ]
}
INFO:clipper_benchmarks: SLEEP TIME: 20
INFO:clipper_benchmarks: Submitted 0 requests
INFO:clipper::batching: Connected to opt server at V4(172.21.0.4:7777)
INFO:clipper::batching: Connected to opt server at V4(172.21.0.4:7777)
INFO:clipper::batching: Connected to opt server at V4(172.21.0.4:7777)
INFO:clipper::batching: logistic_reg BATCHER: Updated batching model: max_batch_size: 141, alpha = 135.66666663696333, beta = 926.3333328379459
INFO:clipper::batching: logistic_reg BATCHER: Predicted max thruput: 7030.548816587176, baseline: 941.6195861529528, increase: 7.4664428395239035
INFO:clipper::batching: spark_svm BATCHER: Updated batching model: max_batch_size: 99, alpha = 193.49999942552938, beta = 780.5000000680081
INFO:clipper::batching: spark_svm BATCHER: Predicted max thruput: 4965.641785728606, baseline: 1026.6940457084004, increase: 4.8365350967847505
INFO:clipper::batching: linear_svm BATCHER: Updated batching model: max_batch_size: 134, alpha = 143.96666666925475, beta = 737.2333327039039
INFO:clipper::batching: linear_svm BATCHER: Predicted max thruput: 6690.377007831612, baseline: 1134.8161605893663, increase: 5.8955602151074125
INFO:clipper::batching: Connected to opt server at V4(172.21.0.4:7777)
INFO:clipper::batching: rf_d16 BATCHER: Updated batching model: max_batch_size: 230, alpha = 52.656248231872105, beta = 7895.343751484664
INFO:clipper::batching: rf_d16 BATCHER: Predicted max thruput: 11496.389648034254, baseline: 125.81781580720494, increase: 91.37330491931743
INFO:clipper_benchmarks: Submitted 20000 requests
INFO:clipper_benchmarks: Submitted 20000 requests
INFO:clipper_benchmarks: {
  "name": "caching_on_window_100_160907-095850",
  "counters": [
    {
      "name": "prediction_counter",
      "count": 39249
    },
    {
      "name": "queued_predictions",
      "count": 115
    },
    {
      "name": "update_counter",
      "count": 900
    },
    {
      "name": "queued_updates",
      "count": 31135
    },
    {
      "name": "logistic_reg:prediction_counter",
      "count": 39315
    },
    {
      "name": "rf_d16:prediction_counter",
      "count": 39282
    },
    {
      "name": "spark_svm:prediction_counter",
      "count": 39321
    },
    {
      "name": "linear_svm:prediction_counter",
      "count": 39331
    },
    {
      "name": "rf_d16:172.21.0.5:6001:alpha_gauge",
      "count": 52656
    },
    {
      "name": "rf_d16:172.21.0.5:6001:beta_gauge",
      "count": 7895344
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_batch_size_gauge",
      "count": 230
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_thru_gauge",
      "count": 11496390
    },
    {
      "name": "rf_d16:172.21.0.5:6001:base_thru_gauge",
      "count": 125818
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:alpha_gauge",
      "count": 135667
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:beta_gauge",
      "count": 926333
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:max_batch_size_gauge",
      "count": 141
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:max_thru_gauge",
      "count": 7030549
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:base_thru_gauge",
      "count": 941620
    },
    {
      "name": "linear_svm:172.21.0.7:6001:alpha_gauge",
      "count": 143967
    },
    {
      "name": "linear_svm:172.21.0.7:6001:beta_gauge",
      "count": 737233
    },
    {
      "name": "linear_svm:172.21.0.7:6001:max_batch_size_gauge",
      "count": 134
    },
    {
      "name": "linear_svm:172.21.0.7:6001:max_thru_gauge",
      "count": 6690377
    },
    {
      "name": "linear_svm:172.21.0.7:6001:base_thru_gauge",
      "count": 1134816
    },
    {
      "name": "pred_ones_counter",
      "count": 38897
    },
    {
      "name": "pred_zeros_counter",
      "count": 352
    },
    {
      "name": "spark_svm:172.21.0.2:6001:alpha_gauge",
      "count": 193500
    },
    {
      "name": "spark_svm:172.21.0.2:6001:beta_gauge",
      "count": 780500
    },
    {
      "name": "spark_svm:172.21.0.2:6001:max_batch_size_gauge",
      "count": 99
    },
    {
      "name": "spark_svm:172.21.0.2:6001:max_thru_gauge",
      "count": 4965642
    },
    {
      "name": "spark_svm:172.21.0.2:6001:base_thru_gauge",
      "count": 1026694
    }
  ],
  "ratio_counters": [
    {
      "name": "prediction accuracy ratio",
      "ratio": null
    },
    {
      "name": "cache_hits",
      "ratio": 0.0
    },
    {
      "name": "update_cache_hits",
      "ratio": 0.9997225305216426
    },
    {
      "name": "digits accuracy ratio",
      "ratio": 0.9910316186399654
    }
  ],
  "histograms": [
    {
      "name": "prediction_latency",
      "min": 17051,
      "max": 21486,
      "mean": 19069.838278210118,
      "std": 969.3755542011082,
      "p95": 20231.0,
      "p99": 20435.61,
      "p50": 19202.0
    },
    {
      "name": "in_time_predictions",
      "min": 0,
      "max": 4,
      "mean": 3.716682879377432,
      "std": 0.5651294843640027,
      "p95": 4.0,
      "p99": 4.0,
      "p50": 4.0
    },
    {
      "name": "update_latency",
      "min": 23529,
      "max": 9728870,
      "mean": 5044255.611542731,
      "std": 2743393.4955434005,
      "p95": 9204194.5,
      "p99": 9643007.120000001,
      "p50": 5129857.0
    },
    {
      "name": "logistic_reg:model_latency",
      "min": 434,
      "max": 21839,
      "mean": 3847.367096303502,
      "std": 2442.686522559364,
      "p95": 7132.0,
      "p99": 17032.0,
      "p50": 3445.0
    },
    {
      "name": "logistic_reg:model_batch_size",
      "min": 1,
      "max": 141,
      "mean": 18.79302103250478,
      "std": 16.84261092745702,
      "p95": 52.0,
      "p99": 67.0,
      "p50": 14.0
    },
    {
      "name": "rf_d16:model_latency",
      "min": 3294,
      "max": 41497,
      "mean": 7725.886673151751,
      "std": 3517.831549367637,
      "p95": 9358.0,
      "p99": 31463.0,
      "p50": 7308.0
    },
    {
      "name": "rf_d16:model_batch_size",
      "min": 1,
      "max": 230,
      "mean": 32.53928866832093,
      "std": 24.349048144025699,
      "p95": 69.0,
      "p99": 77.0,
      "p50": 33.0
    },
    {
      "name": "spark_svm:model_latency",
      "min": 306,
      "max": 13711,
      "mean": 3589.4625486381326,
      "std": 2172.869510649062,
      "p95": 6930.0,
      "p99": 11933.0,
      "p50": 3292.0
    },
    {
      "name": "spark_svm:model_batch_size",
      "min": 1,
      "max": 99,
      "mean": 16.996978851963747,
      "std": 15.248983924529368,
      "p95": 47.0,
      "p99": 62.0,
      "p50": 13.0
    },
    {
      "name": "linear_svm:model_latency",
      "min": 369,
      "max": 20557,
      "mean": 3752.776629377432,
      "std": 2547.126294101137,
      "p95": 8269.0,
      "p99": 13985.0,
      "p50": 3169.5
    },
    {
      "name": "linear_svm:model_batch_size",
      "min": 1,
      "max": 134,
      "mean": 18.209431345353676,
      "std": 15.915626976462809,
      "p95": 50.0,
      "p99": 64.0,
      "p50": 14.0
    }
  ],
  "meters": [
    {
      "name": "prediction_thruput",
      "rate": 3921.837437145333,
      "unit": "events per second"
    },
    {
      "name": "update_thruput",
      "rate": 90.02967781865584,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:model_thruput",
      "rate": 3935.625882623083,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:model_thruput",
      "rate": 3930.92955092777,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:model_thruput",
      "rate": 3935.625489367706,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:model_thruput",
      "rate": 3935.625489367706,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:cache_included_thruput",
      "rate": 3874.8474051669174,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:cache_included_thruput",
      "rate": 3883.36527083529,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:cache_included_thruput",
      "rate": 2930.5516922764525,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:cache_included_thruput",
      "rate": 3879.3725797727527,
      "unit": "events per second"
    }
  ]
}
INFO:clipper_benchmarks: Submitted 40000 requests
INFO:clipper_benchmarks: Submitted 60000 requests
INFO:clipper_benchmarks: {
  "name": "caching_on_window_100_160907-095850",
  "counters": [
    {
      "name": "prediction_counter",
      "count": 79452
    },
    {
      "name": "queued_predictions",
      "count": 101
    },
    {
      "name": "update_counter",
      "count": 1745
    },
    {
      "name": "queued_updates",
      "count": 63301
    },
    {
      "name": "logistic_reg:prediction_counter",
      "count": 79628
    },
    {
      "name": "rf_d16:prediction_counter",
      "count": 79589
    },
    {
      "name": "spark_svm:prediction_counter",
      "count": 79628
    },
    {
      "name": "linear_svm:prediction_counter",
      "count": 79629
    },
    {
      "name": "rf_d16:172.21.0.5:6001:alpha_gauge",
      "count": 52656
    },
    {
      "name": "rf_d16:172.21.0.5:6001:beta_gauge",
      "count": 7895344
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_batch_size_gauge",
      "count": 230
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_thru_gauge",
      "count": 11496390
    },
    {
      "name": "rf_d16:172.21.0.5:6001:base_thru_gauge",
      "count": 125818
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:alpha_gauge",
      "count": 135667
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:beta_gauge",
      "count": 926333
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:max_batch_size_gauge",
      "count": 141
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:max_thru_gauge",
      "count": 7030549
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:base_thru_gauge",
      "count": 941620
    },
    {
      "name": "linear_svm:172.21.0.7:6001:alpha_gauge",
      "count": 143967
    },
    {
      "name": "linear_svm:172.21.0.7:6001:beta_gauge",
      "count": 737233
    },
    {
      "name": "linear_svm:172.21.0.7:6001:max_batch_size_gauge",
      "count": 134
    },
    {
      "name": "linear_svm:172.21.0.7:6001:max_thru_gauge",
      "count": 6690377
    },
    {
      "name": "linear_svm:172.21.0.7:6001:base_thru_gauge",
      "count": 1134816
    },
    {
      "name": "pred_ones_counter",
      "count": 79100
    },
    {
      "name": "pred_zeros_counter",
      "count": 352
    },
    {
      "name": "spark_svm:172.21.0.2:6001:alpha_gauge",
      "count": 193500
    },
    {
      "name": "spark_svm:172.21.0.2:6001:beta_gauge",
      "count": 780500
    },
    {
      "name": "spark_svm:172.21.0.2:6001:max_batch_size_gauge",
      "count": 99
    },
    {
      "name": "spark_svm:172.21.0.2:6001:max_thru_gauge",
      "count": 4965642
    },
    {
      "name": "spark_svm:172.21.0.2:6001:base_thru_gauge",
      "count": 1026694
    }
  ],
  "ratio_counters": [
    {
      "name": "prediction accuracy ratio",
      "ratio": null
    },
    {
      "name": "cache_hits",
      "ratio": 0.0
    },
    {
      "name": "update_cache_hits",
      "ratio": 0.9995460864137989
    },
    {
      "name": "digits accuracy ratio",
      "ratio": 0.9955696521170014
    }
  ],
  "histograms": [
    {
      "name": "prediction_latency",
      "min": 17042,
      "max": 21486,
      "mean": 19066.95598249027,
      "std": 975.6884745031259,
      "p95": 20236.0,
      "p99": 20463.09,
      "p50": 19215.0
    },
    {
      "name": "in_time_predictions",
      "min": 0,
      "max": 4,
      "mean": 3.8635700389105058,
      "std": 0.40982306931910597,
      "p95": 4.0,
      "p99": 4.0,
      "p50": 4.0
    },
    {
      "name": "update_latency",
      "min": 23529,
      "max": 19446261,
      "mean": 9690717.773065903,
      "std": 5554537.551978247,
      "p95": 18507751.299999998,
      "p99": 19277866.38,
      "p50": 9421262.0
    },
    {
      "name": "logistic_reg:model_latency",
      "min": 415,
      "max": 21839,
      "mean": 3959.859678988327,
      "std": 2164.2168829706645,
      "p95": 7195.0,
      "p99": 9274.0,
      "p50": 3752.0
    },
    {
      "name": "logistic_reg:model_batch_size",
      "min": 1,
      "max": 141,
      "mean": 20.24612255275871,
      "std": 17.54792705677977,
      "p95": 55.0,
      "p99": 66.0,
      "p50": 15.0
    },
    {
      "name": "rf_d16:model_latency",
      "min": 3252,
      "max": 41497,
      "mean": 7405.465345330739,
      "std": 2563.321458230969,
      "p95": 8784.0,
      "p99": 16367.0,
      "p50": 7244.0
    },
    {
      "name": "rf_d16:model_batch_size",
      "min": 1,
      "max": 230,
      "mean": 33.993597951344437,
      "std": 25.635966474866085,
      "p95": 69.0,
      "p99": 78.0,
      "p50": 40.0
    },
    {
      "name": "spark_svm:model_latency",
      "min": 307,
      "max": 13711,
      "mean": 3908.306420233463,
      "std": 2127.9847356415855,
      "p95": 7435.0,
      "p99": 10504.0,
      "p50": 3784.0
    },
    {
      "name": "spark_svm:model_batch_size",
      "min": 1,
      "max": 99,
      "mean": 18.428141633881049,
      "std": 16.441604986490448,
      "p95": 51.0,
      "p99": 64.0,
      "p50": 13.0
    },
    {
      "name": "linear_svm:model_latency",
      "min": 369,
      "max": 20557,
      "mean": 3858.7861138132295,
      "std": 2329.8095140972147,
      "p95": 8088.0,
      "p99": 10598.5,
      "p50": 3314.5
    },
    {
      "name": "linear_svm:model_batch_size",
      "min": 1,
      "max": 134,
      "mean": 19.294645020596076,
      "std": 16.78794572256672,
      "p95": 53.0,
      "p99": 66.0,
      "p50": 15.0
    }
  ],
  "meters": [
    {
      "name": "prediction_thruput",
      "rate": 3972.146164986679,
      "unit": "events per second"
    },
    {
      "name": "update_thruput",
      "rate": 87.23183268434882,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:model_thruput",
      "rate": 3978.290965610375,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:model_thruput",
      "rate": 3979.240223765127,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:model_thruput",
      "rate": 3978.2907668511677,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:model_thruput",
      "rate": 3978.3407278041847,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:cache_included_thruput",
      "rate": 3947.076704130437,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:cache_included_thruput",
      "rate": 3952.7314632223185,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:cache_included_thruput",
      "rate": 3475.3157011411547,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:cache_included_thruput",
      "rate": 3950.7372892485839,
      "unit": "events per second"
    }
  ]
}
INFO:clipper_benchmarks: Submitted 80000 requests
INFO:clipper_benchmarks: Submitted 100000 requests
INFO:clipper_benchmarks: {
  "name": "caching_on_window_100_160907-095850",
  "counters": [
    {
      "name": "prediction_counter",
      "count": 119337
    },
    {
      "name": "queued_predictions",
      "count": 49
    },
    {
      "name": "update_counter",
      "count": 2586
    },
    {
      "name": "queued_updates",
      "count": 95027
    },
    {
      "name": "logistic_reg:prediction_counter",
      "count": 119548
    },
    {
      "name": "rf_d16:prediction_counter",
      "count": 119580
    },
    {
      "name": "spark_svm:prediction_counter",
      "count": 119547
    },
    {
      "name": "linear_svm:prediction_counter",
      "count": 119548
    },
    {
      "name": "rf_d16:172.21.0.5:6001:alpha_gauge",
      "count": 52656
    },
    {
      "name": "rf_d16:172.21.0.5:6001:beta_gauge",
      "count": 7895344
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_batch_size_gauge",
      "count": 230
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_thru_gauge",
      "count": 11496390
    },
    {
      "name": "rf_d16:172.21.0.5:6001:base_thru_gauge",
      "count": 125818
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:alpha_gauge",
      "count": 135667
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:beta_gauge",
      "count": 926333
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:max_batch_size_gauge",
      "count": 141
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:max_thru_gauge",
      "count": 7030549
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:base_thru_gauge",
      "count": 941620
    },
    {
      "name": "linear_svm:172.21.0.7:6001:alpha_gauge",
      "count": 143967
    },
    {
      "name": "linear_svm:172.21.0.7:6001:beta_gauge",
      "count": 737233
    },
    {
      "name": "linear_svm:172.21.0.7:6001:max_batch_size_gauge",
      "count": 134
    },
    {
      "name": "linear_svm:172.21.0.7:6001:max_thru_gauge",
      "count": 6690377
    },
    {
      "name": "linear_svm:172.21.0.7:6001:base_thru_gauge",
      "count": 1134816
    },
    {
      "name": "pred_ones_counter",
      "count": 118985
    },
    {
      "name": "pred_zeros_counter",
      "count": 352
    },
    {
      "name": "spark_svm:172.21.0.2:6001:alpha_gauge",
      "count": 193500
    },
    {
      "name": "spark_svm:172.21.0.2:6001:beta_gauge",
      "count": 780500
    },
    {
      "name": "spark_svm:172.21.0.2:6001:max_batch_size_gauge",
      "count": 99
    },
    {
      "name": "spark_svm:172.21.0.2:6001:max_thru_gauge",
      "count": 4965642
    },
    {
      "name": "spark_svm:172.21.0.2:6001:base_thru_gauge",
      "count": 1026694
    }
  ],
  "ratio_counters": [
    {
      "name": "prediction accuracy ratio",
      "ratio": null
    },
    {
      "name": "cache_hits",
      "ratio": 0.0
    },
    {
      "name": "update_cache_hits",
      "ratio": 0.9993500800196029
    },
    {
      "name": "digits accuracy ratio",
      "ratio": 0.9970503699606995
    }
  ],
  "histograms": [
    {
      "name": "prediction_latency",
      "min": 17048,
      "max": 37926,
      "mean": 19086.22543774319,
      "std": 1019.0744774385145,
      "p95": 20240.35,
      "p99": 20484.87,
      "p50": 19231.0
    },
    {
      "name": "in_time_predictions",
      "min": 0,
      "max": 4,
      "mean": 3.9170719844357979,
      "std": 0.324437108371403,
      "p95": 4.0,
      "p99": 4.0,
      "p50": 4.0
    },
    {
      "name": "update_latency",
      "min": 40620,
      "max": 29182358,
      "mean": 14228672.879863814,
      "std": 8298675.611897714,
      "p95": 27641988.4,
      "p99": 28905888.46,
      "p50": 13842685.0
    },
    {
      "name": "logistic_reg:model_latency",
      "min": 348,
      "max": 21839,
      "mean": 3936.2811284046695,
      "std": 2049.3128082405157,
      "p95": 7122.0,
      "p99": 9151.0,
      "p50": 3727.5
    },
    {
      "name": "logistic_reg:model_batch_size",
      "min": 1,
      "max": 141,
      "mean": 20.276119402985075,
      "std": 17.50233949035424,
      "p95": 54.0,
      "p99": 65.0,
      "p50": 15.0
    },
    {
      "name": "rf_d16:model_latency",
      "min": 3283,
      "max": 41497,
      "mean": 7290.034897859922,
      "std": 2268.9624051716357,
      "p95": 8636.0,
      "p99": 10502.0,
      "p50": 7165.0
    },
    {
      "name": "rf_d16:model_batch_size",
      "min": 1,
      "max": 230,
      "mean": 34.16571428571429,
      "std": 26.05188551691877,
      "p95": 69.0,
      "p99": 78.0,
      "p50": 42.0
    },
    {
      "name": "spark_svm:model_latency",
      "min": 307,
      "max": 13711,
      "mean": 3916.6834873540858,
      "std": 2066.3809291525865,
      "p95": 7212.0,
      "p99": 10357.0,
      "p50": 3800.0
    },
    {
      "name": "spark_svm:model_batch_size",
      "min": 1,
      "max": 99,
      "mean": 18.69491790461298,
      "std": 16.6798769789382,
      "p95": 52.0,
      "p99": 63.0,
      "p50": 14.0
    },
    {
      "name": "linear_svm:model_latency",
      "min": 422,
      "max": 20557,
      "mean": 3850.1850680933855,
      "std": 2205.137562930969,
      "p95": 7950.0,
      "p99": 9727.0,
      "p50": 3429.0
    },
    {
      "name": "linear_svm:model_batch_size",
      "min": 1,
      "max": 134,
      "mean": 19.51934693877551,
      "std": 16.84187495568182,
      "p95": 52.0,
      "p99": 65.0,
      "p50": 15.0
    }
  ],
  "meters": [
    {
      "name": "prediction_thruput",
      "rate": 3976.2709355730605,
      "unit": "events per second"
    },
    {
      "name": "update_thruput",
      "rate": 86.16263688976528,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:model_thruput",
      "rate": 3982.5989442329234,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:model_thruput",
      "rate": 3982.7653416116966,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:model_thruput",
      "rate": 3982.232445537355,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:model_thruput",
      "rate": 3982.5321995791725,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:cache_included_thruput",
      "rate": 3959.4673196632618,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:cache_included_thruput",
      "rate": 3963.235725187349,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:cache_included_thruput",
      "rate": 3643.8804515517479,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:cache_included_thruput",
      "rate": 3961.473652200744,
      "unit": "events per second"
    }
  ]
}
INFO:clipper_benchmarks: Submitted 120000 requests
INFO:clipper_benchmarks: Submitted 120000 requests
INFO:clipper_benchmarks: Submitted 120000 requests
INFO:clipper_benchmarks: Submitted 140000 requests
INFO:clipper_benchmarks: {
  "name": "caching_on_window_100_160907-095850",
  "counters": [
    {
      "name": "prediction_counter",
      "count": 159286
    },
    {
      "name": "queued_predictions",
      "count": 105
    },
    {
      "name": "update_counter",
      "count": 3502
    },
    {
      "name": "queued_updates",
      "count": 126706
    },
    {
      "name": "logistic_reg:prediction_counter",
      "count": 159660
    },
    {
      "name": "rf_d16:prediction_counter",
      "count": 159619
    },
    {
      "name": "spark_svm:prediction_counter",
      "count": 159658
    },
    {
      "name": "linear_svm:prediction_counter",
      "count": 159608
    },
    {
      "name": "rf_d16:172.21.0.5:6001:alpha_gauge",
      "count": 52656
    },
    {
      "name": "rf_d16:172.21.0.5:6001:beta_gauge",
      "count": 7895344
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_batch_size_gauge",
      "count": 230
    },
    {
      "name": "rf_d16:172.21.0.5:6001:max_thru_gauge",
      "count": 11496390
    },
    {
      "name": "rf_d16:172.21.0.5:6001:base_thru_gauge",
      "count": 125818
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:alpha_gauge",
      "count": 135667
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:beta_gauge",
      "count": 926333
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:max_batch_size_gauge",
      "count": 141
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:max_thru_gauge",
      "count": 7030549
    },
    {
      "name": "logistic_reg:172.21.0.6:6001:base_thru_gauge",
      "count": 941620
    },
    {
      "name": "linear_svm:172.21.0.7:6001:alpha_gauge",
      "count": 143967
    },
    {
      "name": "linear_svm:172.21.0.7:6001:beta_gauge",
      "count": 737233
    },
    {
      "name": "linear_svm:172.21.0.7:6001:max_batch_size_gauge",
      "count": 134
    },
    {
      "name": "linear_svm:172.21.0.7:6001:max_thru_gauge",
      "count": 6690377
    },
    {
      "name": "linear_svm:172.21.0.7:6001:base_thru_gauge",
      "count": 1134816
    },
    {
      "name": "pred_ones_counter",
      "count": 158934
    },
    {
      "name": "pred_zeros_counter",
      "count": 352
    },
    {
      "name": "spark_svm:172.21.0.2:6001:alpha_gauge",
      "count": 193500
    },
    {
      "name": "spark_svm:172.21.0.2:6001:beta_gauge",
      "count": 780500
    },
    {
      "name": "spark_svm:172.21.0.2:6001:max_batch_size_gauge",
      "count": 99
    },
    {
      "name": "spark_svm:172.21.0.2:6001:max_thru_gauge",
      "count": 4965642
    },
    {
      "name": "spark_svm:172.21.0.2:6001:base_thru_gauge",
      "count": 1026694
    }
  ],
  "ratio_counters": [
    {
      "name": "prediction accuracy ratio",
      "ratio": null
    },
    {
      "name": "cache_hits",
      "ratio": 0.0
    },
    {
      "name": "update_cache_hits",
      "ratio": 0.9991972934090441
    },
    {
      "name": "digits accuracy ratio",
      "ratio": 0.9977901384930251
    }
  ],
  "histograms": [
    {
      "name": "prediction_latency",
      "min": 17061,
      "max": 37926,
      "mean": 19068.23200389105,
      "std": 1018.9336085009594,
      "p95": 20241.35,
      "p99": 20484.87,
      "p50": 19202.5
    },
    {
      "name": "in_time_predictions",
      "min": 0,
      "max": 4,
      "mean": 3.933852140077821,
      "std": 0.29427678815529048,
      "p95": 4.0,
      "p99": 4.0,
      "p50": 4.0
    },
    {
      "name": "update_latency",
      "min": 40620,
      "max": 38909405,
      "mean": 19500458.85019455,
      "std": 11419522.704126779,
      "p95": 37142279.349999997,
      "p99": 38578869.81,
      "p50": 19299846.5
    },
    {
      "name": "logistic_reg:model_latency",
      "min": 348,
      "max": 21839,
      "mean": 3917.215953307393,
      "std": 1989.808266193374,
      "p95": 7102.0,
      "p99": 8885.0,
      "p50": 3745.0
    },
    {
      "name": "logistic_reg:model_batch_size",
      "min": 1,
      "max": 141,
      "mean": 20.289744567289366,
      "std": 17.479501330120895,
      "p95": 54.5,
      "p99": 65.0,
      "p50": 15.0
    },
    {
      "name": "rf_d16:model_latency",
      "min": 3283,
      "max": 41497,
      "mean": 7234.071741245136,
      "std": 2078.316668565102,
      "p95": 8583.75,
      "p99": 9948.0,
      "p50": 7151.0
    },
    {
      "name": "rf_d16:model_batch_size",
      "min": 1,
      "max": 230,
      "mean": 34.159144385026738,
      "std": 26.355683995240609,
      "p95": 69.0,
      "p99": 78.0,
      "p50": 42.0
    },
    {
      "name": "spark_svm:model_latency",
      "min": 304,
      "max": 13711,
      "mean": 3911.8737840466926,
      "std": 2054.2016569465929,
      "p95": 7274.5,
      "p99": 9982.5,
      "p50": 3784.0
    },
    {
      "name": "spark_svm:model_batch_size",
      "min": 1,
      "max": 99,
      "mean": 18.726288910505838,
      "std": 16.670701966814133,
      "p95": 52.0,
      "p99": 63.0,
      "p50": 14.0
    },
    {
      "name": "linear_svm:model_latency",
      "min": 395,
      "max": 20557,
      "mean": 3858.2600924124515,
      "std": 2149.3909389799084,
      "p95": 7673.0,
      "p99": 9477.0,
      "p50": 3467.0
    },
    {
      "name": "linear_svm:model_batch_size",
      "min": 1,
      "max": 134,
      "mean": 19.633669454008854,
      "std": 16.880670635809623,
      "p95": 52.0,
      "p99": 65.0,
      "p50": 15.0
    }
  ],
  "meters": [
    {
      "name": "prediction_thruput",
      "rate": 3979.16654541636,
      "unit": "events per second"
    },
    {
      "name": "update_thruput",
      "rate": 87.52502824892768,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:model_thruput",
      "rate": 3988.0838074105724,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:model_thruput",
      "rate": 3989.607502213604,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:model_thruput",
      "rate": 3988.0338502039155,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:model_thruput",
      "rate": 3988.1087860139007,
      "unit": "events per second"
    },
    {
      "name": "spark_svm:cache_included_thruput",
      "rate": 3965.043558598604,
      "unit": "events per second"
    },
    {
      "name": "linear_svm:cache_included_thruput",
      "rate": 3969.3687659269019,
      "unit": "events per second"
    },
    {
      "name": "rf_d16:cache_included_thruput",
      "rate": 3728.827444413908,
      "unit": "events per second"
    },
    {
      "name": "logistic_reg:cache_included_thruput",
      "rate": 3968.0224995310347,
      "unit": "events per second"
    }
  ]
}
INFO:clipper_benchmarks: Submitted 160000 requests
INFO:clipper_benchmarks: Submitted 160000 requests
INFO:clipper_benchmarks: writing results to: /tmp/benchmarking_logs/caching_on_window_100_160907-095850_results.json
